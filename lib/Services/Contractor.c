/* Contractor.c generated by valac 0.36.7, the Vala compiler
 * generated from Contractor.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <gio/gio.h>
#include <stdlib.h>
#include <string.h>


#define GRANITE_SERVICES_TYPE_CONTRACTOR_DBUS (granite_services_contractor_dbus_get_type ())
#define GRANITE_SERVICES_CONTRACTOR_DBUS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRANITE_SERVICES_TYPE_CONTRACTOR_DBUS, GraniteServicesContractorDBus))
#define GRANITE_SERVICES_IS_CONTRACTOR_DBUS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRANITE_SERVICES_TYPE_CONTRACTOR_DBUS))
#define GRANITE_SERVICES_CONTRACTOR_DBUS_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), GRANITE_SERVICES_TYPE_CONTRACTOR_DBUS, GraniteServicesContractorDBusIface))

typedef struct _GraniteServicesContractorDBus GraniteServicesContractorDBus;
typedef struct _GraniteServicesContractorDBusIface GraniteServicesContractorDBusIface;

#define GRANITE_SERVICES_TYPE_CONTRACTOR_DBUS_PROXY (granite_services_contractor_dbus_proxy_get_type ())
typedef GDBusProxy GraniteServicesContractorDBusProxy;
typedef GDBusProxyClass GraniteServicesContractorDBusProxyClass;
#define _g_free0(var) (var = (g_free (var), NULL))

#define GRANITE_SERVICES_TYPE_CONTRACTOR (granite_services_contractor_get_type ())
#define GRANITE_SERVICES_CONTRACTOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRANITE_SERVICES_TYPE_CONTRACTOR, GraniteServicesContractor))
#define GRANITE_SERVICES_CONTRACTOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRANITE_SERVICES_TYPE_CONTRACTOR, GraniteServicesContractorClass))
#define GRANITE_SERVICES_IS_CONTRACTOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRANITE_SERVICES_TYPE_CONTRACTOR))
#define GRANITE_SERVICES_IS_CONTRACTOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRANITE_SERVICES_TYPE_CONTRACTOR))
#define GRANITE_SERVICES_CONTRACTOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRANITE_SERVICES_TYPE_CONTRACTOR, GraniteServicesContractorClass))

typedef struct _GraniteServicesContractor GraniteServicesContractor;
typedef struct _GraniteServicesContractorClass GraniteServicesContractorClass;
typedef struct _GraniteServicesContractorPrivate GraniteServicesContractorPrivate;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

struct _GraniteServicesContractorDBusIface {
	GTypeInterface parent_iface;
	GHashTable** (*GetServicesByLocation) (GraniteServicesContractorDBus* self, const gchar* strlocation, const gchar* file_mime, int* result_length1, GError** error);
	GHashTable** (*GetServicesByLocationsList) (GraniteServicesContractorDBus* self, GHashTable** locations, int locations_length1, int* result_length1, GError** error);
};

struct _GraniteServicesContractor {
	GObject parent_instance;
	GraniteServicesContractorPrivate * priv;
	GraniteServicesContractorDBus* contract;
};

struct _GraniteServicesContractorClass {
	GObjectClass parent_class;
};


static gpointer granite_services_contractor_parent_class = NULL;
extern GraniteServicesContractor* granite_services_contractor_contractor;
GraniteServicesContractor* granite_services_contractor_contractor = NULL;

GType granite_services_contractor_dbus_proxy_get_type (void) G_GNUC_CONST;
guint granite_services_contractor_dbus_register_object (void* object, GDBusConnection* connection, const gchar* path, GError** error);
GType granite_services_contractor_dbus_get_type (void) G_GNUC_CONST;
GHashTable** granite_services_contractor_dbus_GetServicesByLocation (GraniteServicesContractorDBus* self, const gchar* strlocation, const gchar* file_mime, int* result_length1, GError** error);
GHashTable** granite_services_contractor_dbus_GetServicesByLocationsList (GraniteServicesContractorDBus* self, GHashTable** locations, int locations_length1, int* result_length1, GError** error);
static void granite_services_contractor_dbus_proxy_g_signal (GDBusProxy* proxy, const gchar* sender_name, const gchar* signal_name, GVariant* parameters);
static GHashTable** granite_services_contractor_dbus_proxy_GetServicesByLocation (GraniteServicesContractorDBus* self, const gchar* strlocation, const gchar* file_mime, int* result_length1, GError** error);
static GHashTable** granite_services_contractor_dbus_proxy_GetServicesByLocationsList (GraniteServicesContractorDBus* self, GHashTable** locations, int locations_length1, int* result_length1, GError** error);
static void granite_services_contractor_dbus_proxy_granite_services_contractor_dbus_interface_init (GraniteServicesContractorDBusIface* iface);
static void _dbus_granite_services_contractor_dbus_GetServicesByLocation (GraniteServicesContractorDBus* self, GVariant* _parameters_, GDBusMethodInvocation* invocation);
static void _dbus_granite_services_contractor_dbus_GetServicesByLocationsList (GraniteServicesContractorDBus* self, GVariant* _parameters_, GDBusMethodInvocation* invocation);
static void granite_services_contractor_dbus_dbus_interface_method_call (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* method_name, GVariant* parameters, GDBusMethodInvocation* invocation, gpointer user_data);
static GVariant* granite_services_contractor_dbus_dbus_interface_get_property (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* property_name, GError** error, gpointer user_data);
static gboolean granite_services_contractor_dbus_dbus_interface_set_property (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* property_name, GVariant* value, GError** error, gpointer user_data);
static void _granite_services_contractor_dbus_unregister_object (gpointer user_data);
GType granite_services_contractor_get_type (void) G_GNUC_CONST;
enum  {
	GRANITE_SERVICES_CONTRACTOR_0_PROPERTY
};
GraniteServicesContractor* granite_services_contractor_new (void);
GraniteServicesContractor* granite_services_contractor_construct (GType object_type);
void granite_services_contractor_ensure (void);
GHashTable** granite_services_contractor_get_contract (const gchar* uri, const gchar* mime, int* result_length1);
static void _g_free0_ (gpointer var);
GHashTable** granite_services_contractor_get_selection_contracts (GHashTable** locations, int locations_length1, int* result_length1);
static void granite_services_contractor_finalize (GObject * obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);

static const GDBusArgInfo _granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocation_strlocation = {-1, "strlocation", "s"};
static const GDBusArgInfo _granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocation_file_mime = {-1, "file_mime", "s"};
static const GDBusArgInfo _granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocation_result = {-1, "result", "aa{ss}"};
static const GDBusArgInfo * const _granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocation_in[] = {&_granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocation_strlocation, &_granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocation_file_mime, NULL};
static const GDBusArgInfo * const _granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocation_out[] = {&_granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocation_result, NULL};
static const GDBusMethodInfo _granite_services_contractor_dbus_dbus_method_info_GetServicesByLocation = {-1, "GetServicesByLocation", (GDBusArgInfo **) (&_granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocation_in), (GDBusArgInfo **) (&_granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocation_out)};
static const GDBusArgInfo _granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocationsList_locations = {-1, "locations", "aa{ss}"};
static const GDBusArgInfo _granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocationsList_result = {-1, "result", "aa{ss}"};
static const GDBusArgInfo * const _granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocationsList_in[] = {&_granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocationsList_locations, NULL};
static const GDBusArgInfo * const _granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocationsList_out[] = {&_granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocationsList_result, NULL};
static const GDBusMethodInfo _granite_services_contractor_dbus_dbus_method_info_GetServicesByLocationsList = {-1, "GetServicesByLocationsList", (GDBusArgInfo **) (&_granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocationsList_in), (GDBusArgInfo **) (&_granite_services_contractor_dbus_dbus_arg_info_GetServicesByLocationsList_out)};
static const GDBusMethodInfo * const _granite_services_contractor_dbus_dbus_method_info[] = {&_granite_services_contractor_dbus_dbus_method_info_GetServicesByLocation, &_granite_services_contractor_dbus_dbus_method_info_GetServicesByLocationsList, NULL};
static const GDBusSignalInfo * const _granite_services_contractor_dbus_dbus_signal_info[] = {NULL};
static const GDBusPropertyInfo * const _granite_services_contractor_dbus_dbus_property_info[] = {NULL};
static const GDBusInterfaceInfo _granite_services_contractor_dbus_dbus_interface_info = {-1, "org.elementary.Contractor", (GDBusMethodInfo **) (&_granite_services_contractor_dbus_dbus_method_info), (GDBusSignalInfo **) (&_granite_services_contractor_dbus_dbus_signal_info), (GDBusPropertyInfo **) (&_granite_services_contractor_dbus_dbus_property_info)};
static const GDBusInterfaceVTable _granite_services_contractor_dbus_dbus_interface_vtable = {granite_services_contractor_dbus_dbus_interface_method_call, granite_services_contractor_dbus_dbus_interface_get_property, granite_services_contractor_dbus_dbus_interface_set_property};

GHashTable** granite_services_contractor_dbus_GetServicesByLocation (GraniteServicesContractorDBus* self, const gchar* strlocation, const gchar* file_mime, int* result_length1, GError** error) {
	g_return_val_if_fail (self != NULL, NULL);
	return GRANITE_SERVICES_CONTRACTOR_DBUS_GET_INTERFACE (self)->GetServicesByLocation (self, strlocation, file_mime, result_length1, error);
}


GHashTable** granite_services_contractor_dbus_GetServicesByLocationsList (GraniteServicesContractorDBus* self, GHashTable** locations, int locations_length1, int* result_length1, GError** error) {
	g_return_val_if_fail (self != NULL, NULL);
	return GRANITE_SERVICES_CONTRACTOR_DBUS_GET_INTERFACE (self)->GetServicesByLocationsList (self, locations, locations_length1, result_length1, error);
}


static void granite_services_contractor_dbus_base_init (GraniteServicesContractorDBusIface * iface) {
	static gboolean initialized = FALSE;
	if (!initialized) {
		initialized = TRUE;
	}
}


GType granite_services_contractor_dbus_get_type (void) {
	static volatile gsize granite_services_contractor_dbus_type_id__volatile = 0;
	if (g_once_init_enter (&granite_services_contractor_dbus_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (GraniteServicesContractorDBusIface), (GBaseInitFunc) granite_services_contractor_dbus_base_init, (GBaseFinalizeFunc) NULL, (GClassInitFunc) NULL, (GClassFinalizeFunc) NULL, NULL, 0, 0, (GInstanceInitFunc) NULL, NULL };
		GType granite_services_contractor_dbus_type_id;
		granite_services_contractor_dbus_type_id = g_type_register_static (G_TYPE_INTERFACE, "GraniteServicesContractorDBus", &g_define_type_info, 0);
		g_type_interface_add_prerequisite (granite_services_contractor_dbus_type_id, G_TYPE_OBJECT);
		g_type_set_qdata (granite_services_contractor_dbus_type_id, g_quark_from_static_string ("vala-dbus-proxy-type"), (void*) granite_services_contractor_dbus_proxy_get_type);
		g_type_set_qdata (granite_services_contractor_dbus_type_id, g_quark_from_static_string ("vala-dbus-interface-name"), "org.elementary.Contractor");
		g_type_set_qdata (granite_services_contractor_dbus_type_id, g_quark_from_static_string ("vala-dbus-interface-info"), (void*) (&_granite_services_contractor_dbus_dbus_interface_info));
		g_type_set_qdata (granite_services_contractor_dbus_type_id, g_quark_from_static_string ("vala-dbus-register-object"), (void*) granite_services_contractor_dbus_register_object);
		g_once_init_leave (&granite_services_contractor_dbus_type_id__volatile, granite_services_contractor_dbus_type_id);
	}
	return granite_services_contractor_dbus_type_id__volatile;
}


G_DEFINE_TYPE_EXTENDED (GraniteServicesContractorDBusProxy, granite_services_contractor_dbus_proxy, G_TYPE_DBUS_PROXY, 0, G_IMPLEMENT_INTERFACE (GRANITE_SERVICES_TYPE_CONTRACTOR_DBUS, granite_services_contractor_dbus_proxy_granite_services_contractor_dbus_interface_init) )
static void granite_services_contractor_dbus_proxy_class_init (GraniteServicesContractorDBusProxyClass* klass) {
	G_DBUS_PROXY_CLASS (klass)->g_signal = granite_services_contractor_dbus_proxy_g_signal;
}


static void granite_services_contractor_dbus_proxy_g_signal (GDBusProxy* proxy, const gchar* sender_name, const gchar* signal_name, GVariant* parameters) {
}


static void granite_services_contractor_dbus_proxy_init (GraniteServicesContractorDBusProxy* self) {
}


static GHashTable** granite_services_contractor_dbus_proxy_GetServicesByLocation (GraniteServicesContractorDBus* self, const gchar* strlocation, const gchar* file_mime, int* result_length1, GError** error) {
	GDBusMessage *_message;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	GDBusMessage *_reply_message;
	GVariant *_reply;
	GVariantIter _reply_iter;
	GHashTable** _result = NULL;
	int _result_length1;
	GVariant* _tmp0_;
	GHashTable** _tmp1_;
	int _tmp1__length;
	int _tmp1__size;
	int _tmp1__length1;
	GVariantIter _tmp2_;
	GVariant* _tmp3_;
	G_IO_ERROR;
	_message = g_dbus_message_new_method_call (g_dbus_proxy_get_name ((GDBusProxy *) self), g_dbus_proxy_get_object_path ((GDBusProxy *) self), "org.elementary.Contractor", "GetServicesByLocation");
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_string (strlocation));
	g_variant_builder_add_value (&_arguments_builder, g_variant_new_string (file_mime));
	_arguments = g_variant_builder_end (&_arguments_builder);
	g_dbus_message_set_body (_message, _arguments);
	_reply_message = g_dbus_connection_send_message_with_reply_sync (g_dbus_proxy_get_connection ((GDBusProxy *) self), _message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, g_dbus_proxy_get_default_timeout ((GDBusProxy *) self), NULL, NULL, error);
	g_object_unref (_message);
	if (!_reply_message) {
		return NULL;
	}
	if (g_dbus_message_to_gerror (_reply_message, error)) {
		g_object_unref (_reply_message);
		return NULL;
	}
	_reply = g_dbus_message_get_body (_reply_message);
	g_variant_iter_init (&_reply_iter, _reply);
	_result_length1 = 0;
	_tmp0_ = g_variant_iter_next_value (&_reply_iter);
	_tmp1_ = g_new (GHashTable*, 5);
	_tmp1__length = 0;
	_tmp1__size = 4;
	_tmp1__length1 = 0;
	g_variant_iter_init (&_tmp2_, _tmp0_);
	for (; (_tmp3_ = g_variant_iter_next_value (&_tmp2_)) != NULL; _tmp1__length1++) {
		GHashTable* _tmp4_;
		GVariantIter _tmp5_;
		GVariant* _tmp6_;
		GVariant* _tmp7_;
		if (_tmp1__size == _tmp1__length) {
			_tmp1__size = 2 * _tmp1__size;
			_tmp1_ = g_renew (GHashTable*, _tmp1_, _tmp1__size + 1);
		}
		_tmp4_ = g_hash_table_new_full (g_str_hash, g_str_equal, g_free, g_free);
		g_variant_iter_init (&_tmp5_, _tmp3_);
		while (g_variant_iter_loop (&_tmp5_, "{?*}", &_tmp6_, &_tmp7_)) {
			g_hash_table_insert (_tmp4_, g_variant_dup_string (_tmp6_, NULL), g_variant_dup_string (_tmp7_, NULL));
		}
		_tmp1_[_tmp1__length++] = _tmp4_;
		g_variant_unref (_tmp3_);
	}
	_result_length1 = _tmp1__length1;
	_tmp1_[_tmp1__length] = NULL;
	_result = _tmp1_;
	g_variant_unref (_tmp0_);
	*result_length1 = _result_length1;
	g_object_unref (_reply_message);
	return _result;
}


static GHashTable** granite_services_contractor_dbus_proxy_GetServicesByLocationsList (GraniteServicesContractorDBus* self, GHashTable** locations, int locations_length1, int* result_length1, GError** error) {
	GDBusMessage *_message;
	GVariant *_arguments;
	GVariantBuilder _arguments_builder;
	GHashTable** _tmp8_;
	GVariantBuilder _tmp9_;
	int _tmp10_;
	GDBusMessage *_reply_message;
	GVariant *_reply;
	GVariantIter _reply_iter;
	GHashTable** _result = NULL;
	int _result_length1;
	GVariant* _tmp15_;
	GHashTable** _tmp16_;
	int _tmp16__length;
	int _tmp16__size;
	int _tmp16__length1;
	GVariantIter _tmp17_;
	GVariant* _tmp18_;
	G_IO_ERROR;
	_message = g_dbus_message_new_method_call (g_dbus_proxy_get_name ((GDBusProxy *) self), g_dbus_proxy_get_object_path ((GDBusProxy *) self), "org.elementary.Contractor", "GetServicesByLocationsList");
	g_variant_builder_init (&_arguments_builder, G_VARIANT_TYPE_TUPLE);
	_tmp8_ = locations;
	g_variant_builder_init (&_tmp9_, G_VARIANT_TYPE ("aa{ss}"));
	for (_tmp10_ = 0; _tmp10_ < locations_length1; _tmp10_++) {
		GVariantBuilder _tmp11_;
		GHashTableIter _tmp12_;
		gpointer _tmp13_;
		gpointer _tmp14_;
		g_hash_table_iter_init (&_tmp12_, *_tmp8_);
		g_variant_builder_init (&_tmp11_, G_VARIANT_TYPE ("a{ss}"));
		while (g_hash_table_iter_next (&_tmp12_, &_tmp13_, &_tmp14_)) {
			gchar* _key;
			gchar* _value;
			_key = (gchar*) _tmp13_;
			_value = (gchar*) _tmp14_;
			g_variant_builder_add (&_tmp11_, "{?*}", g_variant_new_string (_key), g_variant_new_string (_value));
		}
		g_variant_builder_add_value (&_tmp9_, g_variant_builder_end (&_tmp11_));
		_tmp8_++;
	}
	g_variant_builder_add_value (&_arguments_builder, g_variant_builder_end (&_tmp9_));
	_arguments = g_variant_builder_end (&_arguments_builder);
	g_dbus_message_set_body (_message, _arguments);
	_reply_message = g_dbus_connection_send_message_with_reply_sync (g_dbus_proxy_get_connection ((GDBusProxy *) self), _message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, g_dbus_proxy_get_default_timeout ((GDBusProxy *) self), NULL, NULL, error);
	g_object_unref (_message);
	if (!_reply_message) {
		return NULL;
	}
	if (g_dbus_message_to_gerror (_reply_message, error)) {
		g_object_unref (_reply_message);
		return NULL;
	}
	_reply = g_dbus_message_get_body (_reply_message);
	g_variant_iter_init (&_reply_iter, _reply);
	_result_length1 = 0;
	_tmp15_ = g_variant_iter_next_value (&_reply_iter);
	_tmp16_ = g_new (GHashTable*, 5);
	_tmp16__length = 0;
	_tmp16__size = 4;
	_tmp16__length1 = 0;
	g_variant_iter_init (&_tmp17_, _tmp15_);
	for (; (_tmp18_ = g_variant_iter_next_value (&_tmp17_)) != NULL; _tmp16__length1++) {
		GHashTable* _tmp19_;
		GVariantIter _tmp20_;
		GVariant* _tmp21_;
		GVariant* _tmp22_;
		if (_tmp16__size == _tmp16__length) {
			_tmp16__size = 2 * _tmp16__size;
			_tmp16_ = g_renew (GHashTable*, _tmp16_, _tmp16__size + 1);
		}
		_tmp19_ = g_hash_table_new_full (g_str_hash, g_str_equal, g_free, g_free);
		g_variant_iter_init (&_tmp20_, _tmp18_);
		while (g_variant_iter_loop (&_tmp20_, "{?*}", &_tmp21_, &_tmp22_)) {
			g_hash_table_insert (_tmp19_, g_variant_dup_string (_tmp21_, NULL), g_variant_dup_string (_tmp22_, NULL));
		}
		_tmp16_[_tmp16__length++] = _tmp19_;
		g_variant_unref (_tmp18_);
	}
	_result_length1 = _tmp16__length1;
	_tmp16_[_tmp16__length] = NULL;
	_result = _tmp16_;
	g_variant_unref (_tmp15_);
	*result_length1 = _result_length1;
	g_object_unref (_reply_message);
	return _result;
}


static void granite_services_contractor_dbus_proxy_granite_services_contractor_dbus_interface_init (GraniteServicesContractorDBusIface* iface) {
	iface->GetServicesByLocation = granite_services_contractor_dbus_proxy_GetServicesByLocation;
	iface->GetServicesByLocationsList = granite_services_contractor_dbus_proxy_GetServicesByLocationsList;
}


static void _dbus_granite_services_contractor_dbus_GetServicesByLocation (GraniteServicesContractorDBus* self, GVariant* _parameters_, GDBusMethodInvocation* invocation) {
	GError* error = NULL;
	GVariantIter _arguments_iter;
	gchar* strlocation = NULL;
	GVariant* _tmp23_;
	gchar* file_mime = NULL;
	GVariant* _tmp24_;
	GDBusMessage* _reply_message = NULL;
	GVariant* _reply;
	GVariantBuilder _reply_builder;
	GHashTable** result;
	int result_length1 = 0;
	GHashTable** _tmp25_;
	GVariantBuilder _tmp26_;
	int _tmp27_;
	g_variant_iter_init (&_arguments_iter, _parameters_);
	_tmp23_ = g_variant_iter_next_value (&_arguments_iter);
	strlocation = g_variant_dup_string (_tmp23_, NULL);
	g_variant_unref (_tmp23_);
	_tmp24_ = g_variant_iter_next_value (&_arguments_iter);
	file_mime = g_variant_dup_string (_tmp24_, NULL);
	g_variant_unref (_tmp24_);
	result = granite_services_contractor_dbus_GetServicesByLocation (self, strlocation, file_mime, &result_length1, &error);
	if (error) {
		g_dbus_method_invocation_return_gerror (invocation, error);
		return;
	}
	_reply_message = g_dbus_message_new_method_reply (g_dbus_method_invocation_get_message (invocation));
	g_variant_builder_init (&_reply_builder, G_VARIANT_TYPE_TUPLE);
	_tmp25_ = result;
	g_variant_builder_init (&_tmp26_, G_VARIANT_TYPE ("aa{ss}"));
	for (_tmp27_ = 0; _tmp27_ < result_length1; _tmp27_++) {
		GVariantBuilder _tmp28_;
		GHashTableIter _tmp29_;
		gpointer _tmp30_;
		gpointer _tmp31_;
		g_hash_table_iter_init (&_tmp29_, *_tmp25_);
		g_variant_builder_init (&_tmp28_, G_VARIANT_TYPE ("a{ss}"));
		while (g_hash_table_iter_next (&_tmp29_, &_tmp30_, &_tmp31_)) {
			gchar* _key;
			gchar* _value;
			_key = (gchar*) _tmp30_;
			_value = (gchar*) _tmp31_;
			g_variant_builder_add (&_tmp28_, "{?*}", g_variant_new_string (_key), g_variant_new_string (_value));
		}
		g_variant_builder_add_value (&_tmp26_, g_variant_builder_end (&_tmp28_));
		_tmp25_++;
	}
	g_variant_builder_add_value (&_reply_builder, g_variant_builder_end (&_tmp26_));
	result = (_vala_array_free (result, result_length1, (GDestroyNotify) g_hash_table_unref), NULL);
	_reply = g_variant_builder_end (&_reply_builder);
	g_dbus_message_set_body (_reply_message, _reply);
	g_dbus_connection_send_message (g_dbus_method_invocation_get_connection (invocation), _reply_message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, NULL, NULL);
	g_object_unref (invocation);
	g_object_unref (_reply_message);
	_g_free0 (strlocation);
	_g_free0 (file_mime);
}


static void _dbus_granite_services_contractor_dbus_GetServicesByLocationsList (GraniteServicesContractorDBus* self, GVariant* _parameters_, GDBusMethodInvocation* invocation) {
	GError* error = NULL;
	GVariantIter _arguments_iter;
	GHashTable** locations = NULL;
	int locations_length1 = 0;
	GVariant* _tmp32_;
	GHashTable** _tmp33_;
	int _tmp33__length;
	int _tmp33__size;
	int _tmp33__length1;
	GVariantIter _tmp34_;
	GVariant* _tmp35_;
	GDBusMessage* _reply_message = NULL;
	GVariant* _reply;
	GVariantBuilder _reply_builder;
	GHashTable** result;
	int result_length1 = 0;
	GHashTable** _tmp40_;
	GVariantBuilder _tmp41_;
	int _tmp42_;
	g_variant_iter_init (&_arguments_iter, _parameters_);
	_tmp32_ = g_variant_iter_next_value (&_arguments_iter);
	_tmp33_ = g_new (GHashTable*, 5);
	_tmp33__length = 0;
	_tmp33__size = 4;
	_tmp33__length1 = 0;
	g_variant_iter_init (&_tmp34_, _tmp32_);
	for (; (_tmp35_ = g_variant_iter_next_value (&_tmp34_)) != NULL; _tmp33__length1++) {
		GHashTable* _tmp36_;
		GVariantIter _tmp37_;
		GVariant* _tmp38_;
		GVariant* _tmp39_;
		if (_tmp33__size == _tmp33__length) {
			_tmp33__size = 2 * _tmp33__size;
			_tmp33_ = g_renew (GHashTable*, _tmp33_, _tmp33__size + 1);
		}
		_tmp36_ = g_hash_table_new_full (g_str_hash, g_str_equal, g_free, g_free);
		g_variant_iter_init (&_tmp37_, _tmp35_);
		while (g_variant_iter_loop (&_tmp37_, "{?*}", &_tmp38_, &_tmp39_)) {
			g_hash_table_insert (_tmp36_, g_variant_dup_string (_tmp38_, NULL), g_variant_dup_string (_tmp39_, NULL));
		}
		_tmp33_[_tmp33__length++] = _tmp36_;
		g_variant_unref (_tmp35_);
	}
	locations_length1 = _tmp33__length1;
	_tmp33_[_tmp33__length] = NULL;
	locations = _tmp33_;
	g_variant_unref (_tmp32_);
	result = granite_services_contractor_dbus_GetServicesByLocationsList (self, locations, locations_length1, &result_length1, &error);
	if (error) {
		g_dbus_method_invocation_return_gerror (invocation, error);
		return;
	}
	_reply_message = g_dbus_message_new_method_reply (g_dbus_method_invocation_get_message (invocation));
	g_variant_builder_init (&_reply_builder, G_VARIANT_TYPE_TUPLE);
	_tmp40_ = result;
	g_variant_builder_init (&_tmp41_, G_VARIANT_TYPE ("aa{ss}"));
	for (_tmp42_ = 0; _tmp42_ < result_length1; _tmp42_++) {
		GVariantBuilder _tmp43_;
		GHashTableIter _tmp44_;
		gpointer _tmp45_;
		gpointer _tmp46_;
		g_hash_table_iter_init (&_tmp44_, *_tmp40_);
		g_variant_builder_init (&_tmp43_, G_VARIANT_TYPE ("a{ss}"));
		while (g_hash_table_iter_next (&_tmp44_, &_tmp45_, &_tmp46_)) {
			gchar* _key;
			gchar* _value;
			_key = (gchar*) _tmp45_;
			_value = (gchar*) _tmp46_;
			g_variant_builder_add (&_tmp43_, "{?*}", g_variant_new_string (_key), g_variant_new_string (_value));
		}
		g_variant_builder_add_value (&_tmp41_, g_variant_builder_end (&_tmp43_));
		_tmp40_++;
	}
	g_variant_builder_add_value (&_reply_builder, g_variant_builder_end (&_tmp41_));
	result = (_vala_array_free (result, result_length1, (GDestroyNotify) g_hash_table_unref), NULL);
	_reply = g_variant_builder_end (&_reply_builder);
	g_dbus_message_set_body (_reply_message, _reply);
	g_dbus_connection_send_message (g_dbus_method_invocation_get_connection (invocation), _reply_message, G_DBUS_SEND_MESSAGE_FLAGS_NONE, NULL, NULL);
	g_object_unref (invocation);
	g_object_unref (_reply_message);
	locations = (_vala_array_free (locations, locations_length1, (GDestroyNotify) g_hash_table_unref), NULL);
}


static void granite_services_contractor_dbus_dbus_interface_method_call (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* method_name, GVariant* parameters, GDBusMethodInvocation* invocation, gpointer user_data) {
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	if (strcmp (method_name, "GetServicesByLocation") == 0) {
		_dbus_granite_services_contractor_dbus_GetServicesByLocation (object, parameters, invocation);
	} else if (strcmp (method_name, "GetServicesByLocationsList") == 0) {
		_dbus_granite_services_contractor_dbus_GetServicesByLocationsList (object, parameters, invocation);
	} else {
		g_object_unref (invocation);
	}
}


static GVariant* granite_services_contractor_dbus_dbus_interface_get_property (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* property_name, GError** error, gpointer user_data) {
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	return NULL;
}


static gboolean granite_services_contractor_dbus_dbus_interface_set_property (GDBusConnection* connection, const gchar* sender, const gchar* object_path, const gchar* interface_name, const gchar* property_name, GVariant* value, GError** error, gpointer user_data) {
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	return FALSE;
}


guint granite_services_contractor_dbus_register_object (gpointer object, GDBusConnection* connection, const gchar* path, GError** error) {
	guint result;
	gpointer *data;
	data = g_new (gpointer, 3);
	data[0] = g_object_ref (object);
	data[1] = g_object_ref (connection);
	data[2] = g_strdup (path);
	result = g_dbus_connection_register_object (connection, path, (GDBusInterfaceInfo *) (&_granite_services_contractor_dbus_dbus_interface_info), &_granite_services_contractor_dbus_dbus_interface_vtable, data, _granite_services_contractor_dbus_unregister_object, error);
	if (!result) {
		return 0;
	}
	return result;
}


static void _granite_services_contractor_dbus_unregister_object (gpointer user_data) {
	gpointer* data;
	data = user_data;
	g_object_unref (data[0]);
	g_object_unref (data[1]);
	g_free (data[2]);
	g_free (data);
}


/**
         * This creates a new Contractor 
         */
GraniteServicesContractor* granite_services_contractor_construct (GType object_type) {
	GraniteServicesContractor * self = NULL;
	self = (GraniteServicesContractor*) g_object_new (object_type, NULL);
	return self;
}


GraniteServicesContractor* granite_services_contractor_new (void) {
	return granite_services_contractor_construct (GRANITE_SERVICES_TYPE_CONTRACTOR);
}


void granite_services_contractor_ensure (void) {
}


/**
         * This searches for available contracts of a particular file
         *
         * @param uri uri of file
         * @param mime mime type of file
         * @return Hashtable of available contracts
         */
static void _g_free0_ (gpointer var) {
	var = (g_free (var), NULL);
}


GHashTable** granite_services_contractor_get_contract (const gchar* uri, const gchar* mime, int* result_length1) {
	GHashTable** result = NULL;
	GHashTable* _tmp0_;
	GHashTable** _tmp1_;
	GHashTable** _tmp2_;
	gint _tmp2__length1;
	g_return_val_if_fail (uri != NULL, NULL);
	g_return_val_if_fail (mime != NULL, NULL);
	_tmp0_ = g_hash_table_new_full (NULL, NULL, _g_free0_, _g_free0_);
	_tmp1_ = g_new0 (GHashTable*, 1 + 1);
	_tmp1_[0] = _tmp0_;
	_tmp2_ = _tmp1_;
	_tmp2__length1 = 1;
	if (result_length1) {
		*result_length1 = _tmp2__length1;
	}
	result = _tmp2_;
	return result;
}


/**
         * generate contracts for arguments and filter them by common parent mimetype.
         *
         * @param locations Hashtable of locations
         * @return Hashtable of available contracts
         */
GHashTable** granite_services_contractor_get_selection_contracts (GHashTable** locations, int locations_length1, int* result_length1) {
	GHashTable** result = NULL;
	GHashTable* _tmp0_;
	GHashTable** _tmp1_;
	GHashTable** _tmp2_;
	gint _tmp2__length1;
	_tmp0_ = g_hash_table_new_full (NULL, NULL, _g_free0_, _g_free0_);
	_tmp1_ = g_new0 (GHashTable*, 1 + 1);
	_tmp1_[0] = _tmp0_;
	_tmp2_ = _tmp1_;
	_tmp2__length1 = 1;
	if (result_length1) {
		*result_length1 = _tmp2__length1;
	}
	result = _tmp2_;
	return result;
}


static void granite_services_contractor_class_init (GraniteServicesContractorClass * klass) {
	granite_services_contractor_parent_class = g_type_class_peek_parent (klass);
	G_OBJECT_CLASS (klass)->finalize = granite_services_contractor_finalize;
}


static void granite_services_contractor_instance_init (GraniteServicesContractor * self) {
}


static void granite_services_contractor_finalize (GObject * obj) {
	GraniteServicesContractor * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GRANITE_SERVICES_TYPE_CONTRACTOR, GraniteServicesContractor);
	_g_object_unref0 (self->contract);
	G_OBJECT_CLASS (granite_services_contractor_parent_class)->finalize (obj);
}


/**
     * Wrapper around a long-obsolete and unused revision of Contractor API
     */
GType granite_services_contractor_get_type (void) {
	static volatile gsize granite_services_contractor_type_id__volatile = 0;
	if (g_once_init_enter (&granite_services_contractor_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (GraniteServicesContractorClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) granite_services_contractor_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GraniteServicesContractor), 0, (GInstanceInitFunc) granite_services_contractor_instance_init, NULL };
		GType granite_services_contractor_type_id;
		granite_services_contractor_type_id = g_type_register_static (G_TYPE_OBJECT, "GraniteServicesContractor", &g_define_type_info, 0);
		g_once_init_leave (&granite_services_contractor_type_id__volatile, granite_services_contractor_type_id);
	}
	return granite_services_contractor_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



