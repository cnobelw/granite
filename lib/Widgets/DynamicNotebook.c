/* DynamicNotebook.c generated by valac 0.36.7, the Vala compiler
 * generated from DynamicNotebook.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <gdk/gdk.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include <gio/gio.h>
#include <glib/gi18n-lib.h>
#include <pango/pango.h>
#include <float.h>
#include <math.h>
#include <gee.h>
#include <cairo.h>


#define GRANITE_WIDGETS_TYPE_TAB_PAGE_CONTAINER (granite_widgets_tab_page_container_get_type ())
#define GRANITE_WIDGETS_TAB_PAGE_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRANITE_WIDGETS_TYPE_TAB_PAGE_CONTAINER, GraniteWidgetsTabPageContainer))
#define GRANITE_WIDGETS_TAB_PAGE_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRANITE_WIDGETS_TYPE_TAB_PAGE_CONTAINER, GraniteWidgetsTabPageContainerClass))
#define GRANITE_WIDGETS_IS_TAB_PAGE_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRANITE_WIDGETS_TYPE_TAB_PAGE_CONTAINER))
#define GRANITE_WIDGETS_IS_TAB_PAGE_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRANITE_WIDGETS_TYPE_TAB_PAGE_CONTAINER))
#define GRANITE_WIDGETS_TAB_PAGE_CONTAINER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRANITE_WIDGETS_TYPE_TAB_PAGE_CONTAINER, GraniteWidgetsTabPageContainerClass))

typedef struct _GraniteWidgetsTabPageContainer GraniteWidgetsTabPageContainer;
typedef struct _GraniteWidgetsTabPageContainerClass GraniteWidgetsTabPageContainerClass;
typedef struct _GraniteWidgetsTabPageContainerPrivate GraniteWidgetsTabPageContainerPrivate;

#define GRANITE_WIDGETS_TYPE_TAB (granite_widgets_tab_get_type ())
#define GRANITE_WIDGETS_TAB(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRANITE_WIDGETS_TYPE_TAB, GraniteWidgetsTab))
#define GRANITE_WIDGETS_TAB_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRANITE_WIDGETS_TYPE_TAB, GraniteWidgetsTabClass))
#define GRANITE_WIDGETS_IS_TAB(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRANITE_WIDGETS_TYPE_TAB))
#define GRANITE_WIDGETS_IS_TAB_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRANITE_WIDGETS_TYPE_TAB))
#define GRANITE_WIDGETS_TAB_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRANITE_WIDGETS_TYPE_TAB, GraniteWidgetsTabClass))

typedef struct _GraniteWidgetsTab GraniteWidgetsTab;
typedef struct _GraniteWidgetsTabClass GraniteWidgetsTabClass;
typedef struct _GraniteWidgetsTabPrivate GraniteWidgetsTabPrivate;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
typedef struct _Block5Data Block5Data;
#define _g_list_free0(var) ((var == NULL) ? NULL : (var = (g_list_free (var), NULL)))
enum  {
	GRANITE_WIDGETS_TAB_CLOSED_SIGNAL,
	GRANITE_WIDGETS_TAB_CLOSE_OTHERS_SIGNAL,
	GRANITE_WIDGETS_TAB_NEW_WINDOW_SIGNAL,
	GRANITE_WIDGETS_TAB_DUPLICATE_SIGNAL,
	GRANITE_WIDGETS_TAB_PIN_SWITCH_SIGNAL,
	GRANITE_WIDGETS_TAB_NUM_SIGNALS
};
static guint granite_widgets_tab_signals[GRANITE_WIDGETS_TAB_NUM_SIGNALS] = {0};

#define GRANITE_WIDGETS_TYPE_CLOSED_TABS (granite_widgets_closed_tabs_get_type ())
#define GRANITE_WIDGETS_CLOSED_TABS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRANITE_WIDGETS_TYPE_CLOSED_TABS, GraniteWidgetsClosedTabs))
#define GRANITE_WIDGETS_CLOSED_TABS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRANITE_WIDGETS_TYPE_CLOSED_TABS, GraniteWidgetsClosedTabsClass))
#define GRANITE_WIDGETS_IS_CLOSED_TABS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRANITE_WIDGETS_TYPE_CLOSED_TABS))
#define GRANITE_WIDGETS_IS_CLOSED_TABS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRANITE_WIDGETS_TYPE_CLOSED_TABS))
#define GRANITE_WIDGETS_CLOSED_TABS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRANITE_WIDGETS_TYPE_CLOSED_TABS, GraniteWidgetsClosedTabsClass))

typedef struct _GraniteWidgetsClosedTabs GraniteWidgetsClosedTabs;
typedef struct _GraniteWidgetsClosedTabsClass GraniteWidgetsClosedTabsClass;
typedef struct _GraniteWidgetsClosedTabsPrivate GraniteWidgetsClosedTabsPrivate;

#define GRANITE_WIDGETS_CLOSED_TABS_TYPE_ENTRY (granite_widgets_closed_tabs_entry_get_type ())
typedef struct _GraniteWidgetsClosedTabsEntry GraniteWidgetsClosedTabsEntry;
#define _granite_widgets_closed_tabs_entry_free0(var) ((var == NULL) ? NULL : (var = (granite_widgets_closed_tabs_entry_free (var), NULL)))
typedef struct _Block6Data Block6Data;
enum  {
	GRANITE_WIDGETS_CLOSED_TABS_RESTORED_SIGNAL,
	GRANITE_WIDGETS_CLOSED_TABS_CLEARED_SIGNAL,
	GRANITE_WIDGETS_CLOSED_TABS_NUM_SIGNALS
};
static guint granite_widgets_closed_tabs_signals[GRANITE_WIDGETS_CLOSED_TABS_NUM_SIGNALS] = {0};

#define GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK (granite_widgets_dynamic_notebook_get_type ())
#define GRANITE_WIDGETS_DYNAMIC_NOTEBOOK(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK, GraniteWidgetsDynamicNotebook))
#define GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK, GraniteWidgetsDynamicNotebookClass))
#define GRANITE_WIDGETS_IS_DYNAMIC_NOTEBOOK(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK))
#define GRANITE_WIDGETS_IS_DYNAMIC_NOTEBOOK_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK))
#define GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK, GraniteWidgetsDynamicNotebookClass))

typedef struct _GraniteWidgetsDynamicNotebook GraniteWidgetsDynamicNotebook;
typedef struct _GraniteWidgetsDynamicNotebookClass GraniteWidgetsDynamicNotebookClass;
typedef struct _GraniteWidgetsDynamicNotebookPrivate GraniteWidgetsDynamicNotebookPrivate;

#define GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TYPE_TAB_BAR_BEHAVIOR (granite_widgets_dynamic_notebook_tab_bar_behavior_get_type ())
#define __g_list_free__g_object_unref0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__g_object_unref0_ (var), NULL)))
typedef struct _Block7Data Block7Data;
typedef struct _Block8Data Block8Data;
typedef struct _Block9Data Block9Data;
typedef struct _Block10Data Block10Data;
enum  {
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_ADDED_SIGNAL,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_REMOVED_SIGNAL,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_SWITCHED_SIGNAL,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_REORDERED_SIGNAL,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_MOVED_SIGNAL,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_DUPLICATED_SIGNAL,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_RESTORED_SIGNAL,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_NEW_TAB_REQUESTED_SIGNAL,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_CLOSE_TAB_REQUESTED_SIGNAL,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_NUM_SIGNALS
};
static guint granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_NUM_SIGNALS] = {0};
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

typedef void (*GraniteWidgetsDroppedDelegate) (void* user_data);
struct _GraniteWidgetsTabPageContainer {
	GtkEventBox parent_instance;
	GraniteWidgetsTabPageContainerPrivate * priv;
};

struct _GraniteWidgetsTabPageContainerClass {
	GtkEventBoxClass parent_class;
};

struct _GraniteWidgetsTabPageContainerPrivate {
	GraniteWidgetsTab* _tab;
};

struct _GraniteWidgetsTab {
	GtkEventBox parent_instance;
	GraniteWidgetsTabPrivate * priv;
	GraniteWidgetsDroppedDelegate dropped_callback;
	gpointer dropped_callback_target;
	GDestroyNotify dropped_callback_target_destroy_notify;
	GraniteWidgetsTabPageContainer* page_container;
	GtkImage* _icon;
	GtkMenuItem* new_window_m;
	GtkMenuItem* duplicate_m;
	GtkMenuItem* pin_m;
};

struct _GraniteWidgetsTabClass {
	GtkEventBoxClass parent_class;
};

struct _GraniteWidgetsTabPrivate {
	GtkLabel* _label;
	gboolean _pinned;
	gboolean _pinnable;
	gchar* _restore_data;
	GtkSpinner* _working;
	gboolean __working;
	gboolean _fixed;
	GtkMenu* _menu;
	gboolean _closable;
	gboolean _is_current_tab;
	gboolean cursor_over_tab;
	gboolean cursor_over_close_button;
	GtkRevealer* close_button_revealer;
};

struct _Block5Data {
	int _ref_count_;
	GraniteWidgetsTab* self;
	GtkMenuItem* close_other_m;
};

struct _GraniteWidgetsClosedTabs {
	GObject parent_instance;
	GraniteWidgetsClosedTabsPrivate * priv;
};

struct _GraniteWidgetsClosedTabsClass {
	GObjectClass parent_class;
};

struct _GraniteWidgetsClosedTabsEntry {
	gchar* label;
	gchar* restore_data;
	GIcon* icon;
	GraniteWidgetsDroppedDelegate dropped_callback;
	gpointer dropped_callback_target;
	GDestroyNotify dropped_callback_target_destroy_notify;
};

struct _GraniteWidgetsClosedTabsPrivate {
	gint _max_restorable_tabs;
	GeeLinkedList* closed_tabs;
};

struct _Block6Data {
	int _ref_count_;
	GraniteWidgetsClosedTabs* self;
	GraniteWidgetsClosedTabsEntry* entry;
};

struct _GraniteWidgetsDynamicNotebook {
	GtkEventBox parent_instance;
	GraniteWidgetsDynamicNotebookPrivate * priv;
};

struct _GraniteWidgetsDynamicNotebookClass {
	GtkEventBoxClass parent_class;
};

typedef enum  {
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_BAR_BEHAVIOR_ALWAYS = 0,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_BAR_BEHAVIOR_SINGLE = 1,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_BAR_BEHAVIOR_NEVER = 2
} GraniteWidgetsDynamicNotebookTabBarBehavior;

struct _GraniteWidgetsDynamicNotebookPrivate {
	gboolean _show_icons;
	gboolean _tabs_closable;
	gboolean _allow_drag;
	gboolean _allow_new_window;
	gboolean _allow_duplication;
	gboolean _allow_restoring;
	gboolean _add_button_visible;
	gboolean _allow_pinning;
	gboolean _force_left;
	gchar* _add_button_tooltip;
	GList* _tabs;
	GraniteWidgetsDynamicNotebookTabBarBehavior _tab_bar_behavior;
	GtkMenu* _menu;
	GraniteWidgetsClosedTabs* closed_tabs;
	GtkNotebook* notebook;
	gint tab_width;
	GraniteWidgetsTab* old_tab;
	GtkMenuItem* new_tab_m;
	GtkMenuItem* restore_tab_m;
	GtkButton* add_button;
	GtkButton* restore_button;
};

struct _Block7Data {
	int _ref_count_;
	GraniteWidgetsDynamicNotebook* self;
	gboolean value;
};

struct _Block8Data {
	int _ref_count_;
	GraniteWidgetsDynamicNotebook* self;
	gboolean value;
};

struct _Block9Data {
	int _ref_count_;
	GraniteWidgetsDynamicNotebook* self;
	gboolean value;
};

struct _Block10Data {
	int _ref_count_;
	GraniteWidgetsDynamicNotebook* self;
	gboolean value;
};


static gpointer granite_widgets_tab_page_container_parent_class = NULL;
static gpointer granite_widgets_tab_parent_class = NULL;
static gpointer granite_widgets_closed_tabs_parent_class = NULL;
static gpointer granite_widgets_dynamic_notebook_parent_class = NULL;

#define GRANITE_WIDGETS_MODIFIER_MASK (((GDK_SHIFT_MASK | GDK_SUPER_MASK) | GDK_CONTROL_MASK) | GDK_MOD1_MASK)
GType granite_widgets_tab_page_container_get_type (void) G_GNUC_CONST;
GType granite_widgets_tab_get_type (void) G_GNUC_CONST;
#define GRANITE_WIDGETS_TAB_PAGE_CONTAINER_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), GRANITE_WIDGETS_TYPE_TAB_PAGE_CONTAINER, GraniteWidgetsTabPageContainerPrivate))
enum  {
	GRANITE_WIDGETS_TAB_PAGE_CONTAINER_0_PROPERTY,
	GRANITE_WIDGETS_TAB_PAGE_CONTAINER_TAB_PROPERTY
};
GraniteWidgetsTabPageContainer* granite_widgets_tab_page_container_new (GraniteWidgetsTab* tab);
GraniteWidgetsTabPageContainer* granite_widgets_tab_page_container_construct (GType object_type, GraniteWidgetsTab* tab);
GraniteWidgetsTab* granite_widgets_tab_page_container_get_tab (GraniteWidgetsTabPageContainer* self);
static void granite_widgets_tab_page_container_finalize (GObject * obj);
static void _vala_granite_widgets_tab_page_container_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
#define GRANITE_WIDGETS_TAB_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), GRANITE_WIDGETS_TYPE_TAB, GraniteWidgetsTabPrivate))
enum  {
	GRANITE_WIDGETS_TAB_0_PROPERTY,
	GRANITE_WIDGETS_TAB_LABEL_PROPERTY,
	GRANITE_WIDGETS_TAB_PINNED_PROPERTY,
	GRANITE_WIDGETS_TAB_PINNABLE_PROPERTY,
	GRANITE_WIDGETS_TAB_RESTORE_DATA_PROPERTY,
	GRANITE_WIDGETS_TAB_PAGE_PROPERTY,
	GRANITE_WIDGETS_TAB_ICON_PROPERTY,
	GRANITE_WIDGETS_TAB_WORKING_PROPERTY,
	GRANITE_WIDGETS_TAB_ELLIPSIZE_MODE_PROPERTY,
	GRANITE_WIDGETS_TAB_FIXED_PROPERTY,
	GRANITE_WIDGETS_TAB_MENU_PROPERTY,
	GRANITE_WIDGETS_TAB_CLOSABLE_PROPERTY,
	GRANITE_WIDGETS_TAB_IS_CURRENT_TAB_PROPERTY
};
#define GRANITE_WIDGETS_TAB_CLOSE_BUTTON_STYLE "\n" \
"            * {\n" \
"                -GtkButton-default-border : 0;\n" \
"                -GtkButton-default-outside-border : 0;\n" \
"                -GtkButton-inner-border: 0;\n" \
"                -GtkWidget-focus-line-width : 0;\n" \
"                -GtkWidget-focus-padding : 0;\n" \
"                padding: 0;\n" \
"            }\n" \
"        "
GraniteWidgetsTab* granite_widgets_tab_new (const gchar* label, GIcon* icon, GtkWidget* page);
GraniteWidgetsTab* granite_widgets_tab_construct (GType object_type, const gchar* label, GIcon* icon, GtkWidget* page);
static Block5Data* block5_data_ref (Block5Data* _data5_);
static void block5_data_unref (void * _userdata_);
void granite_widgets_tab_fix_button_theming (GtkWidget* button);
void granite_widgets_tab_set_page (GraniteWidgetsTab* self, GtkWidget* value);
void granite_widgets_tab_set_restore_data (GraniteWidgetsTab* self, const gchar* value);
void granite_widgets_tab_set_menu (GraniteWidgetsTab* self, GtkMenu* value);
GtkMenu* granite_widgets_tab_get_menu (GraniteWidgetsTab* self);
static void __lambda38_ (GraniteWidgetsTab* self);
static void ___lambda38__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static void __lambda39_ (GraniteWidgetsTab* self);
static void ___lambda39__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static void __lambda40_ (GraniteWidgetsTab* self);
static void ___lambda40__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static void __lambda41_ (GraniteWidgetsTab* self);
static void ___lambda41__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static void __lambda42_ (GraniteWidgetsTab* self);
gboolean granite_widgets_tab_get_pinned (GraniteWidgetsTab* self);
void granite_widgets_tab_set_pinned (GraniteWidgetsTab* self, gboolean value);
static void ___lambda42__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static gboolean __lambda43_ (GraniteWidgetsTab* self, GdkEventScroll* e);
static gboolean ___lambda43__gtk_widget_scroll_event (GtkWidget* _sender, GdkEventScroll* event, gpointer self);
static gboolean __lambda44_ (Block5Data* _data5_, GdkEventButton* e);
static gboolean granite_widgets_tab_close_button_is_visible (GraniteWidgetsTab* self);
static gboolean ___lambda44__gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self);
static gboolean __lambda45_ (GraniteWidgetsTab* self, GdkEventCrossing* e);
static void granite_widgets_tab_update_close_button_visibility (GraniteWidgetsTab* self);
static gboolean ___lambda45__gtk_widget_enter_notify_event (GtkWidget* _sender, GdkEventCrossing* event, gpointer self);
static gboolean __lambda46_ (GraniteWidgetsTab* self, GdkEventCrossing* e);
static gboolean ___lambda46__gtk_widget_leave_notify_event (GtkWidget* _sender, GdkEventCrossing* event, gpointer self);
static gboolean __lambda47_ (GraniteWidgetsTab* self, GdkEventCrossing* e);
static gboolean ___lambda47__gtk_widget_enter_notify_event (GtkWidget* _sender, GdkEventCrossing* event, gpointer self);
static gboolean __lambda48_ (GraniteWidgetsTab* self, GdkEventCrossing* e);
static gboolean ___lambda48__gtk_widget_leave_notify_event (GtkWidget* _sender, GdkEventCrossing* event, gpointer self);
static gboolean __lambda49_ (GraniteWidgetsTab* self);
static gboolean ___lambda49__gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self);
static void __lambda50_ (GraniteWidgetsTab* self);
static void ___lambda50__gtk_button_clicked (GtkButton* _sender, gpointer self);
void granite_widgets_tab_set_working (GraniteWidgetsTab* self, gboolean value);
void granite_widgets_tab_close (GraniteWidgetsTab* self);
GtkCssProvider* granite_widgets_utils_set_theming (GtkWidget* widget, const gchar* stylesheet, const gchar* class_name, gint priority);
const gchar* granite_widgets_tab_get_label (GraniteWidgetsTab* self);
void granite_widgets_tab_set_label (GraniteWidgetsTab* self, const gchar* value);
gboolean granite_widgets_tab_get_pinnable (GraniteWidgetsTab* self);
void granite_widgets_tab_set_pinnable (GraniteWidgetsTab* self, gboolean value);
const gchar* granite_widgets_tab_get_restore_data (GraniteWidgetsTab* self);
GtkWidget* granite_widgets_tab_get_page (GraniteWidgetsTab* self);
GIcon* granite_widgets_tab_get_icon (GraniteWidgetsTab* self);
void granite_widgets_tab_set_icon (GraniteWidgetsTab* self, GIcon* value);
gboolean granite_widgets_tab_get_working (GraniteWidgetsTab* self);
PangoEllipsizeMode granite_widgets_tab_get_ellipsize_mode (GraniteWidgetsTab* self);
void granite_widgets_tab_set_ellipsize_mode (GraniteWidgetsTab* self, PangoEllipsizeMode value);
gboolean granite_widgets_tab_get_fixed (GraniteWidgetsTab* self) G_GNUC_DEPRECATED;
void granite_widgets_tab_set_fixed (GraniteWidgetsTab* self, gboolean value) G_GNUC_DEPRECATED;
void granite_widgets_tab_set_closable (GraniteWidgetsTab* self, gboolean value);
void granite_widgets_tab_set_is_current_tab (GraniteWidgetsTab* self, gboolean value);
static void granite_widgets_tab_finalize (GObject * obj);
static void _vala_granite_widgets_tab_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_granite_widgets_tab_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);
GType granite_widgets_closed_tabs_get_type (void) G_GNUC_CONST;
GType granite_widgets_closed_tabs_entry_get_type (void) G_GNUC_CONST;
GraniteWidgetsClosedTabsEntry* granite_widgets_closed_tabs_entry_dup (const GraniteWidgetsClosedTabsEntry* self);
void granite_widgets_closed_tabs_entry_free (GraniteWidgetsClosedTabsEntry* self);
void granite_widgets_closed_tabs_entry_copy (const GraniteWidgetsClosedTabsEntry* self, GraniteWidgetsClosedTabsEntry* dest);
void granite_widgets_closed_tabs_entry_destroy (GraniteWidgetsClosedTabsEntry* self);
#define GRANITE_WIDGETS_CLOSED_TABS_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), GRANITE_WIDGETS_TYPE_CLOSED_TABS, GraniteWidgetsClosedTabsPrivate))
enum  {
	GRANITE_WIDGETS_CLOSED_TABS_0_PROPERTY,
	GRANITE_WIDGETS_CLOSED_TABS_MAX_RESTORABLE_TABS_PROPERTY,
	GRANITE_WIDGETS_CLOSED_TABS_EMPTY_PROPERTY,
	GRANITE_WIDGETS_CLOSED_TABS_MENU_PROPERTY
};
GraniteWidgetsClosedTabs* granite_widgets_closed_tabs_new (void);
GraniteWidgetsClosedTabs* granite_widgets_closed_tabs_construct (GType object_type);
void granite_widgets_closed_tabs_push (GraniteWidgetsClosedTabs* self, GraniteWidgetsTab* tab);
gint granite_widgets_closed_tabs_get_max_restorable_tabs (GraniteWidgetsClosedTabs* self);
void granite_widgets_closed_tabs_pop (GraniteWidgetsClosedTabs* self, GraniteWidgetsClosedTabsEntry* result);
void granite_widgets_closed_tabs_pick (GraniteWidgetsClosedTabs* self, const gchar* search, GraniteWidgetsClosedTabsEntry* result);
void granite_widgets_closed_tabs_set_max_restorable_tabs (GraniteWidgetsClosedTabs* self, gint value);
gboolean granite_widgets_closed_tabs_get_empty (GraniteWidgetsClosedTabs* self);
GtkMenu* granite_widgets_closed_tabs_get_menu (GraniteWidgetsClosedTabs* self);
static Block6Data* block6_data_ref (Block6Data* _data6_);
static void block6_data_unref (void * _userdata_);
static void _granite_widgets_closed_tabs_menu_____lambda51_ (Block6Data* _data6_);
static void __granite_widgets_closed_tabs_menu_____lambda51__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static void _granite_widgets_closed_tabs_menu____lambda52_ (GraniteWidgetsClosedTabs* self);
static void __granite_widgets_closed_tabs_menu____lambda52__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static void g_cclosure_user_marshal_VOID__STRING_STRING_OBJECT (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data);
static void granite_widgets_closed_tabs_finalize (GObject * obj);
static void _vala_granite_widgets_closed_tabs_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_granite_widgets_closed_tabs_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);
GType granite_widgets_dynamic_notebook_get_type (void) G_GNUC_CONST;
GType granite_widgets_dynamic_notebook_tab_bar_behavior_get_type (void) G_GNUC_CONST;
#define GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK, GraniteWidgetsDynamicNotebookPrivate))
enum  {
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_0_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_N_TABS_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_SHOW_TABS_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_SHOW_ICONS_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TABS_CLOSABLE_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_DRAG_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_NEW_WINDOW_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_DUPLICATION_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_RESTORING_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_MAX_RESTORABLE_TABS_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ADD_BUTTON_VISIBLE_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_PINNING_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_FORCE_LEFT_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ADD_BUTTON_TOOLTIP_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_CURRENT_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TABS_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_GROUP_NAME_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_BAR_BEHAVIOR_PROPERTY,
	GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_MENU_PROPERTY
};
static void _g_object_unref0_ (gpointer var);
static void _g_list_free__g_object_unref0_ (GList* self);
#define GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_MAX_TAB_WIDTH 150
#define GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_WIDTH_PINNED 18
#define GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ADD_BUTTON_PADDING 5
GraniteWidgetsDynamicNotebook* granite_widgets_dynamic_notebook_new (void);
GraniteWidgetsDynamicNotebook* granite_widgets_dynamic_notebook_construct (GType object_type);
static gboolean __lambda53_ (GraniteWidgetsDynamicNotebook* self, cairo_t* ctx);
static gboolean ___lambda53__gtk_widget_draw (GtkWidget* _sender, cairo_t* cr, gpointer self);
static void granite_widgets_dynamic_notebook_set_menu (GraniteWidgetsDynamicNotebook* self, GtkMenu* value);
GtkMenu* granite_widgets_dynamic_notebook_get_menu (GraniteWidgetsDynamicNotebook* self);
static void __lambda54_ (GraniteWidgetsDynamicNotebook* self);
static void ___lambda54__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static void __lambda55_ (GraniteWidgetsDynamicNotebook* self);
static void granite_widgets_dynamic_notebook_restore_last_tab (GraniteWidgetsDynamicNotebook* self);
static void ___lambda55__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static void __lambda56_ (GraniteWidgetsDynamicNotebook* self, const gchar* label, const gchar* restore_data, GIcon* icon);
gboolean granite_widgets_dynamic_notebook_get_allow_restoring (GraniteWidgetsDynamicNotebook* self);
static void ___lambda56__granite_widgets_closed_tabs_restored (GraniteWidgetsClosedTabs* _sender, const gchar* label, const gchar* restore_data, GIcon* icon, gpointer self);
static void __lambda57_ (GraniteWidgetsDynamicNotebook* self);
static void ___lambda57__granite_widgets_closed_tabs_cleared (GraniteWidgetsClosedTabs* _sender, gpointer self);
static void __lambda58_ (GraniteWidgetsDynamicNotebook* self);
static void ___lambda58__gtk_button_clicked (GtkButton* _sender, gpointer self);
static gboolean __lambda59_ (GraniteWidgetsDynamicNotebook* self, GdkEventButton* e);
static gboolean ___lambda59__gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self);
static void __lambda60_ (GraniteWidgetsDynamicNotebook* self);
static void granite_widgets_dynamic_notebook_restore_menu_position (GraniteWidgetsDynamicNotebook* self, GtkMenu* menu, gint* x, gint* y, gboolean* p);
static void _granite_widgets_dynamic_notebook_restore_menu_position_gtk_menu_position_func (GtkMenu* menu, gint* x, gint* y, gboolean* push_in, gpointer self);
static void ___lambda60__gtk_button_clicked (GtkButton* _sender, gpointer self);
static void __lambda61_ (GraniteWidgetsDynamicNotebook* self);
static void granite_widgets_dynamic_notebook_recalc_size (GraniteWidgetsDynamicNotebook* self);
static void ___lambda61__gtk_widget_size_allocate (GtkWidget* _sender, GtkAllocation* allocation, gpointer self);
static gboolean __lambda62_ (GraniteWidgetsDynamicNotebook* self, GdkEventButton* e);
static gboolean ___lambda62__gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self);
static gboolean __lambda63_ (GraniteWidgetsDynamicNotebook* self, GdkEventKey* e);
gboolean granite_widgets_dynamic_notebook_get_tabs_closable (GraniteWidgetsDynamicNotebook* self);
void granite_widgets_dynamic_notebook_remove_tab (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab);
GraniteWidgetsTab* granite_widgets_dynamic_notebook_get_current (GraniteWidgetsDynamicNotebook* self);
void granite_widgets_dynamic_notebook_next_page (GraniteWidgetsDynamicNotebook* self);
void granite_widgets_dynamic_notebook_previous_page (GraniteWidgetsDynamicNotebook* self);
static gboolean ___lambda63__gtk_widget_key_press_event (GtkWidget* _sender, GdkEventKey* event, gpointer self);
static void granite_widgets_dynamic_notebook_on_switch_page (GraniteWidgetsDynamicNotebook* self, GtkWidget* page, guint pagenum);
static void _granite_widgets_dynamic_notebook_on_switch_page_gtk_notebook_switch_page (GtkNotebook* _sender, GtkWidget* page, guint page_num, gpointer self);
static void granite_widgets_dynamic_notebook_on_page_added (GraniteWidgetsDynamicNotebook* self, GtkWidget* page, guint pagenum);
static void _granite_widgets_dynamic_notebook_on_page_added_gtk_notebook_page_added (GtkNotebook* _sender, GtkWidget* child, guint page_num, gpointer self);
static void granite_widgets_dynamic_notebook_on_page_removed (GraniteWidgetsDynamicNotebook* self, GtkWidget* page, guint pagenum);
static void _granite_widgets_dynamic_notebook_on_page_removed_gtk_notebook_page_removed (GtkNotebook* _sender, GtkWidget* child, guint page_num, gpointer self);
static void granite_widgets_dynamic_notebook_on_page_reordered (GraniteWidgetsDynamicNotebook* self, GtkWidget* page, guint pagenum);
static void _granite_widgets_dynamic_notebook_on_page_reordered_gtk_notebook_page_reordered (GtkNotebook* _sender, GtkWidget* child, guint page_num, gpointer self);
static GtkNotebook* granite_widgets_dynamic_notebook_on_create_window (GraniteWidgetsDynamicNotebook* self, GtkWidget* page, gint x, gint y);
static GtkNotebook* _granite_widgets_dynamic_notebook_on_create_window_gtk_notebook_create_window (GtkNotebook* _sender, GtkWidget* page, gint x, gint y, gpointer self);
static GraniteWidgetsDynamicNotebook* granite_widgets_dynamic_notebook_new_Notebook (void);
static GraniteWidgetsDynamicNotebook* granite_widgets_dynamic_notebook_construct_Notebook (GType object_type);
static void granite_widgets_dynamic_notebook_insert_callbacks (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab);
static void granite_widgets_dynamic_notebook_update_tabs_visibility (GraniteWidgetsDynamicNotebook* self);
static void granite_widgets_dynamic_notebook_remove_callbacks (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab);
static void granite_widgets_dynamic_notebook_recalc_order (GraniteWidgetsDynamicNotebook* self);
gint granite_widgets_dynamic_notebook_get_n_tabs (GraniteWidgetsDynamicNotebook* self);
gboolean granite_widgets_dynamic_notebook_get_force_left (GraniteWidgetsDynamicNotebook* self);
static void granite_widgets_dynamic_notebook_switch_pin_tab (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab);
gboolean granite_widgets_dynamic_notebook_get_allow_pinning (GraniteWidgetsDynamicNotebook* self);
gboolean granite_widgets_dynamic_notebook_get_show_icons (GraniteWidgetsDynamicNotebook* self);
gint granite_widgets_dynamic_notebook_get_tab_position (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab);
static void granite_widgets_dynamic_notebook_real_show (GtkWidget* base);
GList* granite_widgets_dynamic_notebook_get_children (GraniteWidgetsDynamicNotebook* self);
void granite_widgets_dynamic_notebook_set_tab_position (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab, gint position);
GraniteWidgetsTab* granite_widgets_dynamic_notebook_get_tab_by_index (GraniteWidgetsDynamicNotebook* self, gint index);
GraniteWidgetsTab* granite_widgets_dynamic_notebook_get_tab_by_widget (GraniteWidgetsDynamicNotebook* self, GtkWidget* widget);
GtkWidget* granite_widgets_dynamic_notebook_get_nth_page (GraniteWidgetsDynamicNotebook* self, gint index);
guint granite_widgets_dynamic_notebook_insert_tab (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab, gint index);
GList* granite_widgets_dynamic_notebook_get_tabs (GraniteWidgetsDynamicNotebook* self);
gboolean granite_widgets_dynamic_notebook_get_allow_drag (GraniteWidgetsDynamicNotebook* self);
gboolean granite_widgets_dynamic_notebook_get_allow_new_window (GraniteWidgetsDynamicNotebook* self);
gboolean granite_widgets_dynamic_notebook_get_allow_duplication (GraniteWidgetsDynamicNotebook* self);
static void granite_widgets_dynamic_notebook_on_tab_closed (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab);
static void _granite_widgets_dynamic_notebook_on_tab_closed_granite_widgets_tab_closed (GraniteWidgetsTab* _sender, gpointer self);
static void granite_widgets_dynamic_notebook_on_close_others (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab);
static void _granite_widgets_dynamic_notebook_on_close_others_granite_widgets_tab_close_others (GraniteWidgetsTab* _sender, gpointer self);
static void granite_widgets_dynamic_notebook_on_new_window (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab);
static void _granite_widgets_dynamic_notebook_on_new_window_granite_widgets_tab_new_window (GraniteWidgetsTab* _sender, gpointer self);
static void granite_widgets_dynamic_notebook_on_duplicate (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab);
static void _granite_widgets_dynamic_notebook_on_duplicate_granite_widgets_tab_duplicate (GraniteWidgetsTab* _sender, gpointer self);
static void granite_widgets_dynamic_notebook_on_pin_switch (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab);
static void _granite_widgets_dynamic_notebook_on_pin_switch_granite_widgets_tab_pin_switch (GraniteWidgetsTab* _sender, gpointer self);
gboolean granite_widgets_dynamic_notebook_get_show_tabs (GraniteWidgetsDynamicNotebook* self);
void granite_widgets_dynamic_notebook_set_show_tabs (GraniteWidgetsDynamicNotebook* self, gboolean value);
void granite_widgets_dynamic_notebook_set_show_icons (GraniteWidgetsDynamicNotebook* self, gboolean value);
static Block7Data* block7_data_ref (Block7Data* _data7_);
static void block7_data_unref (void * _userdata_);
static void _granite_widgets_dynamic_notebook_show_icons____lambda65_ (Block7Data* _data7_, GraniteWidgetsTab* t);
static void __granite_widgets_dynamic_notebook_show_icons____lambda65__gfunc (gconstpointer data, gpointer self);
void granite_widgets_dynamic_notebook_set_tabs_closable (GraniteWidgetsDynamicNotebook* self, gboolean value);
static Block8Data* block8_data_ref (Block8Data* _data8_);
static void block8_data_unref (void * _userdata_);
static void _granite_widgets_dynamic_notebook_tabs_closable____lambda64_ (Block8Data* _data8_, GraniteWidgetsTab* t);
static void __granite_widgets_dynamic_notebook_tabs_closable____lambda64__gfunc (gconstpointer data, gpointer self);
void granite_widgets_dynamic_notebook_set_allow_drag (GraniteWidgetsDynamicNotebook* self, gboolean value);
static Block9Data* block9_data_ref (Block9Data* _data9_);
static void block9_data_unref (void * _userdata_);
static void _granite_widgets_dynamic_notebook_allow_drag___lambda66_ (Block9Data* _data9_, GraniteWidgetsTab* t);
static void __granite_widgets_dynamic_notebook_allow_drag___lambda66__gfunc (gconstpointer data, gpointer self);
void granite_widgets_dynamic_notebook_set_allow_new_window (GraniteWidgetsDynamicNotebook* self, gboolean value);
static Block10Data* block10_data_ref (Block10Data* _data10_);
static void block10_data_unref (void * _userdata_);
static void _granite_widgets_dynamic_notebook_allow_new_window___lambda67_ (Block10Data* _data10_, GraniteWidgetsTab* t);
static void __granite_widgets_dynamic_notebook_allow_new_window___lambda67__gfunc (gconstpointer data, gpointer self);
void granite_widgets_dynamic_notebook_set_allow_duplication (GraniteWidgetsDynamicNotebook* self, gboolean value);
void granite_widgets_dynamic_notebook_set_allow_restoring (GraniteWidgetsDynamicNotebook* self, gboolean value);
gint granite_widgets_dynamic_notebook_get_max_restorable_tabs (GraniteWidgetsDynamicNotebook* self);
void granite_widgets_dynamic_notebook_set_max_restorable_tabs (GraniteWidgetsDynamicNotebook* self, gint value);
gboolean granite_widgets_dynamic_notebook_get_add_button_visible (GraniteWidgetsDynamicNotebook* self);
void granite_widgets_dynamic_notebook_set_add_button_visible (GraniteWidgetsDynamicNotebook* self, gboolean value);
void granite_widgets_dynamic_notebook_set_allow_pinning (GraniteWidgetsDynamicNotebook* self, gboolean value);
void granite_widgets_dynamic_notebook_set_force_left (GraniteWidgetsDynamicNotebook* self, gboolean value);
const gchar* granite_widgets_dynamic_notebook_get_add_button_tooltip (GraniteWidgetsDynamicNotebook* self);
void granite_widgets_dynamic_notebook_set_add_button_tooltip (GraniteWidgetsDynamicNotebook* self, const gchar* value);
void granite_widgets_dynamic_notebook_set_current (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* value);
const gchar* granite_widgets_dynamic_notebook_get_group_name (GraniteWidgetsDynamicNotebook* self);
void granite_widgets_dynamic_notebook_set_group_name (GraniteWidgetsDynamicNotebook* self, const gchar* value);
GraniteWidgetsDynamicNotebookTabBarBehavior granite_widgets_dynamic_notebook_get_tab_bar_behavior (GraniteWidgetsDynamicNotebook* self);
void granite_widgets_dynamic_notebook_set_tab_bar_behavior (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsDynamicNotebookTabBarBehavior value);
static void g_cclosure_user_marshal_VOID__OBJECT_OBJECT (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data);
static void g_cclosure_user_marshal_VOID__OBJECT_INT (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data);
static void g_cclosure_user_marshal_VOID__OBJECT_INT_INT (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data);
static void g_cclosure_user_marshal_BOOLEAN__OBJECT (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data);
static void granite_widgets_dynamic_notebook_finalize (GObject * obj);
static void _vala_granite_widgets_dynamic_notebook_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_granite_widgets_dynamic_notebook_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);


GraniteWidgetsTabPageContainer* granite_widgets_tab_page_container_construct (GType object_type, GraniteWidgetsTab* tab) {
	GraniteWidgetsTabPageContainer * self = NULL;
	GraniteWidgetsTab* _tmp0_;
	g_return_val_if_fail (tab != NULL, NULL);
	self = (GraniteWidgetsTabPageContainer*) g_object_new (object_type, NULL);
	_tmp0_ = tab;
	self->priv->_tab = _tmp0_;
	return self;
}


GraniteWidgetsTabPageContainer* granite_widgets_tab_page_container_new (GraniteWidgetsTab* tab) {
	return granite_widgets_tab_page_container_construct (GRANITE_WIDGETS_TYPE_TAB_PAGE_CONTAINER, tab);
}


GraniteWidgetsTab* granite_widgets_tab_page_container_get_tab (GraniteWidgetsTabPageContainer* self) {
	GraniteWidgetsTab* result;
	GraniteWidgetsTab* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_tab;
	result = _tmp0_;
	return result;
}


static void granite_widgets_tab_page_container_class_init (GraniteWidgetsTabPageContainerClass * klass) {
	granite_widgets_tab_page_container_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (GraniteWidgetsTabPageContainerPrivate));
	G_OBJECT_CLASS (klass)->get_property = _vala_granite_widgets_tab_page_container_get_property;
	G_OBJECT_CLASS (klass)->finalize = granite_widgets_tab_page_container_finalize;
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_TAB_PAGE_CONTAINER_TAB_PROPERTY, g_param_spec_object ("tab", "tab", "tab", GRANITE_WIDGETS_TYPE_TAB, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
}


static void granite_widgets_tab_page_container_instance_init (GraniteWidgetsTabPageContainer * self) {
	self->priv = GRANITE_WIDGETS_TAB_PAGE_CONTAINER_GET_PRIVATE (self);
}


static void granite_widgets_tab_page_container_finalize (GObject * obj) {
	GraniteWidgetsTabPageContainer * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GRANITE_WIDGETS_TYPE_TAB_PAGE_CONTAINER, GraniteWidgetsTabPageContainer);
	G_OBJECT_CLASS (granite_widgets_tab_page_container_parent_class)->finalize (obj);
}


GType granite_widgets_tab_page_container_get_type (void) {
	static volatile gsize granite_widgets_tab_page_container_type_id__volatile = 0;
	if (g_once_init_enter (&granite_widgets_tab_page_container_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (GraniteWidgetsTabPageContainerClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) granite_widgets_tab_page_container_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GraniteWidgetsTabPageContainer), 0, (GInstanceInitFunc) granite_widgets_tab_page_container_instance_init, NULL };
		GType granite_widgets_tab_page_container_type_id;
		granite_widgets_tab_page_container_type_id = g_type_register_static (gtk_event_box_get_type (), "GraniteWidgetsTabPageContainer", &g_define_type_info, 0);
		g_once_init_leave (&granite_widgets_tab_page_container_type_id__volatile, granite_widgets_tab_page_container_type_id);
	}
	return granite_widgets_tab_page_container_type_id__volatile;
}


static void _vala_granite_widgets_tab_page_container_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	GraniteWidgetsTabPageContainer * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GRANITE_WIDGETS_TYPE_TAB_PAGE_CONTAINER, GraniteWidgetsTabPageContainer);
	switch (property_id) {
		case GRANITE_WIDGETS_TAB_PAGE_CONTAINER_TAB_PROPERTY:
		g_value_set_object (value, granite_widgets_tab_page_container_get_tab (self));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}


static Block5Data* block5_data_ref (Block5Data* _data5_) {
	g_atomic_int_inc (&_data5_->_ref_count_);
	return _data5_;
}


static void block5_data_unref (void * _userdata_) {
	Block5Data* _data5_;
	_data5_ = (Block5Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data5_->_ref_count_)) {
		GraniteWidgetsTab* self;
		self = _data5_->self;
		_g_object_unref0 (_data5_->close_other_m);
		_g_object_unref0 (self);
		g_slice_free (Block5Data, _data5_);
	}
}


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


static void __lambda38_ (GraniteWidgetsTab* self) {
	g_signal_emit (self, granite_widgets_tab_signals[GRANITE_WIDGETS_TAB_CLOSED_SIGNAL], 0);
}


static void ___lambda38__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	__lambda38_ ((GraniteWidgetsTab*) self);
}


static void __lambda39_ (GraniteWidgetsTab* self) {
	g_signal_emit (self, granite_widgets_tab_signals[GRANITE_WIDGETS_TAB_CLOSE_OTHERS_SIGNAL], 0);
}


static void ___lambda39__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	__lambda39_ ((GraniteWidgetsTab*) self);
}


static void __lambda40_ (GraniteWidgetsTab* self) {
	g_signal_emit (self, granite_widgets_tab_signals[GRANITE_WIDGETS_TAB_NEW_WINDOW_SIGNAL], 0);
}


static void ___lambda40__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	__lambda40_ ((GraniteWidgetsTab*) self);
}


static void __lambda41_ (GraniteWidgetsTab* self) {
	g_signal_emit (self, granite_widgets_tab_signals[GRANITE_WIDGETS_TAB_DUPLICATE_SIGNAL], 0);
}


static void ___lambda41__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	__lambda41_ ((GraniteWidgetsTab*) self);
}


static void __lambda42_ (GraniteWidgetsTab* self) {
	gboolean _tmp0_;
	gboolean _tmp1_;
	_tmp0_ = granite_widgets_tab_get_pinned (self);
	_tmp1_ = _tmp0_;
	granite_widgets_tab_set_pinned (self, !_tmp1_);
}


static void ___lambda42__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	__lambda42_ ((GraniteWidgetsTab*) self);
}


static gboolean __lambda43_ (GraniteWidgetsTab* self, GdkEventScroll* e) {
	gboolean result = FALSE;
	GtkNotebook* notebook = NULL;
	GtkContainer* _tmp0_;
	GtkNotebook* _tmp1_;
	GdkEventScroll* _tmp2_;
	GdkScrollDirection _tmp3_;
	g_return_val_if_fail (e != NULL, FALSE);
	_tmp0_ = (GtkContainer*) gtk_widget_get_parent ((GtkWidget*) self);
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, gtk_notebook_get_type ()) ? ((GtkNotebook*) _tmp0_) : NULL);
	notebook = _tmp1_;
	_tmp2_ = e;
	_tmp3_ = _tmp2_->direction;
	switch (_tmp3_) {
		case GDK_SCROLL_UP:
		case GDK_SCROLL_LEFT:
		{
			GtkNotebook* _tmp4_;
			gint _tmp5_;
			gint _tmp6_;
			_tmp4_ = notebook;
			g_object_get (_tmp4_, "page", &_tmp5_, NULL);
			_tmp6_ = _tmp5_;
			if (_tmp6_ > 0) {
				GtkNotebook* _tmp7_;
				gint _tmp8_;
				gint _tmp9_;
				_tmp7_ = notebook;
				g_object_get (_tmp7_, "page", &_tmp8_, NULL);
				_tmp9_ = _tmp8_;
				g_object_set (_tmp7_, "page", _tmp9_ - 1, NULL);
				result = TRUE;
				_g_object_unref0 (notebook);
				return result;
			}
			break;
		}
		case GDK_SCROLL_DOWN:
		case GDK_SCROLL_RIGHT:
		{
			GtkNotebook* _tmp10_;
			gint _tmp11_;
			gint _tmp12_;
			GtkNotebook* _tmp13_;
			gint _tmp14_;
			_tmp10_ = notebook;
			g_object_get (_tmp10_, "page", &_tmp11_, NULL);
			_tmp12_ = _tmp11_;
			_tmp13_ = notebook;
			_tmp14_ = gtk_notebook_get_n_pages (_tmp13_);
			if (_tmp12_ < _tmp14_) {
				GtkNotebook* _tmp15_;
				gint _tmp16_;
				gint _tmp17_;
				_tmp15_ = notebook;
				g_object_get (_tmp15_, "page", &_tmp16_, NULL);
				_tmp17_ = _tmp16_;
				g_object_set (_tmp15_, "page", _tmp17_ + 1, NULL);
				result = TRUE;
				_g_object_unref0 (notebook);
				return result;
			}
			break;
		}
		default:
		break;
	}
	result = FALSE;
	_g_object_unref0 (notebook);
	return result;
}


static gboolean ___lambda43__gtk_widget_scroll_event (GtkWidget* _sender, GdkEventScroll* event, gpointer self) {
	gboolean result;
	result = __lambda43_ ((GraniteWidgetsTab*) self, event);
	return result;
}


static gboolean __lambda44_ (Block5Data* _data5_, GdkEventButton* e) {
	GraniteWidgetsTab* self;
	gboolean result = FALSE;
	GdkEventButton* _tmp0_;
	GdkEventButton* _tmp1_;
	GdkModifierType _tmp2_;
	gboolean _tmp3_ = FALSE;
	gboolean _tmp4_ = FALSE;
	GdkEventButton* _tmp5_;
	guint _tmp6_;
	self = _data5_->self;
	g_return_val_if_fail (e != NULL, FALSE);
	_tmp0_ = e;
	_tmp1_ = e;
	_tmp2_ = _tmp1_->state;
	_tmp1_->state = _tmp2_ & GRANITE_WIDGETS_MODIFIER_MASK;
	_tmp5_ = e;
	_tmp6_ = _tmp5_->button;
	if (_tmp6_ == ((guint) 2)) {
		GdkEventButton* _tmp7_;
		GdkModifierType _tmp8_;
		_tmp7_ = e;
		_tmp8_ = _tmp7_->state;
		_tmp4_ = _tmp8_ == 0;
	} else {
		_tmp4_ = FALSE;
	}
	if (_tmp4_) {
		gboolean _tmp9_;
		_tmp9_ = granite_widgets_tab_close_button_is_visible (self);
		_tmp3_ = _tmp9_;
	} else {
		_tmp3_ = FALSE;
	}
	if (_tmp3_) {
		g_signal_emit (self, granite_widgets_tab_signals[GRANITE_WIDGETS_TAB_CLOSED_SIGNAL], 0);
	} else {
		gboolean _tmp10_ = FALSE;
		gboolean _tmp11_ = FALSE;
		GdkEventButton* _tmp12_;
		guint _tmp13_;
		_tmp12_ = e;
		_tmp13_ = _tmp12_->button;
		if (_tmp13_ == ((guint) 2)) {
			GdkEventButton* _tmp14_;
			GdkModifierType _tmp15_;
			_tmp14_ = e;
			_tmp15_ = _tmp14_->state;
			_tmp11_ = _tmp15_ == GDK_SHIFT_MASK;
		} else {
			_tmp11_ = FALSE;
		}
		if (_tmp11_) {
			gboolean _tmp16_;
			_tmp16_ = granite_widgets_tab_close_button_is_visible (self);
			_tmp10_ = _tmp16_;
		} else {
			_tmp10_ = FALSE;
		}
		if (_tmp10_) {
			g_signal_emit (self, granite_widgets_tab_signals[GRANITE_WIDGETS_TAB_CLOSE_OTHERS_SIGNAL], 0);
		} else {
			gboolean _tmp17_ = FALSE;
			gboolean _tmp18_ = FALSE;
			GdkEventButton* _tmp19_;
			guint _tmp20_;
			_tmp19_ = e;
			_tmp20_ = _tmp19_->button;
			if (_tmp20_ == ((guint) 1)) {
				GdkEventButton* _tmp21_;
				GdkEventType _tmp22_;
				_tmp21_ = e;
				_tmp22_ = _tmp21_->type;
				_tmp18_ = _tmp22_ == GDK_2BUTTON_PRESS;
			} else {
				_tmp18_ = FALSE;
			}
			if (_tmp18_) {
				GtkMenuItem* _tmp23_;
				gboolean _tmp24_;
				gboolean _tmp25_;
				_tmp23_ = self->duplicate_m;
				_tmp24_ = gtk_widget_get_visible ((GtkWidget*) _tmp23_);
				_tmp25_ = _tmp24_;
				_tmp17_ = _tmp25_;
			} else {
				_tmp17_ = FALSE;
			}
			if (_tmp17_) {
				g_signal_emit (self, granite_widgets_tab_signals[GRANITE_WIDGETS_TAB_DUPLICATE_SIGNAL], 0);
			} else {
				GdkEventButton* _tmp26_;
				guint _tmp27_;
				_tmp26_ = e;
				_tmp27_ = _tmp26_->button;
				if (_tmp27_ == ((guint) 3)) {
					GtkMenu* _tmp28_;
					GdkEventButton* _tmp29_;
					guint32 _tmp30_;
					guint num_tabs = 0U;
					GtkContainer* _tmp31_;
					GList* _tmp32_;
					GList* _tmp33_;
					guint _tmp34_;
					guint _tmp35_;
					guint _tmp36_;
					guint _tmp37_;
					GtkMenuItem* _tmp38_;
					gboolean _tmp39_;
					gboolean _tmp40_;
					_tmp28_ = self->priv->_menu;
					_tmp29_ = e;
					_tmp30_ = _tmp29_->time;
					gtk_menu_popup (_tmp28_, NULL, NULL, NULL, NULL, (guint) 3, _tmp30_);
					_tmp31_ = (GtkContainer*) gtk_widget_get_parent ((GtkWidget*) self);
					_tmp32_ = gtk_container_get_children (G_TYPE_CHECK_INSTANCE_TYPE (_tmp31_, gtk_container_get_type ()) ? ((GtkContainer*) _tmp31_) : NULL);
					_tmp33_ = _tmp32_;
					_tmp34_ = g_list_length (_tmp33_);
					_tmp35_ = _tmp34_;
					_g_list_free0 (_tmp33_);
					num_tabs = _tmp35_;
					_tmp36_ = num_tabs;
					gtk_menu_item_set_label (_data5_->close_other_m, ngettext (_ ("Close Other Tab"), _ ("Close Other Tabs"), (gulong) (_tmp36_ - 1)));
					_tmp37_ = num_tabs;
					gtk_widget_set_sensitive ((GtkWidget*) _data5_->close_other_m, _tmp37_ != ((guint) 1));
					_tmp38_ = self->pin_m;
					gtk_menu_item_set_label (_tmp38_, "Pin");
					_tmp39_ = granite_widgets_tab_get_pinned (self);
					_tmp40_ = _tmp39_;
					if (_tmp40_) {
						GtkMenuItem* _tmp41_;
						_tmp41_ = self->pin_m;
						gtk_menu_item_set_label (_tmp41_, "Unpin");
					}
				} else {
					result = FALSE;
					return result;
				}
			}
		}
	}
	result = TRUE;
	return result;
}


static gboolean ___lambda44__gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self) {
	gboolean result;
	result = __lambda44_ (self, event);
	return result;
}


static gboolean __lambda45_ (GraniteWidgetsTab* self, GdkEventCrossing* e) {
	gboolean result = FALSE;
	g_return_val_if_fail (e != NULL, FALSE);
	self->priv->cursor_over_tab = TRUE;
	granite_widgets_tab_update_close_button_visibility (self);
	result = FALSE;
	return result;
}


static gboolean ___lambda45__gtk_widget_enter_notify_event (GtkWidget* _sender, GdkEventCrossing* event, gpointer self) {
	gboolean result;
	result = __lambda45_ ((GraniteWidgetsTab*) self, event);
	return result;
}


static gboolean __lambda46_ (GraniteWidgetsTab* self, GdkEventCrossing* e) {
	gboolean result = FALSE;
	gboolean _tmp0_;
	g_return_val_if_fail (e != NULL, FALSE);
	_tmp0_ = self->priv->cursor_over_tab;
	if (!_tmp0_) {
		result = FALSE;
		return result;
	}
	self->priv->cursor_over_tab = FALSE;
	granite_widgets_tab_update_close_button_visibility (self);
	result = FALSE;
	return result;
}


static gboolean ___lambda46__gtk_widget_leave_notify_event (GtkWidget* _sender, GdkEventCrossing* event, gpointer self) {
	gboolean result;
	result = __lambda46_ ((GraniteWidgetsTab*) self, event);
	return result;
}


static gboolean __lambda47_ (GraniteWidgetsTab* self, GdkEventCrossing* e) {
	gboolean result = FALSE;
	g_return_val_if_fail (e != NULL, FALSE);
	self->priv->cursor_over_close_button = TRUE;
	granite_widgets_tab_update_close_button_visibility (self);
	result = FALSE;
	return result;
}


static gboolean ___lambda47__gtk_widget_enter_notify_event (GtkWidget* _sender, GdkEventCrossing* event, gpointer self) {
	gboolean result;
	result = __lambda47_ ((GraniteWidgetsTab*) self, event);
	return result;
}


static gboolean __lambda48_ (GraniteWidgetsTab* self, GdkEventCrossing* e) {
	gboolean result = FALSE;
	gboolean _tmp0_;
	g_return_val_if_fail (e != NULL, FALSE);
	_tmp0_ = self->priv->cursor_over_close_button;
	if (!_tmp0_) {
		result = FALSE;
		return result;
	}
	self->priv->cursor_over_close_button = FALSE;
	granite_widgets_tab_update_close_button_visibility (self);
	result = FALSE;
	return result;
}


static gboolean ___lambda48__gtk_widget_leave_notify_event (GtkWidget* _sender, GdkEventCrossing* event, gpointer self) {
	gboolean result;
	result = __lambda48_ ((GraniteWidgetsTab*) self, event);
	return result;
}


static gboolean __lambda49_ (GraniteWidgetsTab* self) {
	gboolean result = FALSE;
	result = TRUE;
	return result;
}


static gboolean ___lambda49__gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self) {
	gboolean result;
	result = __lambda49_ ((GraniteWidgetsTab*) self);
	return result;
}


static void __lambda50_ (GraniteWidgetsTab* self) {
	g_signal_emit (self, granite_widgets_tab_signals[GRANITE_WIDGETS_TAB_CLOSED_SIGNAL], 0);
}


static void ___lambda50__gtk_button_clicked (GtkButton* _sender, gpointer self) {
	__lambda50_ ((GraniteWidgetsTab*) self);
}


GraniteWidgetsTab* granite_widgets_tab_construct (GType object_type, const gchar* label, GIcon* icon, GtkWidget* page) {
	GraniteWidgetsTab * self = NULL;
	Block5Data* _data5_;
	const gchar* _tmp0_;
	GtkLabel* _tmp1_;
	GtkLabel* _tmp2_;
	GIcon* _tmp3_;
	GtkSpinner* _tmp7_;
	GtkSpinner* _tmp8_;
	GtkButton* close_button = NULL;
	GtkButton* _tmp9_;
	GtkButton* _tmp10_;
	GtkImage* _tmp11_;
	GtkImage* _tmp12_;
	GtkButton* _tmp13_;
	GtkButton* _tmp14_;
	GtkButton* _tmp15_;
	GtkRevealer* _tmp16_;
	GtkRevealer* _tmp17_;
	GtkRevealer* _tmp18_;
	GtkButton* _tmp19_;
	GtkGrid* tab_layout = NULL;
	GtkGrid* _tmp20_;
	GtkGrid* _tmp21_;
	GtkGrid* _tmp22_;
	GtkGrid* _tmp23_;
	GtkRevealer* _tmp24_;
	GtkGrid* _tmp25_;
	GtkLabel* _tmp26_;
	GtkGrid* _tmp27_;
	GtkImage* _tmp28_;
	GtkGrid* _tmp29_;
	GtkSpinner* _tmp30_;
	GtkLabel* _tmp31_;
	const gchar* _tmp32_;
	GtkLabel* _tmp33_;
	GtkImage* _tmp34_;
	GtkSpinner* _tmp35_;
	GdkRGBA _tmp36_ = {0};
	GtkGrid* _tmp37_;
	GraniteWidgetsTabPageContainer* _tmp38_;
	GtkWidget* _tmp39_ = NULL;
	GtkWidget* _tmp40_;
	GtkWidget* _tmp41_;
	GtkMenu* _tmp43_;
	GtkMenu* _tmp44_;
	GtkMenuItem* close_m = NULL;
	GtkMenuItem* _tmp45_;
	GtkMenuItem* _tmp46_;
	GtkMenuItem* _tmp47_;
	GtkMenuItem* _tmp48_;
	GtkMenuItem* _tmp49_;
	GtkMenu* _tmp50_;
	GtkMenu* _tmp51_;
	GtkMenu* _tmp52_;
	GtkMenuItem* _tmp53_;
	GtkMenu* _tmp54_;
	GtkMenuItem* _tmp55_;
	GtkMenu* _tmp56_;
	GtkMenuItem* _tmp57_;
	GtkMenu* _tmp58_;
	GtkMenuItem* _tmp59_;
	GtkMenuItem* _tmp60_;
	GtkMenuItem* _tmp61_;
	GtkButton* _tmp62_;
	GtkButton* _tmp63_;
	GraniteWidgetsTabPageContainer* _tmp64_;
	GtkButton* _tmp65_;
	g_return_val_if_fail (label != NULL, NULL);
	_data5_ = g_slice_new0 (Block5Data);
	_data5_->_ref_count_ = 1;
	self = (GraniteWidgetsTab*) g_object_new (object_type, NULL);
	_data5_->self = g_object_ref (self);
	_tmp0_ = label;
	_tmp1_ = (GtkLabel*) gtk_label_new (_tmp0_);
	g_object_ref_sink (_tmp1_);
	_g_object_unref0 (self->priv->_label);
	self->priv->_label = _tmp1_;
	_tmp2_ = self->priv->_label;
	gtk_widget_set_hexpand ((GtkWidget*) _tmp2_, TRUE);
	_tmp3_ = icon;
	if (_tmp3_ != NULL) {
		GIcon* _tmp4_;
		GtkImage* _tmp5_;
		_tmp4_ = icon;
		_tmp5_ = (GtkImage*) gtk_image_new_from_gicon (_tmp4_, GTK_ICON_SIZE_MENU);
		g_object_ref_sink (_tmp5_);
		_g_object_unref0 (self->_icon);
		self->_icon = _tmp5_;
	} else {
		GtkImage* _tmp6_;
		_tmp6_ = (GtkImage*) gtk_image_new_from_icon_name ("image-missing", GTK_ICON_SIZE_MENU);
		g_object_ref_sink (_tmp6_);
		_g_object_unref0 (self->_icon);
		self->_icon = _tmp6_;
	}
	_tmp7_ = (GtkSpinner*) gtk_spinner_new ();
	g_object_ref_sink (_tmp7_);
	_g_object_unref0 (self->priv->_working);
	self->priv->_working = _tmp7_;
	_tmp8_ = self->priv->_working;
	gtk_spinner_start (_tmp8_);
	_tmp9_ = (GtkButton*) gtk_button_new ();
	g_object_ref_sink (_tmp9_);
	close_button = _tmp9_;
	_tmp10_ = close_button;
	_tmp11_ = (GtkImage*) gtk_image_new_from_icon_name ("window-close-symbolic", GTK_ICON_SIZE_MENU);
	g_object_ref_sink (_tmp11_);
	_tmp12_ = _tmp11_;
	gtk_container_add ((GtkContainer*) _tmp10_, (GtkWidget*) _tmp12_);
	_g_object_unref0 (_tmp12_);
	_tmp13_ = close_button;
	gtk_widget_set_tooltip_text ((GtkWidget*) _tmp13_, _ ("Close Tab"));
	_tmp14_ = close_button;
	gtk_button_set_relief (_tmp14_, GTK_RELIEF_NONE);
	_tmp15_ = close_button;
	granite_widgets_tab_fix_button_theming ((GtkWidget*) _tmp15_);
	_tmp16_ = (GtkRevealer*) gtk_revealer_new ();
	g_object_ref_sink (_tmp16_);
	_g_object_unref0 (self->priv->close_button_revealer);
	self->priv->close_button_revealer = _tmp16_;
	_tmp17_ = self->priv->close_button_revealer;
	gtk_revealer_set_transition_type (_tmp17_, GTK_REVEALER_TRANSITION_TYPE_CROSSFADE);
	_tmp18_ = self->priv->close_button_revealer;
	_tmp19_ = close_button;
	gtk_container_add ((GtkContainer*) _tmp18_, (GtkWidget*) _tmp19_);
	_tmp20_ = (GtkGrid*) gtk_grid_new ();
	g_object_ref_sink (_tmp20_);
	tab_layout = _tmp20_;
	_tmp21_ = tab_layout;
	gtk_widget_set_hexpand ((GtkWidget*) _tmp21_, FALSE);
	_tmp22_ = tab_layout;
	gtk_orientable_set_orientation ((GtkOrientable*) _tmp22_, GTK_ORIENTATION_HORIZONTAL);
	_tmp23_ = tab_layout;
	_tmp24_ = self->priv->close_button_revealer;
	gtk_container_add ((GtkContainer*) _tmp23_, (GtkWidget*) _tmp24_);
	_tmp25_ = tab_layout;
	_tmp26_ = self->priv->_label;
	gtk_container_add ((GtkContainer*) _tmp25_, (GtkWidget*) _tmp26_);
	_tmp27_ = tab_layout;
	_tmp28_ = self->_icon;
	gtk_container_add ((GtkContainer*) _tmp27_, (GtkWidget*) _tmp28_);
	_tmp29_ = tab_layout;
	_tmp30_ = self->priv->_working;
	gtk_container_add ((GtkContainer*) _tmp29_, (GtkWidget*) _tmp30_);
	_tmp31_ = self->priv->_label;
	_tmp32_ = label;
	gtk_widget_set_tooltip_text ((GtkWidget*) _tmp31_, _tmp32_);
	_tmp33_ = self->priv->_label;
	gtk_label_set_ellipsize (_tmp33_, PANGO_ELLIPSIZE_END);
	_tmp34_ = self->_icon;
	gtk_widget_set_size_request ((GtkWidget*) _tmp34_, 16, 16);
	_tmp35_ = self->priv->_working;
	gtk_widget_set_size_request ((GtkWidget*) _tmp35_, 16, 16);
	gtk_event_box_set_visible_window ((GtkEventBox*) self, TRUE);
	_tmp36_.red = (gdouble) 0;
	_tmp36_.green = (gdouble) 0;
	_tmp36_.blue = (gdouble) 0;
	_tmp36_.alpha = (gdouble) 0;
	gtk_widget_override_background_color ((GtkWidget*) self, 0, &_tmp36_);
	_tmp37_ = tab_layout;
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) _tmp37_);
	_tmp38_ = granite_widgets_tab_page_container_new (self);
	g_object_ref_sink (_tmp38_);
	_g_object_unref0 (self->page_container);
	self->page_container = _tmp38_;
	_tmp40_ = page;
	_tmp41_ = _g_object_ref0 (_tmp40_);
	_tmp39_ = _tmp41_;
	if (_tmp39_ == NULL) {
		GtkLabel* _tmp42_;
		_tmp42_ = (GtkLabel*) gtk_label_new ("");
		g_object_ref_sink (_tmp42_);
		_g_object_unref0 (_tmp39_);
		_tmp39_ = (GtkWidget*) _tmp42_;
	}
	granite_widgets_tab_set_page (self, _tmp39_);
	granite_widgets_tab_set_restore_data (self, "");
	gtk_widget_show_all ((GtkWidget*) self);
	_tmp43_ = (GtkMenu*) gtk_menu_new ();
	g_object_ref_sink (_tmp43_);
	_tmp44_ = _tmp43_;
	granite_widgets_tab_set_menu (self, _tmp44_);
	_g_object_unref0 (_tmp44_);
	_tmp45_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_ ("Close Tab"));
	g_object_ref_sink (_tmp45_);
	close_m = _tmp45_;
	_tmp46_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("");
	g_object_ref_sink (_tmp46_);
	_data5_->close_other_m = _tmp46_;
	_tmp47_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("");
	g_object_ref_sink (_tmp47_);
	_g_object_unref0 (self->pin_m);
	self->pin_m = _tmp47_;
	_tmp48_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_ ("Open in a new Window"));
	g_object_ref_sink (_tmp48_);
	_g_object_unref0 (self->new_window_m);
	self->new_window_m = _tmp48_;
	_tmp49_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_ ("Duplicate"));
	g_object_ref_sink (_tmp49_);
	_g_object_unref0 (self->duplicate_m);
	self->duplicate_m = _tmp49_;
	_tmp50_ = self->priv->_menu;
	gtk_menu_shell_append ((GtkMenuShell*) _tmp50_, (GtkWidget*) _data5_->close_other_m);
	_tmp51_ = self->priv->_menu;
	gtk_menu_shell_append ((GtkMenuShell*) _tmp51_, (GtkWidget*) close_m);
	_tmp52_ = self->priv->_menu;
	_tmp53_ = self->new_window_m;
	gtk_menu_shell_append ((GtkMenuShell*) _tmp52_, (GtkWidget*) _tmp53_);
	_tmp54_ = self->priv->_menu;
	_tmp55_ = self->duplicate_m;
	gtk_menu_shell_append ((GtkMenuShell*) _tmp54_, (GtkWidget*) _tmp55_);
	_tmp56_ = self->priv->_menu;
	_tmp57_ = self->pin_m;
	gtk_menu_shell_append ((GtkMenuShell*) _tmp56_, (GtkWidget*) _tmp57_);
	_tmp58_ = self->priv->_menu;
	gtk_widget_show_all ((GtkWidget*) _tmp58_);
	g_signal_connect_object (close_m, "activate", (GCallback) ___lambda38__gtk_menu_item_activate, self, 0);
	g_signal_connect_object (_data5_->close_other_m, "activate", (GCallback) ___lambda39__gtk_menu_item_activate, self, 0);
	_tmp59_ = self->new_window_m;
	g_signal_connect_object (_tmp59_, "activate", (GCallback) ___lambda40__gtk_menu_item_activate, self, 0);
	_tmp60_ = self->duplicate_m;
	g_signal_connect_object (_tmp60_, "activate", (GCallback) ___lambda41__gtk_menu_item_activate, self, 0);
	_tmp61_ = self->pin_m;
	g_signal_connect_object (_tmp61_, "activate", (GCallback) ___lambda42__gtk_menu_item_activate, self, 0);
	g_signal_connect_object ((GtkWidget*) self, "scroll-event", (GCallback) ___lambda43__gtk_widget_scroll_event, self, 0);
	g_signal_connect_data ((GtkWidget*) self, "button-press-event", (GCallback) ___lambda44__gtk_widget_button_press_event, block5_data_ref (_data5_), (GClosureNotify) block5_data_unref, 0);
	g_signal_connect_object ((GtkWidget*) self, "enter-notify-event", (GCallback) ___lambda45__gtk_widget_enter_notify_event, self, 0);
	g_signal_connect_object ((GtkWidget*) self, "leave-notify-event", (GCallback) ___lambda46__gtk_widget_leave_notify_event, self, 0);
	_tmp62_ = close_button;
	g_signal_connect_object ((GtkWidget*) _tmp62_, "enter-notify-event", (GCallback) ___lambda47__gtk_widget_enter_notify_event, self, 0);
	_tmp63_ = close_button;
	g_signal_connect_object ((GtkWidget*) _tmp63_, "leave-notify-event", (GCallback) ___lambda48__gtk_widget_leave_notify_event, self, 0);
	_tmp64_ = self->page_container;
	g_signal_connect_object ((GtkWidget*) _tmp64_, "button-press-event", (GCallback) ___lambda49__gtk_widget_button_press_event, self, 0);
	_tmp65_ = close_button;
	g_signal_connect_object (_tmp65_, "clicked", (GCallback) ___lambda50__gtk_button_clicked, self, 0);
	granite_widgets_tab_set_working (self, FALSE);
	granite_widgets_tab_update_close_button_visibility (self);
	_g_object_unref0 (close_m);
	_g_object_unref0 (_tmp39_);
	_g_object_unref0 (tab_layout);
	_g_object_unref0 (close_button);
	block5_data_unref (_data5_);
	_data5_ = NULL;
	return self;
}


GraniteWidgetsTab* granite_widgets_tab_new (const gchar* label, GIcon* icon, GtkWidget* page) {
	return granite_widgets_tab_construct (GRANITE_WIDGETS_TYPE_TAB, label, icon, page);
}


void granite_widgets_tab_close (GraniteWidgetsTab* self) {
	g_return_if_fail (self != NULL);
	g_signal_emit (self, granite_widgets_tab_signals[GRANITE_WIDGETS_TAB_CLOSED_SIGNAL], 0);
}


void granite_widgets_tab_fix_button_theming (GtkWidget* button) {
	GtkWidget* _tmp0_;
	GtkCssProvider* _tmp1_;
	GtkCssProvider* _tmp2_;
	g_return_if_fail (button != NULL);
	_tmp0_ = button;
	_tmp1_ = granite_widgets_utils_set_theming (_tmp0_, GRANITE_WIDGETS_TAB_CLOSE_BUTTON_STYLE, NULL, GTK_STYLE_PROVIDER_PRIORITY_APPLICATION);
	_tmp2_ = _tmp1_;
	_g_object_unref0 (_tmp2_);
}


static void granite_widgets_tab_update_close_button_visibility (GraniteWidgetsTab* self) {
	GtkRevealer* _tmp0_;
	gboolean _tmp1_;
	GtkRevealer* _tmp2_;
	gboolean _tmp3_;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_ = FALSE;
	gboolean _tmp6_;
	GtkRevealer* _tmp13_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->close_button_revealer;
	_tmp1_ = self->priv->_pinned;
	gtk_widget_set_no_show_all ((GtkWidget*) _tmp0_, _tmp1_);
	_tmp2_ = self->priv->close_button_revealer;
	_tmp3_ = self->priv->_pinned;
	gtk_widget_set_visible ((GtkWidget*) _tmp2_, !_tmp3_);
	_tmp6_ = self->priv->_closable;
	if (_tmp6_) {
		gboolean _tmp7_;
		_tmp7_ = self->priv->_pinned;
		_tmp5_ = !_tmp7_;
	} else {
		_tmp5_ = FALSE;
	}
	if (_tmp5_) {
		gboolean _tmp8_ = FALSE;
		gboolean _tmp9_ = FALSE;
		gboolean _tmp10_;
		_tmp10_ = self->priv->cursor_over_tab;
		if (_tmp10_) {
			_tmp9_ = TRUE;
		} else {
			gboolean _tmp11_;
			_tmp11_ = self->priv->cursor_over_close_button;
			_tmp9_ = _tmp11_;
		}
		if (_tmp9_) {
			_tmp8_ = TRUE;
		} else {
			gboolean _tmp12_;
			_tmp12_ = self->priv->_is_current_tab;
			_tmp8_ = _tmp12_;
		}
		_tmp4_ = _tmp8_;
	} else {
		_tmp4_ = FALSE;
	}
	_tmp13_ = self->priv->close_button_revealer;
	gtk_revealer_set_reveal_child (_tmp13_, _tmp4_);
}


static gboolean granite_widgets_tab_close_button_is_visible (GraniteWidgetsTab* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	GtkRevealer* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp1_ = self->priv->close_button_revealer;
	_tmp2_ = gtk_widget_get_visible ((GtkWidget*) _tmp1_);
	_tmp3_ = _tmp2_;
	if (_tmp3_) {
		GtkRevealer* _tmp4_;
		gboolean _tmp5_;
		gboolean _tmp6_;
		_tmp4_ = self->priv->close_button_revealer;
		_tmp5_ = gtk_revealer_get_child_revealed (_tmp4_);
		_tmp6_ = _tmp5_;
		_tmp0_ = _tmp6_;
	} else {
		_tmp0_ = FALSE;
	}
	result = _tmp0_;
	return result;
}


const gchar* granite_widgets_tab_get_label (GraniteWidgetsTab* self) {
	const gchar* result;
	GtkLabel* _tmp0_;
	const gchar* _tmp1_;
	const gchar* _tmp2_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_label;
	_tmp1_ = gtk_label_get_label (_tmp0_);
	_tmp2_ = _tmp1_;
	result = _tmp2_;
	return result;
}


void granite_widgets_tab_set_label (GraniteWidgetsTab* self, const gchar* value) {
	GtkLabel* _tmp0_;
	const gchar* _tmp1_;
	GtkLabel* _tmp2_;
	const gchar* _tmp3_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->_label;
	_tmp1_ = value;
	gtk_label_set_label (_tmp0_, _tmp1_);
	_tmp2_ = self->priv->_label;
	_tmp3_ = value;
	gtk_widget_set_tooltip_text ((GtkWidget*) _tmp2_, _tmp3_);
	g_object_notify ((GObject *) self, "label");
}


gboolean granite_widgets_tab_get_pinned (GraniteWidgetsTab* self) {
	gboolean result;
	gboolean _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->_pinned;
	result = _tmp0_;
	return result;
}


void granite_widgets_tab_set_pinned (GraniteWidgetsTab* self, gboolean value) {
	gboolean _tmp0_;
	gboolean _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = granite_widgets_tab_get_pinnable (self);
	_tmp1_ = _tmp0_;
	if (_tmp1_) {
		gboolean _tmp2_;
		gboolean _tmp3_;
		_tmp2_ = value;
		_tmp3_ = self->priv->_pinned;
		if (_tmp2_ != _tmp3_) {
			gboolean _tmp4_;
			gboolean _tmp11_;
			_tmp4_ = value;
			if (_tmp4_) {
				GtkLabel* _tmp5_;
				GtkImage* _tmp6_;
				GtkSpinner* _tmp7_;
				_tmp5_ = self->priv->_label;
				gtk_widget_set_visible ((GtkWidget*) _tmp5_, FALSE);
				_tmp6_ = self->_icon;
				gtk_widget_set_margin_left ((GtkWidget*) _tmp6_, 1);
				_tmp7_ = self->priv->_working;
				gtk_widget_set_margin_left ((GtkWidget*) _tmp7_, 1);
			} else {
				GtkLabel* _tmp8_;
				GtkImage* _tmp9_;
				GtkSpinner* _tmp10_;
				_tmp8_ = self->priv->_label;
				gtk_widget_set_visible ((GtkWidget*) _tmp8_, TRUE);
				_tmp9_ = self->_icon;
				gtk_widget_set_margin_left ((GtkWidget*) _tmp9_, 0);
				_tmp10_ = self->priv->_working;
				gtk_widget_set_margin_left ((GtkWidget*) _tmp10_, 0);
			}
			_tmp11_ = value;
			self->priv->_pinned = _tmp11_;
			granite_widgets_tab_update_close_button_visibility (self);
			g_signal_emit (self, granite_widgets_tab_signals[GRANITE_WIDGETS_TAB_PIN_SWITCH_SIGNAL], 0);
		}
	}
	g_object_notify ((GObject *) self, "pinned");
}


gboolean granite_widgets_tab_get_pinnable (GraniteWidgetsTab* self) {
	gboolean result;
	gboolean _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->_pinnable;
	result = _tmp0_;
	return result;
}


void granite_widgets_tab_set_pinnable (GraniteWidgetsTab* self, gboolean value) {
	gboolean _tmp0_;
	gboolean _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	if (!_tmp0_) {
		granite_widgets_tab_set_pinned (self, FALSE);
	}
	_tmp1_ = value;
	self->priv->_pinnable = _tmp1_;
	g_object_notify ((GObject *) self, "pinnable");
}


const gchar* granite_widgets_tab_get_restore_data (GraniteWidgetsTab* self) {
	const gchar* result;
	const gchar* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_restore_data;
	result = _tmp0_;
	return result;
}


void granite_widgets_tab_set_restore_data (GraniteWidgetsTab* self, const gchar* value) {
	g_return_if_fail (self != NULL);
	if (g_strcmp0 (value, granite_widgets_tab_get_restore_data (self)) != 0) {
		const gchar* _tmp0_;
		gchar* _tmp1_;
		_tmp0_ = value;
		_tmp1_ = g_strdup (_tmp0_);
		_g_free0 (self->priv->_restore_data);
		self->priv->_restore_data = _tmp1_;
		g_object_notify ((GObject *) self, "restore-data");
	}
}


GtkWidget* granite_widgets_tab_get_page (GraniteWidgetsTab* self) {
	GtkWidget* result;
	GraniteWidgetsTabPageContainer* _tmp0_;
	GtkWidget* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->page_container;
	_tmp1_ = gtk_bin_get_child ((GtkBin*) _tmp0_);
	result = _tmp1_;
	return result;
}


void granite_widgets_tab_set_page (GraniteWidgetsTab* self, GtkWidget* value) {
	GraniteWidgetsTabPageContainer* _tmp0_;
	GtkWidget* _tmp1_;
	GtkWidget* _tmp5_;
	GtkContainer* _tmp6_;
	GraniteWidgetsTabPageContainer* _tmp11_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->page_container;
	_tmp1_ = gtk_bin_get_child ((GtkBin*) _tmp0_);
	if (_tmp1_ != NULL) {
		GraniteWidgetsTabPageContainer* _tmp2_;
		GraniteWidgetsTabPageContainer* _tmp3_;
		GtkWidget* _tmp4_;
		_tmp2_ = self->page_container;
		_tmp3_ = self->page_container;
		_tmp4_ = gtk_bin_get_child ((GtkBin*) _tmp3_);
		gtk_container_remove ((GtkContainer*) _tmp2_, _tmp4_);
	}
	_tmp5_ = value;
	_tmp6_ = (GtkContainer*) gtk_widget_get_parent (_tmp5_);
	if (_tmp6_ != NULL) {
		GtkWidget* _tmp7_;
		GraniteWidgetsTabPageContainer* _tmp8_;
		_tmp7_ = value;
		_tmp8_ = self->page_container;
		gtk_widget_reparent (_tmp7_, (GtkWidget*) _tmp8_);
	} else {
		GraniteWidgetsTabPageContainer* _tmp9_;
		GtkWidget* _tmp10_;
		_tmp9_ = self->page_container;
		_tmp10_ = value;
		gtk_container_add ((GtkContainer*) _tmp9_, _tmp10_);
	}
	_tmp11_ = self->page_container;
	gtk_widget_show_all ((GtkWidget*) _tmp11_);
	g_object_notify ((GObject *) self, "page");
}


GIcon* granite_widgets_tab_get_icon (GraniteWidgetsTab* self) {
	GIcon* result;
	GtkImage* _tmp0_;
	GIcon* _tmp1_;
	GIcon* _tmp2_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->_icon;
	g_object_get (_tmp0_, "gicon", &_tmp1_, NULL);
	_tmp2_ = _tmp1_;
	result = _tmp2_;
	return result;
}


void granite_widgets_tab_set_icon (GraniteWidgetsTab* self, GIcon* value) {
	GtkImage* _tmp0_;
	GIcon* _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->_icon;
	_tmp1_ = value;
	g_object_set (_tmp0_, "gicon", _tmp1_, NULL);
	g_object_notify ((GObject *) self, "icon");
}


gboolean granite_widgets_tab_get_working (GraniteWidgetsTab* self) {
	gboolean result;
	gboolean _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->__working;
	result = _tmp0_;
	return result;
}


void granite_widgets_tab_set_working (GraniteWidgetsTab* self, gboolean value) {
	GtkSpinner* _tmp0_;
	gboolean _tmp1_;
	GtkImage* _tmp2_;
	gboolean _tmp3_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->_working;
	_tmp1_ = value;
	gtk_widget_set_visible ((GtkWidget*) _tmp0_, _tmp1_);
	self->priv->__working = _tmp1_;
	_tmp2_ = self->_icon;
	_tmp3_ = value;
	gtk_widget_set_visible ((GtkWidget*) _tmp2_, !_tmp3_);
	g_object_notify ((GObject *) self, "working");
}


PangoEllipsizeMode granite_widgets_tab_get_ellipsize_mode (GraniteWidgetsTab* self) {
	PangoEllipsizeMode result;
	GtkLabel* _tmp0_;
	PangoEllipsizeMode _tmp1_;
	PangoEllipsizeMode _tmp2_;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->priv->_label;
	_tmp1_ = gtk_label_get_ellipsize (_tmp0_);
	_tmp2_ = _tmp1_;
	result = _tmp2_;
	return result;
}


void granite_widgets_tab_set_ellipsize_mode (GraniteWidgetsTab* self, PangoEllipsizeMode value) {
	GtkLabel* _tmp0_;
	PangoEllipsizeMode _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->_label;
	_tmp1_ = value;
	gtk_label_set_ellipsize (_tmp0_, _tmp1_);
	g_object_notify ((GObject *) self, "ellipsize-mode");
}


gboolean granite_widgets_tab_get_fixed (GraniteWidgetsTab* self) {
	gboolean result;
	gboolean _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->_fixed;
	result = _tmp0_;
	return result;
}


void granite_widgets_tab_set_fixed (GraniteWidgetsTab* self, gboolean value) {
	gboolean _tmp0_;
	gboolean _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	_tmp1_ = self->priv->_fixed;
	if (_tmp0_ != _tmp1_) {
		gboolean _tmp2_;
		GtkLabel* _tmp3_;
		gboolean _tmp4_;
		_tmp2_ = value;
		self->priv->_fixed = _tmp2_;
		_tmp3_ = self->priv->_label;
		_tmp4_ = value;
		gtk_widget_set_visible ((GtkWidget*) _tmp3_, _tmp4_);
	}
	g_object_notify ((GObject *) self, "fixed");
}


GtkMenu* granite_widgets_tab_get_menu (GraniteWidgetsTab* self) {
	GtkMenu* result;
	GtkMenu* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_menu;
	result = _tmp0_;
	return result;
}


void granite_widgets_tab_set_menu (GraniteWidgetsTab* self, GtkMenu* value) {
	g_return_if_fail (self != NULL);
	if (granite_widgets_tab_get_menu (self) != value) {
		GtkMenu* _tmp0_;
		GtkMenu* _tmp1_;
		_tmp0_ = value;
		_tmp1_ = _g_object_ref0 (_tmp0_);
		_g_object_unref0 (self->priv->_menu);
		self->priv->_menu = _tmp1_;
		g_object_notify ((GObject *) self, "menu");
	}
}


void granite_widgets_tab_set_closable (GraniteWidgetsTab* self, gboolean value) {
	gboolean _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	_tmp1_ = self->priv->_closable;
	if (_tmp0_ == _tmp1_) {
		return;
	}
	_tmp2_ = value;
	self->priv->_closable = _tmp2_;
	granite_widgets_tab_update_close_button_visibility (self);
	g_object_notify ((GObject *) self, "closable");
}


void granite_widgets_tab_set_is_current_tab (GraniteWidgetsTab* self, gboolean value) {
	gboolean _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	self->priv->_is_current_tab = _tmp0_;
	granite_widgets_tab_update_close_button_visibility (self);
	g_object_notify ((GObject *) self, "is-current-tab");
}


static void granite_widgets_tab_class_init (GraniteWidgetsTabClass * klass) {
	granite_widgets_tab_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (GraniteWidgetsTabPrivate));
	G_OBJECT_CLASS (klass)->get_property = _vala_granite_widgets_tab_get_property;
	G_OBJECT_CLASS (klass)->set_property = _vala_granite_widgets_tab_set_property;
	G_OBJECT_CLASS (klass)->finalize = granite_widgets_tab_finalize;
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_TAB_LABEL_PROPERTY, g_param_spec_string ("label", "label", "label", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_TAB_PINNED_PROPERTY, g_param_spec_boolean ("pinned", "pinned", "pinned", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_TAB_PINNABLE_PROPERTY, g_param_spec_boolean ("pinnable", "pinnable", "pinnable", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	/**
	         * Data which will be kept once the tab is deleted, and which will be used by
	         * the application to restore the data into the restored tab. Let it empty if
	         * the tab should not be restored.
	         **/
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_TAB_RESTORE_DATA_PROPERTY, g_param_spec_string ("restore-data", "restore-data", "restore-data", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_TAB_PAGE_PROPERTY, g_param_spec_object ("page", "page", "page", gtk_widget_get_type (), G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_TAB_ICON_PROPERTY, g_param_spec_object ("icon", "icon", "icon", g_icon_get_type (), G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_TAB_WORKING_PROPERTY, g_param_spec_boolean ("working", "working", "working", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_TAB_ELLIPSIZE_MODE_PROPERTY, g_param_spec_enum ("ellipsize-mode", "ellipsize-mode", "ellipsize-mode", pango_ellipsize_mode_get_type (), 0, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_TAB_FIXED_PROPERTY, g_param_spec_boolean ("fixed", "fixed", "fixed", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_DEPRECATED));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_TAB_MENU_PROPERTY, g_param_spec_object ("menu", "menu", "menu", gtk_menu_get_type (), G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_TAB_CLOSABLE_PROPERTY, g_param_spec_boolean ("closable", "closable", "closable", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_TAB_IS_CURRENT_TAB_PROPERTY, g_param_spec_boolean ("is-current-tab", "is-current-tab", "is-current-tab", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_WRITABLE));
	granite_widgets_tab_signals[GRANITE_WIDGETS_TAB_CLOSED_SIGNAL] = g_signal_new ("closed", GRANITE_WIDGETS_TYPE_TAB, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
	granite_widgets_tab_signals[GRANITE_WIDGETS_TAB_CLOSE_OTHERS_SIGNAL] = g_signal_new ("close-others", GRANITE_WIDGETS_TYPE_TAB, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
	granite_widgets_tab_signals[GRANITE_WIDGETS_TAB_NEW_WINDOW_SIGNAL] = g_signal_new ("new-window", GRANITE_WIDGETS_TYPE_TAB, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
	granite_widgets_tab_signals[GRANITE_WIDGETS_TAB_DUPLICATE_SIGNAL] = g_signal_new ("duplicate", GRANITE_WIDGETS_TYPE_TAB, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
	granite_widgets_tab_signals[GRANITE_WIDGETS_TAB_PIN_SWITCH_SIGNAL] = g_signal_new ("pin-switch", GRANITE_WIDGETS_TYPE_TAB, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
}


static void granite_widgets_tab_instance_init (GraniteWidgetsTab * self) {
	self->priv = GRANITE_WIDGETS_TAB_GET_PRIVATE (self);
	self->priv->_pinned = FALSE;
	self->priv->_pinnable = TRUE;
	self->dropped_callback = NULL;
	self->dropped_callback_target = self;
	self->dropped_callback_target_destroy_notify = NULL;
	self->priv->_closable = TRUE;
	self->priv->_is_current_tab = FALSE;
	self->priv->cursor_over_tab = FALSE;
	self->priv->cursor_over_close_button = FALSE;
}


static void granite_widgets_tab_finalize (GObject * obj) {
	GraniteWidgetsTab * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GRANITE_WIDGETS_TYPE_TAB, GraniteWidgetsTab);
	_g_object_unref0 (self->priv->_label);
	_g_free0 (self->priv->_restore_data);
	(self->dropped_callback_target_destroy_notify == NULL) ? NULL : (self->dropped_callback_target_destroy_notify (self->dropped_callback_target), NULL);
	self->dropped_callback = NULL;
	self->dropped_callback_target = NULL;
	self->dropped_callback_target_destroy_notify = NULL;
	_g_object_unref0 (self->page_container);
	_g_object_unref0 (self->_icon);
	_g_object_unref0 (self->priv->_working);
	_g_object_unref0 (self->priv->_menu);
	_g_object_unref0 (self->new_window_m);
	_g_object_unref0 (self->duplicate_m);
	_g_object_unref0 (self->pin_m);
	_g_object_unref0 (self->priv->close_button_revealer);
	G_OBJECT_CLASS (granite_widgets_tab_parent_class)->finalize (obj);
}


/**
     * This is a standard tab which can be used in a notebook to form a tabbed UI.
     */
GType granite_widgets_tab_get_type (void) {
	static volatile gsize granite_widgets_tab_type_id__volatile = 0;
	if (g_once_init_enter (&granite_widgets_tab_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (GraniteWidgetsTabClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) granite_widgets_tab_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GraniteWidgetsTab), 0, (GInstanceInitFunc) granite_widgets_tab_instance_init, NULL };
		GType granite_widgets_tab_type_id;
		granite_widgets_tab_type_id = g_type_register_static (gtk_event_box_get_type (), "GraniteWidgetsTab", &g_define_type_info, 0);
		g_once_init_leave (&granite_widgets_tab_type_id__volatile, granite_widgets_tab_type_id);
	}
	return granite_widgets_tab_type_id__volatile;
}


static void _vala_granite_widgets_tab_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	GraniteWidgetsTab * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GRANITE_WIDGETS_TYPE_TAB, GraniteWidgetsTab);
	switch (property_id) {
		case GRANITE_WIDGETS_TAB_LABEL_PROPERTY:
		g_value_set_string (value, granite_widgets_tab_get_label (self));
		break;
		case GRANITE_WIDGETS_TAB_PINNED_PROPERTY:
		g_value_set_boolean (value, granite_widgets_tab_get_pinned (self));
		break;
		case GRANITE_WIDGETS_TAB_PINNABLE_PROPERTY:
		g_value_set_boolean (value, granite_widgets_tab_get_pinnable (self));
		break;
		case GRANITE_WIDGETS_TAB_RESTORE_DATA_PROPERTY:
		g_value_set_string (value, granite_widgets_tab_get_restore_data (self));
		break;
		case GRANITE_WIDGETS_TAB_PAGE_PROPERTY:
		g_value_set_object (value, granite_widgets_tab_get_page (self));
		break;
		case GRANITE_WIDGETS_TAB_ICON_PROPERTY:
		g_value_take_object (value, granite_widgets_tab_get_icon (self));
		break;
		case GRANITE_WIDGETS_TAB_WORKING_PROPERTY:
		g_value_set_boolean (value, granite_widgets_tab_get_working (self));
		break;
		case GRANITE_WIDGETS_TAB_ELLIPSIZE_MODE_PROPERTY:
		g_value_set_enum (value, granite_widgets_tab_get_ellipsize_mode (self));
		break;
		case GRANITE_WIDGETS_TAB_FIXED_PROPERTY:
G_GNUC_BEGIN_IGNORE_DEPRECATIONS
		g_value_set_boolean (value, granite_widgets_tab_get_fixed (self));
G_GNUC_END_IGNORE_DEPRECATIONS
		break;
		case GRANITE_WIDGETS_TAB_MENU_PROPERTY:
		g_value_set_object (value, granite_widgets_tab_get_menu (self));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}


static void _vala_granite_widgets_tab_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	GraniteWidgetsTab * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GRANITE_WIDGETS_TYPE_TAB, GraniteWidgetsTab);
	switch (property_id) {
		case GRANITE_WIDGETS_TAB_LABEL_PROPERTY:
		granite_widgets_tab_set_label (self, g_value_get_string (value));
		break;
		case GRANITE_WIDGETS_TAB_PINNED_PROPERTY:
		granite_widgets_tab_set_pinned (self, g_value_get_boolean (value));
		break;
		case GRANITE_WIDGETS_TAB_PINNABLE_PROPERTY:
		granite_widgets_tab_set_pinnable (self, g_value_get_boolean (value));
		break;
		case GRANITE_WIDGETS_TAB_RESTORE_DATA_PROPERTY:
		granite_widgets_tab_set_restore_data (self, g_value_get_string (value));
		break;
		case GRANITE_WIDGETS_TAB_PAGE_PROPERTY:
		granite_widgets_tab_set_page (self, g_value_get_object (value));
		break;
		case GRANITE_WIDGETS_TAB_ICON_PROPERTY:
		granite_widgets_tab_set_icon (self, g_value_get_object (value));
		break;
		case GRANITE_WIDGETS_TAB_WORKING_PROPERTY:
		granite_widgets_tab_set_working (self, g_value_get_boolean (value));
		break;
		case GRANITE_WIDGETS_TAB_ELLIPSIZE_MODE_PROPERTY:
		granite_widgets_tab_set_ellipsize_mode (self, g_value_get_enum (value));
		break;
		case GRANITE_WIDGETS_TAB_FIXED_PROPERTY:
G_GNUC_BEGIN_IGNORE_DEPRECATIONS
		granite_widgets_tab_set_fixed (self, g_value_get_boolean (value));
G_GNUC_END_IGNORE_DEPRECATIONS
		break;
		case GRANITE_WIDGETS_TAB_MENU_PROPERTY:
		granite_widgets_tab_set_menu (self, g_value_get_object (value));
		break;
		case GRANITE_WIDGETS_TAB_CLOSABLE_PROPERTY:
		granite_widgets_tab_set_closable (self, g_value_get_boolean (value));
		break;
		case GRANITE_WIDGETS_TAB_IS_CURRENT_TAB_PROPERTY:
		granite_widgets_tab_set_is_current_tab (self, g_value_get_boolean (value));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}


GraniteWidgetsClosedTabs* granite_widgets_closed_tabs_construct (GType object_type) {
	GraniteWidgetsClosedTabs * self = NULL;
	GeeLinkedList* _tmp0_;
	self = (GraniteWidgetsClosedTabs*) g_object_new (object_type, NULL);
	_tmp0_ = gee_linked_list_new (GRANITE_WIDGETS_CLOSED_TABS_TYPE_ENTRY, (GBoxedCopyFunc) granite_widgets_closed_tabs_entry_dup, (GDestroyNotify) granite_widgets_closed_tabs_entry_free, NULL, NULL, NULL);
	_g_object_unref0 (self->priv->closed_tabs);
	self->priv->closed_tabs = _tmp0_;
	return self;
}


GraniteWidgetsClosedTabs* granite_widgets_closed_tabs_new (void) {
	return granite_widgets_closed_tabs_construct (GRANITE_WIDGETS_TYPE_CLOSED_TABS);
}


void granite_widgets_closed_tabs_push (GraniteWidgetsClosedTabs* self, GraniteWidgetsTab* tab) {
	GraniteWidgetsClosedTabsEntry e = {0};
	GraniteWidgetsTab* _tmp16_;
	const gchar* _tmp17_;
	const gchar* _tmp18_;
	gchar* _tmp19_;
	GraniteWidgetsTab* _tmp20_;
	const gchar* _tmp21_;
	const gchar* _tmp22_;
	gchar* _tmp23_;
	GraniteWidgetsTab* _tmp24_;
	GIcon* _tmp25_;
	GIcon* _tmp26_;
	GraniteWidgetsTab* _tmp27_;
	GraniteWidgetsDroppedDelegate _tmp28_;
	void* _tmp28__target;
	GraniteWidgetsClosedTabsEntry _tmp29_ = {0};
	GeeLinkedList* _tmp30_;
	GraniteWidgetsClosedTabsEntry _tmp31_;
	GeeLinkedList* _tmp32_;
	gint _tmp33_;
	gint _tmp34_;
	gint _tmp35_;
	gint _tmp36_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (tab != NULL);
	{
		GeeLinkedList* _entry_list = NULL;
		GeeLinkedList* _tmp0_;
		GeeLinkedList* _tmp1_;
		gint _entry_size = 0;
		GeeLinkedList* _tmp2_;
		gint _tmp3_;
		gint _tmp4_;
		gint _entry_index = 0;
		_tmp0_ = self->priv->closed_tabs;
		_tmp1_ = _g_object_ref0 (_tmp0_);
		_entry_list = _tmp1_;
		_tmp2_ = _entry_list;
		_tmp3_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp2_);
		_tmp4_ = _tmp3_;
		_entry_size = _tmp4_;
		_entry_index = -1;
		while (TRUE) {
			gint _tmp5_;
			gint _tmp6_;
			gint _tmp7_;
			GraniteWidgetsClosedTabsEntry* entry = NULL;
			GeeLinkedList* _tmp8_;
			gint _tmp9_;
			gpointer _tmp10_;
			GraniteWidgetsTab* _tmp11_;
			const gchar* _tmp12_;
			const gchar* _tmp13_;
			GraniteWidgetsClosedTabsEntry* _tmp14_;
			const gchar* _tmp15_;
			_tmp5_ = _entry_index;
			_entry_index = _tmp5_ + 1;
			_tmp6_ = _entry_index;
			_tmp7_ = _entry_size;
			if (!(_tmp6_ < _tmp7_)) {
				break;
			}
			_tmp8_ = _entry_list;
			_tmp9_ = _entry_index;
			_tmp10_ = gee_abstract_list_get ((GeeAbstractList*) _tmp8_, _tmp9_);
			entry = (GraniteWidgetsClosedTabsEntry*) _tmp10_;
			_tmp11_ = tab;
			_tmp12_ = granite_widgets_tab_get_restore_data (_tmp11_);
			_tmp13_ = _tmp12_;
			_tmp14_ = entry;
			_tmp15_ = (*_tmp14_).restore_data;
			if (g_strcmp0 (_tmp13_, _tmp15_) == 0) {
				_granite_widgets_closed_tabs_entry_free0 (entry);
				_g_object_unref0 (_entry_list);
				return;
			}
			_granite_widgets_closed_tabs_entry_free0 (entry);
		}
		_g_object_unref0 (_entry_list);
	}
	_tmp16_ = tab;
	_tmp17_ = granite_widgets_tab_get_label (_tmp16_);
	_tmp18_ = _tmp17_;
	_tmp19_ = g_strdup (_tmp18_);
	_tmp20_ = tab;
	_tmp21_ = granite_widgets_tab_get_restore_data (_tmp20_);
	_tmp22_ = _tmp21_;
	_tmp23_ = g_strdup (_tmp22_);
	_tmp24_ = tab;
	_tmp25_ = granite_widgets_tab_get_icon (_tmp24_);
	_tmp26_ = _tmp25_;
	_tmp27_ = tab;
	_tmp28_ = _tmp27_->dropped_callback;
	_tmp28__target = _tmp27_->dropped_callback_target;
	_g_free0 (_tmp29_.label);
	_tmp29_.label = _tmp19_;
	_g_free0 (_tmp29_.restore_data);
	_tmp29_.restore_data = _tmp23_;
	_g_object_unref0 (_tmp29_.icon);
	_tmp29_.icon = _tmp26_;
	(_tmp29_.dropped_callback_target_destroy_notify == NULL) ? NULL : (_tmp29_.dropped_callback_target_destroy_notify (_tmp29_.dropped_callback_target), NULL);
	_tmp29_.dropped_callback = NULL;
	_tmp29_.dropped_callback_target = NULL;
	_tmp29_.dropped_callback_target_destroy_notify = NULL;
	_tmp29_.dropped_callback = _tmp28_;
	_tmp29_.dropped_callback_target = _tmp28__target;
	_tmp29_.dropped_callback_target_destroy_notify = NULL;
	e = _tmp29_;
	_tmp30_ = self->priv->closed_tabs;
	_tmp31_ = e;
	gee_abstract_collection_add ((GeeAbstractCollection*) _tmp30_, &_tmp31_);
	_tmp32_ = self->priv->closed_tabs;
	_tmp33_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp32_);
	_tmp34_ = _tmp33_;
	_tmp35_ = granite_widgets_closed_tabs_get_max_restorable_tabs (self);
	_tmp36_ = _tmp35_;
	if (_tmp34_ > _tmp36_) {
		GraniteWidgetsClosedTabsEntry* elem = NULL;
		GeeLinkedList* _tmp37_;
		gpointer _tmp38_;
		GraniteWidgetsDroppedDelegate dropped_callback = NULL;
		GraniteWidgetsClosedTabsEntry* _tmp39_;
		GraniteWidgetsDroppedDelegate _tmp40_;
		void* _tmp40__target;
		void* dropped_callback_target;
		GDestroyNotify dropped_callback_target_destroy_notify;
		GraniteWidgetsDroppedDelegate _tmp41_;
		void* _tmp41__target;
		_tmp37_ = self->priv->closed_tabs;
		_tmp38_ = gee_deque_poll_head ((GeeDeque*) _tmp37_);
		elem = (GraniteWidgetsClosedTabsEntry*) _tmp38_;
		_tmp39_ = elem;
		_tmp40_ = (*_tmp39_).dropped_callback;
		_tmp40__target = (*_tmp39_).dropped_callback_target;
		dropped_callback = _tmp40_;
		dropped_callback_target = _tmp40__target;
		dropped_callback_target_destroy_notify = NULL;
		_tmp41_ = dropped_callback;
		_tmp41__target = dropped_callback_target;
		if (_tmp41_ != NULL) {
			GraniteWidgetsDroppedDelegate _tmp42_;
			void* _tmp42__target;
			_tmp42_ = dropped_callback;
			_tmp42__target = dropped_callback_target;
			_tmp42_ (_tmp42__target);
		}
		(dropped_callback_target_destroy_notify == NULL) ? NULL : (dropped_callback_target_destroy_notify (dropped_callback_target), NULL);
		dropped_callback = NULL;
		dropped_callback_target = NULL;
		dropped_callback_target_destroy_notify = NULL;
		_granite_widgets_closed_tabs_entry_free0 (elem);
	}
	granite_widgets_closed_tabs_entry_destroy (&e);
}


void granite_widgets_closed_tabs_pop (GraniteWidgetsClosedTabs* self, GraniteWidgetsClosedTabsEntry* result) {
	GeeLinkedList* _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
	GeeLinkedList* _tmp3_;
	gpointer _tmp4_;
	GraniteWidgetsClosedTabsEntry* _tmp5_;
	GraniteWidgetsClosedTabsEntry _tmp6_ = {0};
	GraniteWidgetsClosedTabsEntry _tmp7_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->closed_tabs;
	_tmp1_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp0_);
	_tmp2_ = _tmp1_;
	_vala_assert (_tmp2_ > 0, "closed_tabs.size > 0");
	_tmp3_ = self->priv->closed_tabs;
	_tmp4_ = gee_deque_poll_tail ((GeeDeque*) _tmp3_);
	_tmp5_ = (GraniteWidgetsClosedTabsEntry*) _tmp4_;
	granite_widgets_closed_tabs_entry_copy (_tmp5_, &_tmp6_);
	_tmp7_ = _tmp6_;
	_granite_widgets_closed_tabs_entry_free0 (_tmp5_);
	*result = _tmp7_;
	return;
}


void granite_widgets_closed_tabs_pick (GraniteWidgetsClosedTabs* self, const gchar* search, GraniteWidgetsClosedTabsEntry* result) {
	GraniteWidgetsClosedTabsEntry picked = {0};
	GraniteWidgetsClosedTabsEntry _tmp0_ = {0};
	g_return_if_fail (self != NULL);
	g_return_if_fail (search != NULL);
	_g_free0 (_tmp0_.label);
	_tmp0_.label = NULL;
	_g_free0 (_tmp0_.restore_data);
	_tmp0_.restore_data = NULL;
	_g_object_unref0 (_tmp0_.icon);
	_tmp0_.icon = NULL;
	picked = _tmp0_;
	{
		gint i = 0;
		i = 0;
		{
			gboolean _tmp1_ = FALSE;
			_tmp1_ = TRUE;
			while (TRUE) {
				gint _tmp3_;
				GeeLinkedList* _tmp4_;
				gint _tmp5_;
				gint _tmp6_;
				GraniteWidgetsClosedTabsEntry* entry = NULL;
				GeeLinkedList* _tmp7_;
				gint _tmp8_;
				gpointer _tmp9_;
				GraniteWidgetsClosedTabsEntry* _tmp10_;
				const gchar* _tmp11_;
				const gchar* _tmp12_;
				if (!_tmp1_) {
					gint _tmp2_;
					_tmp2_ = i;
					i = _tmp2_ + 1;
				}
				_tmp1_ = FALSE;
				_tmp3_ = i;
				_tmp4_ = self->priv->closed_tabs;
				_tmp5_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp4_);
				_tmp6_ = _tmp5_;
				if (!(_tmp3_ < _tmp6_)) {
					break;
				}
				_tmp7_ = self->priv->closed_tabs;
				_tmp8_ = i;
				_tmp9_ = gee_abstract_list_get ((GeeAbstractList*) _tmp7_, _tmp8_);
				entry = (GraniteWidgetsClosedTabsEntry*) _tmp9_;
				_tmp10_ = entry;
				_tmp11_ = (*_tmp10_).restore_data;
				_tmp12_ = search;
				if (g_strcmp0 (_tmp11_, _tmp12_) == 0) {
					GeeLinkedList* _tmp13_;
					gint _tmp14_;
					gpointer _tmp15_;
					GraniteWidgetsClosedTabsEntry* _tmp16_;
					GraniteWidgetsClosedTabsEntry _tmp17_ = {0};
					_tmp13_ = self->priv->closed_tabs;
					_tmp14_ = i;
					_tmp15_ = gee_abstract_list_remove_at ((GeeAbstractList*) _tmp13_, _tmp14_);
					_tmp16_ = (GraniteWidgetsClosedTabsEntry*) _tmp15_;
					granite_widgets_closed_tabs_entry_copy (_tmp16_, &_tmp17_);
					granite_widgets_closed_tabs_entry_destroy (&picked);
					picked = _tmp17_;
					_granite_widgets_closed_tabs_entry_free0 (_tmp16_);
					_granite_widgets_closed_tabs_entry_free0 (entry);
					break;
				}
				_granite_widgets_closed_tabs_entry_free0 (entry);
			}
		}
	}
	*result = picked;
	return;
}


gint granite_widgets_closed_tabs_get_max_restorable_tabs (GraniteWidgetsClosedTabs* self) {
	gint result;
	gint _tmp0_;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->priv->_max_restorable_tabs;
	result = _tmp0_;
	return result;
}


void granite_widgets_closed_tabs_set_max_restorable_tabs (GraniteWidgetsClosedTabs* self, gint value) {
	gint _tmp0_;
	gint _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	_vala_assert (_tmp0_ > 0, "value > 0");
	_tmp1_ = value;
	self->priv->_max_restorable_tabs = _tmp1_;
	g_object_notify ((GObject *) self, "max-restorable-tabs");
}


gboolean granite_widgets_closed_tabs_get_empty (GraniteWidgetsClosedTabs* self) {
	gboolean result;
	GeeLinkedList* _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->closed_tabs;
	_tmp1_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp0_);
	_tmp2_ = _tmp1_;
	result = _tmp2_ == 0;
	return result;
}


static Block6Data* block6_data_ref (Block6Data* _data6_) {
	g_atomic_int_inc (&_data6_->_ref_count_);
	return _data6_;
}


static void block6_data_unref (void * _userdata_) {
	Block6Data* _data6_;
	_data6_ = (Block6Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data6_->_ref_count_)) {
		GraniteWidgetsClosedTabs* self;
		self = _data6_->self;
		_granite_widgets_closed_tabs_entry_free0 (_data6_->entry);
		_g_object_unref0 (self);
		g_slice_free (Block6Data, _data6_);
	}
}


static void _granite_widgets_closed_tabs_menu_____lambda51_ (Block6Data* _data6_) {
	GraniteWidgetsClosedTabs* self;
	GraniteWidgetsClosedTabsEntry e = {0};
	GraniteWidgetsClosedTabsEntry* _tmp0_;
	const gchar* _tmp1_;
	GraniteWidgetsClosedTabsEntry _tmp2_ = {0};
	GraniteWidgetsClosedTabsEntry _tmp3_;
	const gchar* _tmp4_;
	GraniteWidgetsClosedTabsEntry _tmp5_;
	const gchar* _tmp6_;
	GraniteWidgetsClosedTabsEntry _tmp7_;
	GIcon* _tmp8_;
	self = _data6_->self;
	_tmp0_ = _data6_->entry;
	_tmp1_ = (*_tmp0_).restore_data;
	granite_widgets_closed_tabs_pick (self, _tmp1_, &_tmp2_);
	e = _tmp2_;
	_tmp3_ = e;
	_tmp4_ = _tmp3_.label;
	_tmp5_ = e;
	_tmp6_ = _tmp5_.restore_data;
	_tmp7_ = e;
	_tmp8_ = _tmp7_.icon;
	g_signal_emit (self, granite_widgets_closed_tabs_signals[GRANITE_WIDGETS_CLOSED_TABS_RESTORED_SIGNAL], 0, _tmp4_, _tmp6_, _tmp8_);
	granite_widgets_closed_tabs_entry_destroy (&e);
}


static void __granite_widgets_closed_tabs_menu_____lambda51__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	_granite_widgets_closed_tabs_menu_____lambda51_ (self);
}


static void _granite_widgets_closed_tabs_menu____lambda52_ (GraniteWidgetsClosedTabs* self) {
	GeeLinkedList* _tmp15_;
	{
		GeeLinkedList* _entry_list = NULL;
		GeeLinkedList* _tmp0_;
		GeeLinkedList* _tmp1_;
		gint _entry_size = 0;
		GeeLinkedList* _tmp2_;
		gint _tmp3_;
		gint _tmp4_;
		gint _entry_index = 0;
		_tmp0_ = self->priv->closed_tabs;
		_tmp1_ = _g_object_ref0 (_tmp0_);
		_entry_list = _tmp1_;
		_tmp2_ = _entry_list;
		_tmp3_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp2_);
		_tmp4_ = _tmp3_;
		_entry_size = _tmp4_;
		_entry_index = -1;
		while (TRUE) {
			gint _tmp5_;
			gint _tmp6_;
			gint _tmp7_;
			GraniteWidgetsClosedTabsEntry* entry = NULL;
			GeeLinkedList* _tmp8_;
			gint _tmp9_;
			gpointer _tmp10_;
			GraniteWidgetsClosedTabsEntry* _tmp11_;
			GraniteWidgetsDroppedDelegate _tmp12_;
			void* _tmp12__target;
			_tmp5_ = _entry_index;
			_entry_index = _tmp5_ + 1;
			_tmp6_ = _entry_index;
			_tmp7_ = _entry_size;
			if (!(_tmp6_ < _tmp7_)) {
				break;
			}
			_tmp8_ = _entry_list;
			_tmp9_ = _entry_index;
			_tmp10_ = gee_abstract_list_get ((GeeAbstractList*) _tmp8_, _tmp9_);
			entry = (GraniteWidgetsClosedTabsEntry*) _tmp10_;
			_tmp11_ = entry;
			_tmp12_ = (*_tmp11_).dropped_callback;
			_tmp12__target = (*_tmp11_).dropped_callback_target;
			if (_tmp12_ != NULL) {
				GraniteWidgetsClosedTabsEntry* _tmp13_;
				GraniteWidgetsDroppedDelegate _tmp14_;
				void* _tmp14__target;
				_tmp13_ = entry;
				_tmp14_ = (*_tmp13_).dropped_callback;
				_tmp14__target = (*_tmp13_).dropped_callback_target;
				_tmp14_ (_tmp14__target);
			}
			_granite_widgets_closed_tabs_entry_free0 (entry);
		}
		_g_object_unref0 (_entry_list);
	}
	_tmp15_ = self->priv->closed_tabs;
	gee_abstract_collection_clear ((GeeAbstractCollection*) _tmp15_);
	g_signal_emit (self, granite_widgets_closed_tabs_signals[GRANITE_WIDGETS_CLOSED_TABS_CLEARED_SIGNAL], 0);
}


static void __granite_widgets_closed_tabs_menu____lambda52__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	_granite_widgets_closed_tabs_menu____lambda52_ ((GraniteWidgetsClosedTabs*) self);
}


GtkMenu* granite_widgets_closed_tabs_get_menu (GraniteWidgetsClosedTabs* self) {
	GtkMenu* result;
	GtkMenu* _menu = NULL;
	GtkMenu* _tmp0_;
	gboolean _tmp26_;
	gboolean _tmp27_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = (GtkMenu*) gtk_menu_new ();
	g_object_ref_sink (_tmp0_);
	_menu = _tmp0_;
	{
		GeeLinkedList* _entry_list = NULL;
		GeeLinkedList* _tmp1_;
		GeeLinkedList* _tmp2_;
		gint _entry_size = 0;
		GeeLinkedList* _tmp3_;
		gint _tmp4_;
		gint _tmp5_;
		gint _entry_index = 0;
		_tmp1_ = self->priv->closed_tabs;
		_tmp2_ = _g_object_ref0 (_tmp1_);
		_entry_list = _tmp2_;
		_tmp3_ = _entry_list;
		_tmp4_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp3_);
		_tmp5_ = _tmp4_;
		_entry_size = _tmp5_;
		_entry_index = -1;
		while (TRUE) {
			Block6Data* _data6_;
			gint _tmp6_;
			gint _tmp7_;
			gint _tmp8_;
			GeeLinkedList* _tmp9_;
			gint _tmp10_;
			gpointer _tmp11_;
			GtkImageMenuItem* item = NULL;
			GraniteWidgetsClosedTabsEntry* _tmp12_;
			const gchar* _tmp13_;
			GtkImageMenuItem* _tmp14_;
			GtkImageMenuItem* _tmp15_;
			GraniteWidgetsClosedTabsEntry* _tmp16_;
			GIcon* _tmp17_;
			GtkMenu* _tmp23_;
			GtkImageMenuItem* _tmp24_;
			GtkImageMenuItem* _tmp25_;
			_data6_ = g_slice_new0 (Block6Data);
			_data6_->_ref_count_ = 1;
			_data6_->self = g_object_ref (self);
			_tmp6_ = _entry_index;
			_entry_index = _tmp6_ + 1;
			_tmp7_ = _entry_index;
			_tmp8_ = _entry_size;
			if (!(_tmp7_ < _tmp8_)) {
				block6_data_unref (_data6_);
				_data6_ = NULL;
				break;
			}
			_tmp9_ = _entry_list;
			_tmp10_ = _entry_index;
			_tmp11_ = gee_abstract_list_get ((GeeAbstractList*) _tmp9_, _tmp10_);
			_data6_->entry = (GraniteWidgetsClosedTabsEntry*) _tmp11_;
			_tmp12_ = _data6_->entry;
			_tmp13_ = (*_tmp12_).label;
			_tmp14_ = (GtkImageMenuItem*) gtk_image_menu_item_new_with_label (_tmp13_);
			g_object_ref_sink (_tmp14_);
			item = _tmp14_;
			_tmp15_ = item;
			gtk_image_menu_item_set_always_show_image (_tmp15_, TRUE);
			_tmp16_ = _data6_->entry;
			_tmp17_ = (*_tmp16_).icon;
			if (_tmp17_ != NULL) {
				GtkImage* icon = NULL;
				GraniteWidgetsClosedTabsEntry* _tmp18_;
				GIcon* _tmp19_;
				GtkImage* _tmp20_;
				GtkImageMenuItem* _tmp21_;
				GtkImage* _tmp22_;
				_tmp18_ = _data6_->entry;
				_tmp19_ = (*_tmp18_).icon;
				_tmp20_ = (GtkImage*) gtk_image_new_from_gicon (_tmp19_, GTK_ICON_SIZE_MENU);
				g_object_ref_sink (_tmp20_);
				icon = _tmp20_;
				_tmp21_ = item;
				_tmp22_ = icon;
				gtk_image_menu_item_set_image (_tmp21_, (GtkWidget*) _tmp22_);
				_g_object_unref0 (icon);
			}
			_tmp23_ = _menu;
			_tmp24_ = item;
			gtk_menu_shell_prepend ((GtkMenuShell*) _tmp23_, (GtkWidget*) _tmp24_);
			_tmp25_ = item;
			g_signal_connect_data ((GtkMenuItem*) _tmp25_, "activate", (GCallback) __granite_widgets_closed_tabs_menu_____lambda51__gtk_menu_item_activate, block6_data_ref (_data6_), (GClosureNotify) block6_data_unref, 0);
			_g_object_unref0 (item);
			block6_data_unref (_data6_);
			_data6_ = NULL;
		}
		_g_object_unref0 (_entry_list);
	}
	_tmp26_ = granite_widgets_closed_tabs_get_empty (self);
	_tmp27_ = _tmp26_;
	if (!_tmp27_) {
		GtkSeparatorMenuItem* separator = NULL;
		GtkSeparatorMenuItem* _tmp28_;
		GtkMenuItem* item = NULL;
		GtkMenuItem* _tmp29_;
		GtkMenu* _tmp30_;
		GtkSeparatorMenuItem* _tmp31_;
		GtkMenu* _tmp32_;
		GtkMenuItem* _tmp33_;
		GtkMenuItem* _tmp34_;
		_tmp28_ = (GtkSeparatorMenuItem*) gtk_separator_menu_item_new ();
		g_object_ref_sink (_tmp28_);
		separator = _tmp28_;
		_tmp29_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_ ("Clear All"));
		g_object_ref_sink (_tmp29_);
		item = _tmp29_;
		_tmp30_ = _menu;
		_tmp31_ = separator;
		gtk_menu_shell_append ((GtkMenuShell*) _tmp30_, (GtkWidget*) ((GtkMenuItem*) _tmp31_));
		_tmp32_ = _menu;
		_tmp33_ = item;
		gtk_menu_shell_append ((GtkMenuShell*) _tmp32_, (GtkWidget*) _tmp33_);
		_tmp34_ = item;
		g_signal_connect_object (_tmp34_, "activate", (GCallback) __granite_widgets_closed_tabs_menu____lambda52__gtk_menu_item_activate, self, 0);
		_g_object_unref0 (item);
		_g_object_unref0 (separator);
	}
	result = _menu;
	return result;
}


static void g_cclosure_user_marshal_VOID__STRING_STRING_OBJECT (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data) {
	typedef void (*GMarshalFunc_VOID__STRING_STRING_OBJECT) (gpointer data1, const char* arg_1, const char* arg_2, gpointer arg_3, gpointer data2);
	register GMarshalFunc_VOID__STRING_STRING_OBJECT callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	cc = (GCClosure *) closure;
	g_return_if_fail (n_param_values == 4);
	if (G_CCLOSURE_SWAP_DATA (closure)) {
		data1 = closure->data;
		data2 = param_values->data[0].v_pointer;
	} else {
		data1 = param_values->data[0].v_pointer;
		data2 = closure->data;
	}
	callback = (GMarshalFunc_VOID__STRING_STRING_OBJECT) (marshal_data ? marshal_data : cc->callback);
	callback (data1, g_value_get_string (param_values + 1), g_value_get_string (param_values + 2), g_value_get_object (param_values + 3), data2);
}


void granite_widgets_closed_tabs_entry_copy (const GraniteWidgetsClosedTabsEntry* self, GraniteWidgetsClosedTabsEntry* dest) {
	const gchar* _tmp0_;
	gchar* _tmp1_;
	const gchar* _tmp2_;
	gchar* _tmp3_;
	GIcon* _tmp4_;
	GIcon* _tmp5_;
	GraniteWidgetsDroppedDelegate _tmp6_;
	void* _tmp6__target;
	_tmp0_ = (*self).label;
	_tmp1_ = g_strdup (_tmp0_);
	_g_free0 ((*dest).label);
	(*dest).label = _tmp1_;
	_tmp2_ = (*self).restore_data;
	_tmp3_ = g_strdup (_tmp2_);
	_g_free0 ((*dest).restore_data);
	(*dest).restore_data = _tmp3_;
	_tmp4_ = (*self).icon;
	_tmp5_ = _g_object_ref0 (_tmp4_);
	_g_object_unref0 ((*dest).icon);
	(*dest).icon = _tmp5_;
	_tmp6_ = (*self).dropped_callback;
	_tmp6__target = (*self).dropped_callback_target;
	((*dest).dropped_callback_target_destroy_notify == NULL) ? NULL : ((*dest).dropped_callback_target_destroy_notify ((*dest).dropped_callback_target), NULL);
	(*dest).dropped_callback = NULL;
	(*dest).dropped_callback_target = NULL;
	(*dest).dropped_callback_target_destroy_notify = NULL;
	(*dest).dropped_callback = _tmp6_;
	(*dest).dropped_callback_target = _tmp6__target;
	(*dest).dropped_callback_target_destroy_notify = NULL;
}


void granite_widgets_closed_tabs_entry_destroy (GraniteWidgetsClosedTabsEntry* self) {
	_g_free0 ((*self).label);
	_g_free0 ((*self).restore_data);
	_g_object_unref0 ((*self).icon);
	((*self).dropped_callback_target_destroy_notify == NULL) ? NULL : ((*self).dropped_callback_target_destroy_notify ((*self).dropped_callback_target), NULL);
	(*self).dropped_callback = NULL;
	(*self).dropped_callback_target = NULL;
	(*self).dropped_callback_target_destroy_notify = NULL;
}


GraniteWidgetsClosedTabsEntry* granite_widgets_closed_tabs_entry_dup (const GraniteWidgetsClosedTabsEntry* self) {
	GraniteWidgetsClosedTabsEntry* dup;
	dup = g_new0 (GraniteWidgetsClosedTabsEntry, 1);
	granite_widgets_closed_tabs_entry_copy (self, dup);
	return dup;
}


void granite_widgets_closed_tabs_entry_free (GraniteWidgetsClosedTabsEntry* self) {
	granite_widgets_closed_tabs_entry_destroy (self);
	g_free (self);
}


GType granite_widgets_closed_tabs_entry_get_type (void) {
	static volatile gsize granite_widgets_closed_tabs_entry_type_id__volatile = 0;
	if (g_once_init_enter (&granite_widgets_closed_tabs_entry_type_id__volatile)) {
		GType granite_widgets_closed_tabs_entry_type_id;
		granite_widgets_closed_tabs_entry_type_id = g_boxed_type_register_static ("GraniteWidgetsClosedTabsEntry", (GBoxedCopyFunc) granite_widgets_closed_tabs_entry_dup, (GBoxedFreeFunc) granite_widgets_closed_tabs_entry_free);
		g_once_init_leave (&granite_widgets_closed_tabs_entry_type_id__volatile, granite_widgets_closed_tabs_entry_type_id);
	}
	return granite_widgets_closed_tabs_entry_type_id__volatile;
}


static void granite_widgets_closed_tabs_class_init (GraniteWidgetsClosedTabsClass * klass) {
	granite_widgets_closed_tabs_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (GraniteWidgetsClosedTabsPrivate));
	G_OBJECT_CLASS (klass)->get_property = _vala_granite_widgets_closed_tabs_get_property;
	G_OBJECT_CLASS (klass)->set_property = _vala_granite_widgets_closed_tabs_set_property;
	G_OBJECT_CLASS (klass)->finalize = granite_widgets_closed_tabs_finalize;
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_CLOSED_TABS_MAX_RESTORABLE_TABS_PROPERTY, g_param_spec_int ("max-restorable-tabs", "max-restorable-tabs", "max-restorable-tabs", G_MININT, G_MAXINT, 0, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_CLOSED_TABS_EMPTY_PROPERTY, g_param_spec_boolean ("empty", "empty", "empty", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_CLOSED_TABS_MENU_PROPERTY, g_param_spec_object ("menu", "menu", "menu", gtk_menu_get_type (), G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
	granite_widgets_closed_tabs_signals[GRANITE_WIDGETS_CLOSED_TABS_RESTORED_SIGNAL] = g_signal_new ("restored", GRANITE_WIDGETS_TYPE_CLOSED_TABS, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_VOID__STRING_STRING_OBJECT, G_TYPE_NONE, 3, G_TYPE_STRING, G_TYPE_STRING, g_icon_get_type ());
	granite_widgets_closed_tabs_signals[GRANITE_WIDGETS_CLOSED_TABS_CLEARED_SIGNAL] = g_signal_new ("cleared", GRANITE_WIDGETS_TYPE_CLOSED_TABS, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
}


static void granite_widgets_closed_tabs_instance_init (GraniteWidgetsClosedTabs * self) {
	self->priv = GRANITE_WIDGETS_CLOSED_TABS_GET_PRIVATE (self);
	self->priv->_max_restorable_tabs = 10;
}


static void granite_widgets_closed_tabs_finalize (GObject * obj) {
	GraniteWidgetsClosedTabs * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GRANITE_WIDGETS_TYPE_CLOSED_TABS, GraniteWidgetsClosedTabs);
	_g_object_unref0 (self->priv->closed_tabs);
	G_OBJECT_CLASS (granite_widgets_closed_tabs_parent_class)->finalize (obj);
}


GType granite_widgets_closed_tabs_get_type (void) {
	static volatile gsize granite_widgets_closed_tabs_type_id__volatile = 0;
	if (g_once_init_enter (&granite_widgets_closed_tabs_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (GraniteWidgetsClosedTabsClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) granite_widgets_closed_tabs_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GraniteWidgetsClosedTabs), 0, (GInstanceInitFunc) granite_widgets_closed_tabs_instance_init, NULL };
		GType granite_widgets_closed_tabs_type_id;
		granite_widgets_closed_tabs_type_id = g_type_register_static (G_TYPE_OBJECT, "GraniteWidgetsClosedTabs", &g_define_type_info, 0);
		g_once_init_leave (&granite_widgets_closed_tabs_type_id__volatile, granite_widgets_closed_tabs_type_id);
	}
	return granite_widgets_closed_tabs_type_id__volatile;
}


static void _vala_granite_widgets_closed_tabs_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	GraniteWidgetsClosedTabs * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GRANITE_WIDGETS_TYPE_CLOSED_TABS, GraniteWidgetsClosedTabs);
	switch (property_id) {
		case GRANITE_WIDGETS_CLOSED_TABS_MAX_RESTORABLE_TABS_PROPERTY:
		g_value_set_int (value, granite_widgets_closed_tabs_get_max_restorable_tabs (self));
		break;
		case GRANITE_WIDGETS_CLOSED_TABS_EMPTY_PROPERTY:
		g_value_set_boolean (value, granite_widgets_closed_tabs_get_empty (self));
		break;
		case GRANITE_WIDGETS_CLOSED_TABS_MENU_PROPERTY:
		g_value_take_object (value, granite_widgets_closed_tabs_get_menu (self));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}


static void _vala_granite_widgets_closed_tabs_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	GraniteWidgetsClosedTabs * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GRANITE_WIDGETS_TYPE_CLOSED_TABS, GraniteWidgetsClosedTabs);
	switch (property_id) {
		case GRANITE_WIDGETS_CLOSED_TABS_MAX_RESTORABLE_TABS_PROPERTY:
		granite_widgets_closed_tabs_set_max_restorable_tabs (self, g_value_get_int (value));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}


GType granite_widgets_dynamic_notebook_tab_bar_behavior_get_type (void) {
	static volatile gsize granite_widgets_dynamic_notebook_tab_bar_behavior_type_id__volatile = 0;
	if (g_once_init_enter (&granite_widgets_dynamic_notebook_tab_bar_behavior_type_id__volatile)) {
		static const GEnumValue values[] = {{GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_BAR_BEHAVIOR_ALWAYS, "GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_BAR_BEHAVIOR_ALWAYS", "always"}, {GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_BAR_BEHAVIOR_SINGLE, "GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_BAR_BEHAVIOR_SINGLE", "single"}, {GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_BAR_BEHAVIOR_NEVER, "GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_BAR_BEHAVIOR_NEVER", "never"}, {0, NULL, NULL}};
		GType granite_widgets_dynamic_notebook_tab_bar_behavior_type_id;
		granite_widgets_dynamic_notebook_tab_bar_behavior_type_id = g_enum_register_static ("GraniteWidgetsDynamicNotebookTabBarBehavior", values);
		g_once_init_leave (&granite_widgets_dynamic_notebook_tab_bar_behavior_type_id__volatile, granite_widgets_dynamic_notebook_tab_bar_behavior_type_id);
	}
	return granite_widgets_dynamic_notebook_tab_bar_behavior_type_id__volatile;
}


static void _g_object_unref0_ (gpointer var) {
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
}


static void _g_list_free__g_object_unref0_ (GList* self) {
	g_list_foreach (self, (GFunc) _g_object_unref0_, NULL);
	g_list_free (self);
}


/**
         * Create a new dynamic notebook
         */
static gboolean __lambda53_ (GraniteWidgetsDynamicNotebook* self, cairo_t* ctx) {
	gboolean result = FALSE;
	GtkStyleContext* _tmp0_;
	cairo_t* _tmp1_;
	gint _tmp2_;
	g_return_val_if_fail (ctx != NULL, FALSE);
	_tmp0_ = gtk_widget_get_style_context ((GtkWidget*) self);
	_tmp1_ = ctx;
	_tmp2_ = gtk_widget_get_allocated_width ((GtkWidget*) self);
	gtk_render_activity (_tmp0_, _tmp1_, (gdouble) 0, (gdouble) 0, (gdouble) _tmp2_, (gdouble) 27);
	result = FALSE;
	return result;
}


static gboolean ___lambda53__gtk_widget_draw (GtkWidget* _sender, cairo_t* cr, gpointer self) {
	gboolean result;
	result = __lambda53_ ((GraniteWidgetsDynamicNotebook*) self, cr);
	return result;
}


static void __lambda54_ (GraniteWidgetsDynamicNotebook* self) {
	g_signal_emit (self, granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_NEW_TAB_REQUESTED_SIGNAL], 0);
}


static void ___lambda54__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	__lambda54_ ((GraniteWidgetsDynamicNotebook*) self);
}


static void __lambda55_ (GraniteWidgetsDynamicNotebook* self) {
	granite_widgets_dynamic_notebook_restore_last_tab (self);
}


static void ___lambda55__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	__lambda55_ ((GraniteWidgetsDynamicNotebook*) self);
}


static void __lambda56_ (GraniteWidgetsDynamicNotebook* self, const gchar* label, const gchar* restore_data, GIcon* icon) {
	gboolean _tmp0_;
	gboolean _tmp1_;
	GtkButton* _tmp2_;
	GraniteWidgetsClosedTabs* _tmp3_;
	gboolean _tmp4_;
	gboolean _tmp5_;
	GtkMenuItem* _tmp6_;
	GraniteWidgetsClosedTabs* _tmp7_;
	gboolean _tmp8_;
	gboolean _tmp9_;
	const gchar* _tmp10_;
	const gchar* _tmp11_;
	GIcon* _tmp12_;
	g_return_if_fail (label != NULL);
	g_return_if_fail (restore_data != NULL);
	_tmp0_ = granite_widgets_dynamic_notebook_get_allow_restoring (self);
	_tmp1_ = _tmp0_;
	if (!_tmp1_) {
		return;
	}
	_tmp2_ = self->priv->restore_button;
	_tmp3_ = self->priv->closed_tabs;
	_tmp4_ = granite_widgets_closed_tabs_get_empty (_tmp3_);
	_tmp5_ = _tmp4_;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp2_, !_tmp5_);
	_tmp6_ = self->priv->restore_tab_m;
	_tmp7_ = self->priv->closed_tabs;
	_tmp8_ = granite_widgets_closed_tabs_get_empty (_tmp7_);
	_tmp9_ = _tmp8_;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp6_, !_tmp9_);
	_tmp10_ = label;
	_tmp11_ = restore_data;
	_tmp12_ = icon;
	g_signal_emit (self, granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_RESTORED_SIGNAL], 0, _tmp10_, _tmp11_, _tmp12_);
}


static void ___lambda56__granite_widgets_closed_tabs_restored (GraniteWidgetsClosedTabs* _sender, const gchar* label, const gchar* restore_data, GIcon* icon, gpointer self) {
	__lambda56_ ((GraniteWidgetsDynamicNotebook*) self, label, restore_data, icon);
}


static void __lambda57_ (GraniteWidgetsDynamicNotebook* self) {
	GtkButton* _tmp0_;
	GtkMenuItem* _tmp1_;
	_tmp0_ = self->priv->restore_button;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp0_, FALSE);
	_tmp1_ = self->priv->restore_tab_m;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp1_, FALSE);
}


static void ___lambda57__granite_widgets_closed_tabs_cleared (GraniteWidgetsClosedTabs* _sender, gpointer self) {
	__lambda57_ ((GraniteWidgetsDynamicNotebook*) self);
}


static void __lambda58_ (GraniteWidgetsDynamicNotebook* self) {
	g_signal_emit (self, granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_NEW_TAB_REQUESTED_SIGNAL], 0);
}


static void ___lambda58__gtk_button_clicked (GtkButton* _sender, gpointer self) {
	__lambda58_ ((GraniteWidgetsDynamicNotebook*) self);
}


static gboolean __lambda59_ (GraniteWidgetsDynamicNotebook* self, GdkEventButton* e) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	GdkEventButton* _tmp1_;
	GdkEventType _tmp2_;
	g_return_val_if_fail (e != NULL, FALSE);
	_tmp1_ = e;
	_tmp2_ = _tmp1_->type;
	if (_tmp2_ == GDK_2BUTTON_PRESS) {
		GdkEventButton* _tmp3_;
		guint _tmp4_;
		_tmp3_ = e;
		_tmp4_ = _tmp3_->button;
		_tmp0_ = _tmp4_ == ((guint) 1);
	} else {
		_tmp0_ = FALSE;
	}
	result = _tmp0_;
	return result;
}


static gboolean ___lambda59__gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self) {
	gboolean result;
	result = __lambda59_ ((GraniteWidgetsDynamicNotebook*) self, event);
	return result;
}


static void _granite_widgets_dynamic_notebook_restore_menu_position_gtk_menu_position_func (GtkMenu* menu, gint* x, gint* y, gboolean* push_in, gpointer self) {
	granite_widgets_dynamic_notebook_restore_menu_position ((GraniteWidgetsDynamicNotebook*) self, menu, x, y, push_in);
	g_object_unref (self);
}


static void __lambda60_ (GraniteWidgetsDynamicNotebook* self) {
	GtkMenu* menu = NULL;
	GraniteWidgetsClosedTabs* _tmp0_;
	GtkMenu* _tmp1_;
	GtkMenu* _tmp2_;
	GtkButton* _tmp3_;
	_tmp0_ = self->priv->closed_tabs;
	_tmp1_ = granite_widgets_closed_tabs_get_menu (_tmp0_);
	_tmp2_ = _tmp1_;
	menu = _tmp2_;
	_tmp3_ = self->priv->restore_button;
	g_object_set (menu, "attach-widget", (GtkWidget*) _tmp3_, NULL);
	gtk_widget_show_all ((GtkWidget*) menu);
	gtk_menu_popup (menu, NULL, NULL, _granite_widgets_dynamic_notebook_restore_menu_position_gtk_menu_position_func, g_object_ref (self), (guint) 1, (guint32) 0);
	_g_object_unref0 (menu);
}


static void ___lambda60__gtk_button_clicked (GtkButton* _sender, gpointer self) {
	__lambda60_ ((GraniteWidgetsDynamicNotebook*) self);
}


static void __lambda61_ (GraniteWidgetsDynamicNotebook* self) {
	granite_widgets_dynamic_notebook_recalc_size (self);
}


static void ___lambda61__gtk_widget_size_allocate (GtkWidget* _sender, GtkAllocation* allocation, gpointer self) {
	__lambda61_ ((GraniteWidgetsDynamicNotebook*) self);
}


static gboolean __lambda62_ (GraniteWidgetsDynamicNotebook* self, GdkEventButton* e) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	GdkEventButton* _tmp1_;
	GdkEventType _tmp2_;
	g_return_val_if_fail (e != NULL, FALSE);
	_tmp1_ = e;
	_tmp2_ = _tmp1_->type;
	if (_tmp2_ == GDK_2BUTTON_PRESS) {
		GdkEventButton* _tmp3_;
		guint _tmp4_;
		_tmp3_ = e;
		_tmp4_ = _tmp3_->button;
		_tmp0_ = _tmp4_ == ((guint) 1);
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		g_signal_emit (self, granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_NEW_TAB_REQUESTED_SIGNAL], 0);
	} else {
		gboolean _tmp5_ = FALSE;
		GdkEventButton* _tmp6_;
		guint _tmp7_;
		_tmp6_ = e;
		_tmp7_ = _tmp6_->button;
		if (_tmp7_ == ((guint) 2)) {
			gboolean _tmp8_;
			gboolean _tmp9_;
			_tmp8_ = granite_widgets_dynamic_notebook_get_allow_restoring (self);
			_tmp9_ = _tmp8_;
			_tmp5_ = _tmp9_;
		} else {
			_tmp5_ = FALSE;
		}
		if (_tmp5_) {
			granite_widgets_dynamic_notebook_restore_last_tab (self);
			result = TRUE;
			return result;
		} else {
			GdkEventButton* _tmp10_;
			guint _tmp11_;
			_tmp10_ = e;
			_tmp11_ = _tmp10_->button;
			if (_tmp11_ == ((guint) 3)) {
				GtkMenu* _tmp12_;
				GdkEventButton* _tmp13_;
				guint32 _tmp14_;
				_tmp12_ = self->priv->_menu;
				_tmp13_ = e;
				_tmp14_ = _tmp13_->time;
				gtk_menu_popup (_tmp12_, NULL, NULL, NULL, NULL, (guint) 3, _tmp14_);
			}
		}
	}
	result = FALSE;
	return result;
}


static gboolean ___lambda62__gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self) {
	gboolean result;
	result = __lambda62_ ((GraniteWidgetsDynamicNotebook*) self, event);
	return result;
}


static gboolean __lambda63_ (GraniteWidgetsDynamicNotebook* self, GdkEventKey* e) {
	gboolean result = FALSE;
	GdkEventKey* _tmp0_;
	GdkEventKey* _tmp1_;
	GdkModifierType _tmp2_;
	GdkEventKey* _tmp3_;
	guint _tmp4_;
	g_return_val_if_fail (e != NULL, FALSE);
	_tmp0_ = e;
	_tmp1_ = e;
	_tmp2_ = _tmp1_->state;
	_tmp1_->state = _tmp2_ & GRANITE_WIDGETS_MODIFIER_MASK;
	_tmp3_ = e;
	_tmp4_ = _tmp3_->keyval;
	switch (_tmp4_) {
		case GDK_KEY_w:
		case GDK_KEY_W:
		{
			GdkEventKey* _tmp5_;
			GdkModifierType _tmp6_;
			_tmp5_ = e;
			_tmp6_ = _tmp5_->state;
			if (_tmp6_ == GDK_CONTROL_MASK) {
				gboolean _tmp7_;
				gboolean _tmp8_;
				GraniteWidgetsTab* _tmp9_;
				GraniteWidgetsTab* _tmp10_;
				_tmp7_ = granite_widgets_dynamic_notebook_get_tabs_closable (self);
				_tmp8_ = _tmp7_;
				if (!_tmp8_) {
					break;
				}
				_tmp9_ = granite_widgets_dynamic_notebook_get_current (self);
				_tmp10_ = _tmp9_;
				granite_widgets_dynamic_notebook_remove_tab (self, _tmp10_);
				result = TRUE;
				return result;
			}
			break;
		}
		case GDK_KEY_t:
		case GDK_KEY_T:
		{
			GdkEventKey* _tmp11_;
			GdkModifierType _tmp12_;
			_tmp11_ = e;
			_tmp12_ = _tmp11_->state;
			if (_tmp12_ == GDK_CONTROL_MASK) {
				g_signal_emit (self, granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_NEW_TAB_REQUESTED_SIGNAL], 0);
				result = TRUE;
				return result;
			} else {
				gboolean _tmp13_ = FALSE;
				GdkEventKey* _tmp14_;
				GdkModifierType _tmp15_;
				_tmp14_ = e;
				_tmp15_ = _tmp14_->state;
				if (_tmp15_ == (GDK_CONTROL_MASK | GDK_SHIFT_MASK)) {
					gboolean _tmp16_;
					gboolean _tmp17_;
					_tmp16_ = granite_widgets_dynamic_notebook_get_allow_restoring (self);
					_tmp17_ = _tmp16_;
					_tmp13_ = _tmp17_;
				} else {
					_tmp13_ = FALSE;
				}
				if (_tmp13_) {
					granite_widgets_dynamic_notebook_restore_last_tab (self);
					result = TRUE;
					return result;
				}
			}
			break;
		}
		case GDK_KEY_Page_Up:
		{
			GdkEventKey* _tmp18_;
			GdkModifierType _tmp19_;
			_tmp18_ = e;
			_tmp19_ = _tmp18_->state;
			if (_tmp19_ == GDK_CONTROL_MASK) {
				granite_widgets_dynamic_notebook_next_page (self);
				result = TRUE;
				return result;
			}
			break;
		}
		case GDK_KEY_Page_Down:
		{
			GdkEventKey* _tmp20_;
			GdkModifierType _tmp21_;
			_tmp20_ = e;
			_tmp21_ = _tmp20_->state;
			if (_tmp21_ == GDK_CONTROL_MASK) {
				granite_widgets_dynamic_notebook_previous_page (self);
				result = TRUE;
				return result;
			}
			break;
		}
		case GDK_KEY_1:
		case GDK_KEY_2:
		case GDK_KEY_3:
		case GDK_KEY_4:
		case GDK_KEY_5:
		case GDK_KEY_6:
		case GDK_KEY_7:
		case GDK_KEY_8:
		{
			GdkEventKey* _tmp22_;
			GdkModifierType _tmp23_;
			_tmp22_ = e;
			_tmp23_ = _tmp22_->state;
			if ((_tmp23_ & GDK_MOD1_MASK) == GDK_MOD1_MASK) {
				guint i = 0U;
				GdkEventKey* _tmp24_;
				guint _tmp25_;
				gint n_pages = 0;
				GtkNotebook* _tmp26_;
				gint _tmp27_;
				guint _tmp28_ = 0U;
				guint _tmp29_;
				gint _tmp30_;
				GtkNotebook* _tmp33_;
				_tmp24_ = e;
				_tmp25_ = _tmp24_->keyval;
				i = _tmp25_ - 49;
				_tmp26_ = self->priv->notebook;
				_tmp27_ = gtk_notebook_get_n_pages (_tmp26_);
				n_pages = _tmp27_;
				_tmp29_ = i;
				_tmp30_ = n_pages;
				if (_tmp29_ >= ((guint) _tmp30_)) {
					gint _tmp31_;
					_tmp31_ = n_pages;
					_tmp28_ = (guint) (_tmp31_ - 1);
				} else {
					guint _tmp32_;
					_tmp32_ = i;
					_tmp28_ = _tmp32_;
				}
				_tmp33_ = self->priv->notebook;
				g_object_set (_tmp33_, "page", (gint) _tmp28_, NULL);
				result = TRUE;
				return result;
			}
			break;
		}
		case GDK_KEY_9:
		{
			GdkEventKey* _tmp34_;
			GdkModifierType _tmp35_;
			_tmp34_ = e;
			_tmp35_ = _tmp34_->state;
			if ((_tmp35_ & GDK_MOD1_MASK) == GDK_MOD1_MASK) {
				GtkNotebook* _tmp36_;
				GtkNotebook* _tmp37_;
				gint _tmp38_;
				_tmp36_ = self->priv->notebook;
				_tmp37_ = self->priv->notebook;
				_tmp38_ = gtk_notebook_get_n_pages (_tmp37_);
				g_object_set (_tmp36_, "page", _tmp38_ - 1, NULL);
				result = TRUE;
				return result;
			}
			break;
		}
		default:
		break;
	}
	result = FALSE;
	return result;
}


static gboolean ___lambda63__gtk_widget_key_press_event (GtkWidget* _sender, GdkEventKey* event, gpointer self) {
	gboolean result;
	result = __lambda63_ ((GraniteWidgetsDynamicNotebook*) self, event);
	return result;
}


static void _granite_widgets_dynamic_notebook_on_switch_page_gtk_notebook_switch_page (GtkNotebook* _sender, GtkWidget* page, guint page_num, gpointer self) {
	granite_widgets_dynamic_notebook_on_switch_page ((GraniteWidgetsDynamicNotebook*) self, page, page_num);
}


static void _granite_widgets_dynamic_notebook_on_page_added_gtk_notebook_page_added (GtkNotebook* _sender, GtkWidget* child, guint page_num, gpointer self) {
	granite_widgets_dynamic_notebook_on_page_added ((GraniteWidgetsDynamicNotebook*) self, child, page_num);
}


static void _granite_widgets_dynamic_notebook_on_page_removed_gtk_notebook_page_removed (GtkNotebook* _sender, GtkWidget* child, guint page_num, gpointer self) {
	granite_widgets_dynamic_notebook_on_page_removed ((GraniteWidgetsDynamicNotebook*) self, child, page_num);
}


static void _granite_widgets_dynamic_notebook_on_page_reordered_gtk_notebook_page_reordered (GtkNotebook* _sender, GtkWidget* child, guint page_num, gpointer self) {
	granite_widgets_dynamic_notebook_on_page_reordered ((GraniteWidgetsDynamicNotebook*) self, child, page_num);
}


static GtkNotebook* _granite_widgets_dynamic_notebook_on_create_window_gtk_notebook_create_window (GtkNotebook* _sender, GtkWidget* page, gint x, gint y, gpointer self) {
	GtkNotebook* result;
	result = granite_widgets_dynamic_notebook_on_create_window ((GraniteWidgetsDynamicNotebook*) self, page, x, y);
	return result;
}


GraniteWidgetsDynamicNotebook* granite_widgets_dynamic_notebook_construct (GType object_type) {
	GraniteWidgetsDynamicNotebook * self = NULL;
	GtkNotebook* _tmp0_;
	GtkStyleContext* _tmp1_;
	GtkNotebook* _tmp2_;
	GtkNotebook* _tmp3_;
	GtkNotebook* _tmp4_;
	GtkMenu* _tmp5_;
	GtkMenu* _tmp6_;
	GtkMenuItem* _tmp7_;
	GtkMenuItem* _tmp8_;
	GtkMenuItem* _tmp9_;
	GtkMenu* _tmp10_;
	GtkMenuItem* _tmp11_;
	GtkMenu* _tmp12_;
	GtkMenuItem* _tmp13_;
	GtkMenu* _tmp14_;
	GtkMenuItem* _tmp15_;
	GtkMenuItem* _tmp16_;
	GraniteWidgetsClosedTabs* _tmp17_;
	GraniteWidgetsClosedTabs* _tmp18_;
	GraniteWidgetsClosedTabs* _tmp19_;
	GtkBox* add_button_box = NULL;
	GtkBox* _tmp20_;
	GtkButton* _tmp21_;
	GtkButton* _tmp22_;
	GtkImage* _tmp23_;
	GtkImage* _tmp24_;
	GtkButton* _tmp25_;
	GtkButton* _tmp26_;
	GtkButton* _tmp27_;
	GtkButton* _tmp28_;
	GtkNotebook* _tmp29_;
	GtkButton* _tmp30_;
	GtkButton* _tmp31_;
	GtkImage* _tmp32_;
	GtkImage* _tmp33_;
	GtkButton* _tmp34_;
	GtkButton* _tmp35_;
	GtkButton* _tmp36_;
	GtkButton* _tmp37_;
	GtkNotebook* _tmp38_;
	GtkButton* _tmp39_;
	GtkButton* _tmp40_;
	GtkButton* _tmp41_;
	GtkButton* _tmp42_;
	GtkButton* _tmp43_;
	GtkMenuItem* _tmp44_;
	gboolean _tmp45_;
	gboolean _tmp46_;
	GtkButton* _tmp47_;
	gboolean _tmp48_;
	gboolean _tmp49_;
	GtkNotebook* _tmp50_;
	GtkNotebook* _tmp51_;
	GtkNotebook* _tmp52_;
	GtkNotebook* _tmp53_;
	GtkNotebook* _tmp54_;
	self = (GraniteWidgetsDynamicNotebook*) g_object_new (object_type, NULL);
	_tmp0_ = (GtkNotebook*) gtk_notebook_new ();
	g_object_ref_sink (_tmp0_);
	_g_object_unref0 (self->priv->notebook);
	self->priv->notebook = _tmp0_;
	gtk_event_box_set_visible_window ((GtkEventBox*) self, FALSE);
	_tmp1_ = gtk_widget_get_style_context ((GtkWidget*) self);
	gtk_style_context_add_class (_tmp1_, "dynamic-notebook");
	_tmp2_ = self->priv->notebook;
	gtk_notebook_set_scrollable (_tmp2_, TRUE);
	_tmp3_ = self->priv->notebook;
	gtk_notebook_set_show_border (_tmp3_, FALSE);
	self->priv->_tab_bar_behavior = GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_BAR_BEHAVIOR_ALWAYS;
	g_signal_connect_object ((GtkWidget*) self, "draw", (GCallback) ___lambda53__gtk_widget_draw, self, 0);
	_tmp4_ = self->priv->notebook;
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) _tmp4_);
	_tmp5_ = (GtkMenu*) gtk_menu_new ();
	g_object_ref_sink (_tmp5_);
	_tmp6_ = _tmp5_;
	granite_widgets_dynamic_notebook_set_menu (self, _tmp6_);
	_g_object_unref0 (_tmp6_);
	_tmp7_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_ ("New Tab"));
	g_object_ref_sink (_tmp7_);
	_g_object_unref0 (self->priv->new_tab_m);
	self->priv->new_tab_m = _tmp7_;
	_tmp8_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_ ("Undo Close Tab"));
	g_object_ref_sink (_tmp8_);
	_g_object_unref0 (self->priv->restore_tab_m);
	self->priv->restore_tab_m = _tmp8_;
	_tmp9_ = self->priv->restore_tab_m;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp9_, FALSE);
	_tmp10_ = self->priv->_menu;
	_tmp11_ = self->priv->new_tab_m;
	gtk_menu_shell_append ((GtkMenuShell*) _tmp10_, (GtkWidget*) _tmp11_);
	_tmp12_ = self->priv->_menu;
	_tmp13_ = self->priv->restore_tab_m;
	gtk_menu_shell_append ((GtkMenuShell*) _tmp12_, (GtkWidget*) _tmp13_);
	_tmp14_ = self->priv->_menu;
	gtk_widget_show_all ((GtkWidget*) _tmp14_);
	_tmp15_ = self->priv->new_tab_m;
	g_signal_connect_object (_tmp15_, "activate", (GCallback) ___lambda54__gtk_menu_item_activate, self, 0);
	_tmp16_ = self->priv->restore_tab_m;
	g_signal_connect_object (_tmp16_, "activate", (GCallback) ___lambda55__gtk_menu_item_activate, self, 0);
	_tmp17_ = granite_widgets_closed_tabs_new ();
	_g_object_unref0 (self->priv->closed_tabs);
	self->priv->closed_tabs = _tmp17_;
	_tmp18_ = self->priv->closed_tabs;
	g_signal_connect_object (_tmp18_, "restored", (GCallback) ___lambda56__granite_widgets_closed_tabs_restored, self, 0);
	_tmp19_ = self->priv->closed_tabs;
	g_signal_connect_object (_tmp19_, "cleared", (GCallback) ___lambda57__granite_widgets_closed_tabs_cleared, self, 0);
	_tmp20_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
	g_object_ref_sink (_tmp20_);
	add_button_box = _tmp20_;
	_tmp21_ = (GtkButton*) gtk_button_new ();
	g_object_ref_sink (_tmp21_);
	_g_object_unref0 (self->priv->add_button);
	self->priv->add_button = _tmp21_;
	_tmp22_ = self->priv->add_button;
	_tmp23_ = (GtkImage*) gtk_image_new_from_icon_name ("list-add-symbolic", GTK_ICON_SIZE_MENU);
	g_object_ref_sink (_tmp23_);
	_tmp24_ = _tmp23_;
	gtk_container_add ((GtkContainer*) _tmp22_, (GtkWidget*) _tmp24_);
	_g_object_unref0 (_tmp24_);
	_tmp25_ = self->priv->add_button;
	gtk_button_set_relief (_tmp25_, GTK_RELIEF_NONE);
	_tmp26_ = self->priv->add_button;
	gtk_widget_set_tooltip_text ((GtkWidget*) _tmp26_, _ ("New Tab"));
	_tmp27_ = self->priv->add_button;
	granite_widgets_tab_fix_button_theming ((GtkWidget*) _tmp27_);
	_tmp28_ = self->priv->add_button;
	gtk_box_pack_start (add_button_box, (GtkWidget*) _tmp28_, FALSE, FALSE, (guint) GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ADD_BUTTON_PADDING);
	gtk_widget_show_all ((GtkWidget*) add_button_box);
	_tmp29_ = self->priv->notebook;
	gtk_notebook_set_action_widget (_tmp29_, (GtkWidget*) add_button_box, GTK_PACK_START);
	_tmp30_ = (GtkButton*) gtk_button_new ();
	g_object_ref_sink (_tmp30_);
	_g_object_unref0 (self->priv->restore_button);
	self->priv->restore_button = _tmp30_;
	_tmp31_ = self->priv->restore_button;
	_tmp32_ = (GtkImage*) gtk_image_new_from_icon_name ("document-open-recent-symbolic", GTK_ICON_SIZE_MENU);
	g_object_ref_sink (_tmp32_);
	_tmp33_ = _tmp32_;
	gtk_container_add ((GtkContainer*) _tmp31_, (GtkWidget*) _tmp33_);
	_g_object_unref0 (_tmp33_);
	_tmp34_ = self->priv->restore_button;
	gtk_widget_set_margin_right ((GtkWidget*) _tmp34_, 5);
	_tmp35_ = self->priv->restore_button;
	gtk_button_set_relief (_tmp35_, GTK_RELIEF_NONE);
	_tmp36_ = self->priv->restore_button;
	gtk_widget_set_tooltip_text ((GtkWidget*) _tmp36_, _ ("Closed Tabs"));
	_tmp37_ = self->priv->restore_button;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp37_, FALSE);
	_tmp38_ = self->priv->notebook;
	_tmp39_ = self->priv->restore_button;
	gtk_notebook_set_action_widget (_tmp38_, (GtkWidget*) _tmp39_, GTK_PACK_END);
	_tmp40_ = self->priv->restore_button;
	gtk_widget_show_all ((GtkWidget*) _tmp40_);
	_tmp41_ = self->priv->add_button;
	g_signal_connect_object (_tmp41_, "clicked", (GCallback) ___lambda58__gtk_button_clicked, self, 0);
	_tmp42_ = self->priv->add_button;
	g_signal_connect_object ((GtkWidget*) _tmp42_, "button-press-event", (GCallback) ___lambda59__gtk_widget_button_press_event, self, 0);
	_tmp43_ = self->priv->restore_button;
	g_signal_connect_object (_tmp43_, "clicked", (GCallback) ___lambda60__gtk_button_clicked, self, 0);
	_tmp44_ = self->priv->restore_tab_m;
	_tmp45_ = granite_widgets_dynamic_notebook_get_allow_restoring (self);
	_tmp46_ = _tmp45_;
	gtk_widget_set_visible ((GtkWidget*) _tmp44_, _tmp46_);
	_tmp47_ = self->priv->restore_button;
	_tmp48_ = granite_widgets_dynamic_notebook_get_allow_restoring (self);
	_tmp49_ = _tmp48_;
	gtk_widget_set_visible ((GtkWidget*) _tmp47_, _tmp49_);
	g_signal_connect_object ((GtkWidget*) self, "size-allocate", (GCallback) ___lambda61__gtk_widget_size_allocate, self, 0);
	g_signal_connect_object ((GtkWidget*) self, "button-press-event", (GCallback) ___lambda62__gtk_widget_button_press_event, self, 0);
	g_signal_connect_object ((GtkWidget*) self, "key-press-event", (GCallback) ___lambda63__gtk_widget_key_press_event, self, 0);
	_tmp50_ = self->priv->notebook;
	g_signal_connect_object (_tmp50_, "switch-page", (GCallback) _granite_widgets_dynamic_notebook_on_switch_page_gtk_notebook_switch_page, self, 0);
	_tmp51_ = self->priv->notebook;
	g_signal_connect_object (_tmp51_, "page-added", (GCallback) _granite_widgets_dynamic_notebook_on_page_added_gtk_notebook_page_added, self, 0);
	_tmp52_ = self->priv->notebook;
	g_signal_connect_object (_tmp52_, "page-removed", (GCallback) _granite_widgets_dynamic_notebook_on_page_removed_gtk_notebook_page_removed, self, 0);
	_tmp53_ = self->priv->notebook;
	g_signal_connect_object (_tmp53_, "page-reordered", (GCallback) _granite_widgets_dynamic_notebook_on_page_reordered_gtk_notebook_page_reordered, self, 0);
	_tmp54_ = self->priv->notebook;
	g_signal_connect_object (_tmp54_, "create-window", (GCallback) _granite_widgets_dynamic_notebook_on_create_window_gtk_notebook_create_window, self, 0);
	_g_object_unref0 (add_button_box);
	return self;
}


GraniteWidgetsDynamicNotebook* granite_widgets_dynamic_notebook_new (void) {
	return granite_widgets_dynamic_notebook_construct (GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK);
}


static GraniteWidgetsDynamicNotebook* granite_widgets_dynamic_notebook_construct_Notebook (GType object_type) {
	GraniteWidgetsDynamicNotebook * self = NULL;
	GtkNotebook* _tmp0_;
	guint _tmp1_;
	GtkNotebook* _tmp2_;
	guint _tmp3_;
	GtkNotebook* _tmp4_;
	guint _tmp5_;
	GtkNotebook* _tmp6_;
	guint _tmp7_;
	GtkNotebook* _tmp8_;
	guint _tmp9_;
	self = (GraniteWidgetsDynamicNotebook*) g_object_new (object_type, NULL);
	_tmp0_ = self->priv->notebook;
	g_signal_parse_name ("switch-page", gtk_notebook_get_type (), &_tmp1_, NULL, FALSE);
	g_signal_handlers_disconnect_matched (_tmp0_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp1_, 0, NULL, (GCallback) _granite_widgets_dynamic_notebook_on_switch_page_gtk_notebook_switch_page, self);
	_tmp2_ = self->priv->notebook;
	g_signal_parse_name ("page-added", gtk_notebook_get_type (), &_tmp3_, NULL, FALSE);
	g_signal_handlers_disconnect_matched (_tmp2_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp3_, 0, NULL, (GCallback) _granite_widgets_dynamic_notebook_on_page_added_gtk_notebook_page_added, self);
	_tmp4_ = self->priv->notebook;
	g_signal_parse_name ("page-removed", gtk_notebook_get_type (), &_tmp5_, NULL, FALSE);
	g_signal_handlers_disconnect_matched (_tmp4_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp5_, 0, NULL, (GCallback) _granite_widgets_dynamic_notebook_on_page_removed_gtk_notebook_page_removed, self);
	_tmp6_ = self->priv->notebook;
	g_signal_parse_name ("page-reordered", gtk_notebook_get_type (), &_tmp7_, NULL, FALSE);
	g_signal_handlers_disconnect_matched (_tmp6_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp7_, 0, NULL, (GCallback) _granite_widgets_dynamic_notebook_on_page_reordered_gtk_notebook_page_reordered, self);
	_tmp8_ = self->priv->notebook;
	g_signal_parse_name ("create-window", gtk_notebook_get_type (), &_tmp9_, NULL, FALSE);
	g_signal_handlers_disconnect_matched (_tmp8_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp9_, 0, NULL, (GCallback) _granite_widgets_dynamic_notebook_on_create_window_gtk_notebook_create_window, self);
	return self;
}


static GraniteWidgetsDynamicNotebook* granite_widgets_dynamic_notebook_new_Notebook (void) {
	return granite_widgets_dynamic_notebook_construct_Notebook (GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK);
}


static void granite_widgets_dynamic_notebook_restore_menu_position (GraniteWidgetsDynamicNotebook* self, GtkMenu* menu, gint* x, gint* y, gboolean* p) {
	gint _vala_x = 0;
	gint _vala_y = 0;
	gboolean _vala_p = FALSE;
	GtkAllocation button_alloc = {0};
	GtkAllocation menu_alloc = {0};
	GtkButton* _tmp0_;
	GtkAllocation _tmp1_ = {0};
	GtkMenu* _tmp2_;
	GtkAllocation _tmp3_ = {0};
	GtkButton* _tmp4_;
	GdkWindow* _tmp5_;
	gint _tmp6_ = 0;
	gint _tmp7_ = 0;
	gint _tmp8_;
	GtkAllocation _tmp9_;
	gint _tmp10_;
	GtkAllocation _tmp11_;
	gint _tmp12_;
	GtkAllocation _tmp13_;
	gint _tmp14_;
	gint _tmp15_;
	GtkAllocation _tmp16_;
	gint _tmp17_;
	GtkAllocation _tmp18_;
	gint _tmp19_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (menu != NULL);
	_tmp0_ = self->priv->restore_button;
	gtk_widget_get_allocation ((GtkWidget*) _tmp0_, &_tmp1_);
	button_alloc = _tmp1_;
	_tmp2_ = menu;
	gtk_widget_get_allocation ((GtkWidget*) _tmp2_, &_tmp3_);
	menu_alloc = _tmp3_;
	_tmp4_ = self->priv->restore_button;
	_tmp5_ = gtk_widget_get_window ((GtkWidget*) _tmp4_);
	gdk_window_get_origin (_tmp5_, &_tmp6_, &_tmp7_);
	_vala_x = _tmp6_;
	_vala_y = _tmp7_;
	_tmp8_ = _vala_x;
	_tmp9_ = button_alloc;
	_tmp10_ = _tmp9_.x;
	_tmp11_ = menu_alloc;
	_tmp12_ = _tmp11_.width;
	_tmp13_ = button_alloc;
	_tmp14_ = _tmp13_.width;
	_vala_x = _tmp8_ + (((_tmp10_ - _tmp12_) + _tmp14_) + 5);
	_tmp15_ = _vala_y;
	_tmp16_ = button_alloc;
	_tmp17_ = _tmp16_.y;
	_tmp18_ = button_alloc;
	_tmp19_ = _tmp18_.height;
	_vala_y = _tmp15_ + ((_tmp17_ + _tmp19_) + 1);
	if (x) {
		*x = _vala_x;
	}
	if (y) {
		*y = _vala_y;
	}
	if (p) {
		*p = _vala_p;
	}
}


static void granite_widgets_dynamic_notebook_on_switch_page (GraniteWidgetsDynamicNotebook* self, GtkWidget* page, guint pagenum) {
	GraniteWidgetsTab* new_tab = NULL;
	GtkWidget* _tmp0_;
	GraniteWidgetsTab* _tmp1_;
	GraniteWidgetsTab* _tmp2_;
	GraniteWidgetsTab* _tmp3_;
	GraniteWidgetsTab* _tmp4_;
	GraniteWidgetsTab* _tmp6_;
	GraniteWidgetsTab* _tmp7_;
	GraniteWidgetsTab* _tmp8_;
	GraniteWidgetsTab* _tmp9_;
	GraniteWidgetsTab* _tmp10_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (page != NULL);
	_tmp0_ = page;
	_tmp1_ = granite_widgets_tab_page_container_get_tab (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, GRANITE_WIDGETS_TYPE_TAB_PAGE_CONTAINER) ? ((GraniteWidgetsTabPageContainer*) _tmp0_) : NULL);
	_tmp2_ = _tmp1_;
	_tmp3_ = _g_object_ref0 (_tmp2_);
	new_tab = _tmp3_;
	_tmp4_ = self->priv->old_tab;
	if (_tmp4_ != NULL) {
		GraniteWidgetsTab* _tmp5_;
		_tmp5_ = self->priv->old_tab;
		granite_widgets_tab_set_is_current_tab (_tmp5_, FALSE);
	}
	_tmp6_ = new_tab;
	granite_widgets_tab_set_is_current_tab (_tmp6_, TRUE);
	_tmp7_ = self->priv->old_tab;
	_tmp8_ = new_tab;
	g_signal_emit (self, granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_SWITCHED_SIGNAL], 0, _tmp7_, _tmp8_);
	_tmp9_ = new_tab;
	_tmp10_ = _g_object_ref0 (_tmp9_);
	_g_object_unref0 (self->priv->old_tab);
	self->priv->old_tab = _tmp10_;
	_g_object_unref0 (new_tab);
}


static void granite_widgets_dynamic_notebook_on_page_added (GraniteWidgetsDynamicNotebook* self, GtkWidget* page, guint pagenum) {
	GraniteWidgetsTab* t = NULL;
	GtkWidget* _tmp0_;
	GraniteWidgetsTab* _tmp1_;
	GraniteWidgetsTab* _tmp2_;
	GraniteWidgetsTab* _tmp3_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (page != NULL);
	_tmp0_ = page;
	_tmp1_ = granite_widgets_tab_page_container_get_tab (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, GRANITE_WIDGETS_TYPE_TAB_PAGE_CONTAINER) ? ((GraniteWidgetsTabPageContainer*) _tmp0_) : NULL);
	_tmp2_ = _tmp1_;
	_tmp3_ = _g_object_ref0 (_tmp2_);
	t = _tmp3_;
	granite_widgets_dynamic_notebook_insert_callbacks (self, t);
	g_signal_emit (self, granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_ADDED_SIGNAL], 0, t);
	granite_widgets_dynamic_notebook_update_tabs_visibility (self);
	_g_object_unref0 (t);
}


static void granite_widgets_dynamic_notebook_on_page_removed (GraniteWidgetsDynamicNotebook* self, GtkWidget* page, guint pagenum) {
	GraniteWidgetsTab* t = NULL;
	GtkWidget* _tmp0_;
	GraniteWidgetsTab* _tmp1_;
	GraniteWidgetsTab* _tmp2_;
	GraniteWidgetsTab* _tmp3_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (page != NULL);
	_tmp0_ = page;
	_tmp1_ = granite_widgets_tab_page_container_get_tab (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, GRANITE_WIDGETS_TYPE_TAB_PAGE_CONTAINER) ? ((GraniteWidgetsTabPageContainer*) _tmp0_) : NULL);
	_tmp2_ = _tmp1_;
	_tmp3_ = _g_object_ref0 (_tmp2_);
	t = _tmp3_;
	granite_widgets_dynamic_notebook_remove_callbacks (self, t);
	g_signal_emit (self, granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_REMOVED_SIGNAL], 0, t);
	granite_widgets_dynamic_notebook_update_tabs_visibility (self);
	_g_object_unref0 (t);
}


static void granite_widgets_dynamic_notebook_on_page_reordered (GraniteWidgetsDynamicNotebook* self, GtkWidget* page, guint pagenum) {
	GtkWidget* _tmp0_;
	GraniteWidgetsTab* _tmp1_;
	GraniteWidgetsTab* _tmp2_;
	guint _tmp3_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (page != NULL);
	_tmp0_ = page;
	_tmp1_ = granite_widgets_tab_page_container_get_tab (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, GRANITE_WIDGETS_TYPE_TAB_PAGE_CONTAINER) ? ((GraniteWidgetsTabPageContainer*) _tmp0_) : NULL);
	_tmp2_ = _tmp1_;
	_tmp3_ = pagenum;
	g_signal_emit (self, granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_REORDERED_SIGNAL], 0, _tmp2_, (gint) _tmp3_);
	granite_widgets_dynamic_notebook_recalc_order (self);
}


static GtkNotebook* granite_widgets_dynamic_notebook_on_create_window (GraniteWidgetsDynamicNotebook* self, GtkWidget* page, gint x, gint y) {
	GtkNotebook* result = NULL;
	GraniteWidgetsTab* tab = NULL;
	GtkNotebook* _tmp0_;
	GtkWidget* _tmp1_;
	GtkWidget* _tmp2_;
	GraniteWidgetsTab* _tmp3_;
	gint _tmp4_;
	gint _tmp5_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (page != NULL, NULL);
	_tmp0_ = self->priv->notebook;
	_tmp1_ = page;
	_tmp2_ = gtk_notebook_get_tab_label (_tmp0_, _tmp1_);
	_tmp3_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp2_, GRANITE_WIDGETS_TYPE_TAB) ? ((GraniteWidgetsTab*) _tmp2_) : NULL);
	tab = _tmp3_;
	_tmp4_ = x;
	_tmp5_ = y;
	g_signal_emit (self, granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_MOVED_SIGNAL], 0, tab, _tmp4_, _tmp5_);
	granite_widgets_dynamic_notebook_recalc_order (self);
	result = G_TYPE_CHECK_INSTANCE_CAST (NULL, gtk_notebook_get_type (), GtkNotebook);
	_g_object_unref0 (tab);
	return result;
}


static void granite_widgets_dynamic_notebook_recalc_order (GraniteWidgetsDynamicNotebook* self) {
	gboolean _tmp0_ = FALSE;
	gint _tmp1_;
	gint _tmp2_;
	gint pinned_tabs = 0;
	g_return_if_fail (self != NULL);
	_tmp1_ = granite_widgets_dynamic_notebook_get_n_tabs (self);
	_tmp2_ = _tmp1_;
	if (_tmp2_ == 0) {
		_tmp0_ = TRUE;
	} else {
		gboolean _tmp3_;
		gboolean _tmp4_;
		_tmp3_ = granite_widgets_dynamic_notebook_get_force_left (self);
		_tmp4_ = _tmp3_;
		_tmp0_ = !_tmp4_;
	}
	if (_tmp0_) {
		return;
	}
	pinned_tabs = 0;
	{
		gint i = 0;
		i = 0;
		{
			gboolean _tmp5_ = FALSE;
			_tmp5_ = TRUE;
			while (TRUE) {
				gint _tmp7_;
				GtkNotebook* _tmp8_;
				gint _tmp9_;
				GtkNotebook* _tmp10_;
				GtkNotebook* _tmp11_;
				gint _tmp12_;
				GtkWidget* _tmp13_;
				GtkWidget* _tmp14_;
				gboolean _tmp15_;
				gboolean _tmp16_;
				if (!_tmp5_) {
					gint _tmp6_;
					_tmp6_ = i;
					i = _tmp6_ + 1;
				}
				_tmp5_ = FALSE;
				_tmp7_ = i;
				_tmp8_ = self->priv->notebook;
				_tmp9_ = gtk_notebook_get_n_pages (_tmp8_);
				if (!(_tmp7_ < _tmp9_)) {
					break;
				}
				_tmp10_ = self->priv->notebook;
				_tmp11_ = self->priv->notebook;
				_tmp12_ = i;
				_tmp13_ = gtk_notebook_get_nth_page (_tmp11_, _tmp12_);
				_tmp14_ = gtk_notebook_get_tab_label (_tmp10_, _tmp13_);
				_tmp15_ = granite_widgets_tab_get_pinned (G_TYPE_CHECK_INSTANCE_TYPE (_tmp14_, GRANITE_WIDGETS_TYPE_TAB) ? ((GraniteWidgetsTab*) _tmp14_) : NULL);
				_tmp16_ = _tmp15_;
				if (_tmp16_) {
					gint _tmp17_;
					_tmp17_ = pinned_tabs;
					pinned_tabs = _tmp17_ + 1;
				}
			}
		}
	}
	{
		gint p = 0;
		p = 0;
		{
			gboolean _tmp18_ = FALSE;
			_tmp18_ = TRUE;
			while (TRUE) {
				gint _tmp20_;
				gint _tmp21_;
				gint sel = 0;
				gint _tmp22_;
				gint _tmp37_;
				gint _tmp38_;
				if (!_tmp18_) {
					gint _tmp19_;
					_tmp19_ = p;
					p = _tmp19_ + 1;
				}
				_tmp18_ = FALSE;
				_tmp20_ = p;
				_tmp21_ = pinned_tabs;
				if (!(_tmp20_ < _tmp21_)) {
					break;
				}
				_tmp22_ = p;
				sel = _tmp22_;
				{
					gint i = 0;
					gint _tmp23_;
					_tmp23_ = p;
					i = _tmp23_;
					{
						gboolean _tmp24_ = FALSE;
						_tmp24_ = TRUE;
						while (TRUE) {
							gint _tmp26_;
							GtkNotebook* _tmp27_;
							gint _tmp28_;
							GtkNotebook* _tmp29_;
							GtkNotebook* _tmp30_;
							gint _tmp31_;
							GtkWidget* _tmp32_;
							GtkWidget* _tmp33_;
							gboolean _tmp34_;
							gboolean _tmp35_;
							if (!_tmp24_) {
								gint _tmp25_;
								_tmp25_ = i;
								i = _tmp25_ + 1;
							}
							_tmp24_ = FALSE;
							_tmp26_ = i;
							_tmp27_ = self->priv->notebook;
							_tmp28_ = gtk_notebook_get_n_pages (_tmp27_);
							if (!(_tmp26_ < _tmp28_)) {
								break;
							}
							_tmp29_ = self->priv->notebook;
							_tmp30_ = self->priv->notebook;
							_tmp31_ = i;
							_tmp32_ = gtk_notebook_get_nth_page (_tmp30_, _tmp31_);
							_tmp33_ = gtk_notebook_get_tab_label (_tmp29_, _tmp32_);
							_tmp34_ = granite_widgets_tab_get_pinned (G_TYPE_CHECK_INSTANCE_TYPE (_tmp33_, GRANITE_WIDGETS_TYPE_TAB) ? ((GraniteWidgetsTab*) _tmp33_) : NULL);
							_tmp35_ = _tmp34_;
							if (_tmp35_) {
								gint _tmp36_;
								_tmp36_ = i;
								sel = _tmp36_;
								break;
							}
						}
					}
				}
				_tmp37_ = sel;
				_tmp38_ = p;
				if (_tmp37_ != _tmp38_) {
					GtkNotebook* _tmp39_;
					GtkNotebook* _tmp40_;
					gint _tmp41_;
					GtkWidget* _tmp42_;
					gint _tmp43_;
					_tmp39_ = self->priv->notebook;
					_tmp40_ = self->priv->notebook;
					_tmp41_ = sel;
					_tmp42_ = gtk_notebook_get_nth_page (_tmp40_, _tmp41_);
					_tmp43_ = p;
					gtk_notebook_reorder_child (_tmp39_, _tmp42_, _tmp43_);
				}
			}
		}
	}
}


static void granite_widgets_dynamic_notebook_recalc_size (GraniteWidgetsDynamicNotebook* self) {
	gint _tmp0_;
	gint _tmp1_;
	gint pinned_tabs = 0;
	gint unpinned_tabs = 0;
	gint _tmp16_;
	gint offset = 0;
	gint _tmp17_;
	gint _tmp18_;
	gint _tmp19_;
	gint _tmp20_;
	gint _tmp21_;
	gint _tmp22_;
	GtkNotebook* _tmp46_;
	g_return_if_fail (self != NULL);
	_tmp0_ = granite_widgets_dynamic_notebook_get_n_tabs (self);
	_tmp1_ = _tmp0_;
	if (_tmp1_ == 0) {
		return;
	}
	pinned_tabs = 0;
	unpinned_tabs = 0;
	{
		gint i = 0;
		i = 0;
		{
			gboolean _tmp2_ = FALSE;
			_tmp2_ = TRUE;
			while (TRUE) {
				gint _tmp4_;
				GtkNotebook* _tmp5_;
				gint _tmp6_;
				GtkNotebook* _tmp7_;
				GtkNotebook* _tmp8_;
				gint _tmp9_;
				GtkWidget* _tmp10_;
				GtkWidget* _tmp11_;
				gboolean _tmp12_;
				gboolean _tmp13_;
				if (!_tmp2_) {
					gint _tmp3_;
					_tmp3_ = i;
					i = _tmp3_ + 1;
				}
				_tmp2_ = FALSE;
				_tmp4_ = i;
				_tmp5_ = self->priv->notebook;
				_tmp6_ = gtk_notebook_get_n_pages (_tmp5_);
				if (!(_tmp4_ < _tmp6_)) {
					break;
				}
				_tmp7_ = self->priv->notebook;
				_tmp8_ = self->priv->notebook;
				_tmp9_ = i;
				_tmp10_ = gtk_notebook_get_nth_page (_tmp8_, _tmp9_);
				_tmp11_ = gtk_notebook_get_tab_label (_tmp7_, _tmp10_);
				_tmp12_ = granite_widgets_tab_get_pinned (G_TYPE_CHECK_INSTANCE_TYPE (_tmp11_, GRANITE_WIDGETS_TYPE_TAB) ? ((GraniteWidgetsTab*) _tmp11_) : NULL);
				_tmp13_ = _tmp12_;
				if (_tmp13_) {
					gint _tmp14_;
					_tmp14_ = pinned_tabs;
					pinned_tabs = _tmp14_ + 1;
				} else {
					gint _tmp15_;
					_tmp15_ = unpinned_tabs;
					unpinned_tabs = _tmp15_ + 1;
				}
			}
		}
	}
	_tmp16_ = unpinned_tabs;
	if (_tmp16_ == 0) {
		unpinned_tabs = 1;
	}
	offset = 130;
	_tmp17_ = gtk_widget_get_allocated_width ((GtkWidget*) self);
	_tmp18_ = offset;
	_tmp19_ = pinned_tabs;
	_tmp20_ = unpinned_tabs;
	self->priv->tab_width = ((_tmp17_ - _tmp18_) - (_tmp19_ * GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_WIDTH_PINNED)) / _tmp20_;
	_tmp21_ = self->priv->tab_width;
	if (_tmp21_ > GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_MAX_TAB_WIDTH) {
		self->priv->tab_width = GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_MAX_TAB_WIDTH;
	}
	_tmp22_ = self->priv->tab_width;
	if (_tmp22_ < 0) {
		self->priv->tab_width = 0;
	}
	{
		gint i = 0;
		i = 0;
		{
			gboolean _tmp23_ = FALSE;
			_tmp23_ = TRUE;
			while (TRUE) {
				gint _tmp25_;
				GtkNotebook* _tmp26_;
				gint _tmp27_;
				GtkNotebook* _tmp28_;
				GtkNotebook* _tmp29_;
				gint _tmp30_;
				GtkWidget* _tmp31_;
				GtkWidget* _tmp32_;
				gint _tmp33_;
				GtkNotebook* _tmp34_;
				GtkNotebook* _tmp35_;
				gint _tmp36_;
				GtkWidget* _tmp37_;
				GtkWidget* _tmp38_;
				gboolean _tmp39_;
				gboolean _tmp40_;
				if (!_tmp23_) {
					gint _tmp24_;
					_tmp24_ = i;
					i = _tmp24_ + 1;
				}
				_tmp23_ = FALSE;
				_tmp25_ = i;
				_tmp26_ = self->priv->notebook;
				_tmp27_ = gtk_notebook_get_n_pages (_tmp26_);
				if (!(_tmp25_ < _tmp27_)) {
					break;
				}
				_tmp28_ = self->priv->notebook;
				_tmp29_ = self->priv->notebook;
				_tmp30_ = i;
				_tmp31_ = gtk_notebook_get_nth_page (_tmp29_, _tmp30_);
				_tmp32_ = gtk_notebook_get_tab_label (_tmp28_, _tmp31_);
				_tmp33_ = self->priv->tab_width;
				g_object_set (_tmp32_, "width-request", _tmp33_, NULL);
				_tmp34_ = self->priv->notebook;
				_tmp35_ = self->priv->notebook;
				_tmp36_ = i;
				_tmp37_ = gtk_notebook_get_nth_page (_tmp35_, _tmp36_);
				_tmp38_ = gtk_notebook_get_tab_label (_tmp34_, _tmp37_);
				_tmp39_ = granite_widgets_tab_get_pinned (G_TYPE_CHECK_INSTANCE_TYPE (_tmp38_, GRANITE_WIDGETS_TYPE_TAB) ? ((GraniteWidgetsTab*) _tmp38_) : NULL);
				_tmp40_ = _tmp39_;
				if (_tmp40_) {
					GtkNotebook* _tmp41_;
					GtkNotebook* _tmp42_;
					gint _tmp43_;
					GtkWidget* _tmp44_;
					GtkWidget* _tmp45_;
					_tmp41_ = self->priv->notebook;
					_tmp42_ = self->priv->notebook;
					_tmp43_ = i;
					_tmp44_ = gtk_notebook_get_nth_page (_tmp42_, _tmp43_);
					_tmp45_ = gtk_notebook_get_tab_label (_tmp41_, _tmp44_);
					g_object_set (_tmp45_, "width-request", GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_WIDTH_PINNED, NULL);
				}
			}
		}
	}
	_tmp46_ = self->priv->notebook;
	gtk_container_resize_children ((GtkContainer*) _tmp46_);
}


static void granite_widgets_dynamic_notebook_restore_last_tab (GraniteWidgetsDynamicNotebook* self) {
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_;
	gboolean _tmp2_;
	GraniteWidgetsClosedTabsEntry restored = {0};
	GraniteWidgetsClosedTabs* _tmp6_;
	GraniteWidgetsClosedTabsEntry _tmp7_ = {0};
	GtkButton* _tmp8_;
	GraniteWidgetsClosedTabs* _tmp9_;
	gboolean _tmp10_;
	gboolean _tmp11_;
	GtkMenuItem* _tmp12_;
	GraniteWidgetsClosedTabs* _tmp13_;
	gboolean _tmp14_;
	gboolean _tmp15_;
	GraniteWidgetsClosedTabsEntry _tmp16_;
	const gchar* _tmp17_;
	GraniteWidgetsClosedTabsEntry _tmp18_;
	const gchar* _tmp19_;
	GraniteWidgetsClosedTabsEntry _tmp20_;
	GIcon* _tmp21_;
	g_return_if_fail (self != NULL);
	_tmp1_ = granite_widgets_dynamic_notebook_get_allow_restoring (self);
	_tmp2_ = _tmp1_;
	if (!_tmp2_) {
		_tmp0_ = TRUE;
	} else {
		GraniteWidgetsClosedTabs* _tmp3_;
		gboolean _tmp4_;
		gboolean _tmp5_;
		_tmp3_ = self->priv->closed_tabs;
		_tmp4_ = granite_widgets_closed_tabs_get_empty (_tmp3_);
		_tmp5_ = _tmp4_;
		_tmp0_ = _tmp5_;
	}
	if (_tmp0_) {
		return;
	}
	_tmp6_ = self->priv->closed_tabs;
	granite_widgets_closed_tabs_pop (_tmp6_, &_tmp7_);
	restored = _tmp7_;
	_tmp8_ = self->priv->restore_button;
	_tmp9_ = self->priv->closed_tabs;
	_tmp10_ = granite_widgets_closed_tabs_get_empty (_tmp9_);
	_tmp11_ = _tmp10_;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp8_, !_tmp11_);
	_tmp12_ = self->priv->restore_tab_m;
	_tmp13_ = self->priv->closed_tabs;
	_tmp14_ = granite_widgets_closed_tabs_get_empty (_tmp13_);
	_tmp15_ = _tmp14_;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp12_, !_tmp15_);
	_tmp16_ = restored;
	_tmp17_ = _tmp16_.label;
	_tmp18_ = restored;
	_tmp19_ = _tmp18_.restore_data;
	_tmp20_ = restored;
	_tmp21_ = _tmp20_.icon;
	g_signal_emit (self, granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_RESTORED_SIGNAL], 0, _tmp17_, _tmp19_, _tmp21_);
	granite_widgets_closed_tabs_entry_destroy (&restored);
}


static void granite_widgets_dynamic_notebook_switch_pin_tab (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab) {
	gboolean _tmp0_;
	gboolean _tmp1_;
	gboolean pin_state = FALSE;
	GraniteWidgetsTab* _tmp2_;
	gboolean _tmp3_;
	gboolean _tmp4_;
	gboolean _tmp5_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (tab != NULL);
	_tmp0_ = granite_widgets_dynamic_notebook_get_allow_pinning (self);
	_tmp1_ = _tmp0_;
	if (!_tmp1_) {
		return;
	}
	_tmp2_ = tab;
	_tmp3_ = granite_widgets_tab_get_pinned (_tmp2_);
	_tmp4_ = _tmp3_;
	pin_state = !_tmp4_;
	_tmp5_ = pin_state;
	if (_tmp5_) {
		GraniteWidgetsTab* _tmp6_;
		GtkImage* _tmp7_;
		GraniteWidgetsTab* _tmp8_;
		gboolean _tmp9_;
		gboolean _tmp10_;
		GraniteWidgetsTab* _tmp11_;
		gboolean _tmp12_;
		gboolean _tmp13_;
		_tmp6_ = tab;
		_tmp7_ = _tmp6_->_icon;
		_tmp8_ = tab;
		_tmp9_ = granite_widgets_tab_get_working (_tmp8_);
		_tmp10_ = _tmp9_;
		gtk_widget_set_visible ((GtkWidget*) _tmp7_, !_tmp10_);
		_tmp11_ = tab;
		_tmp12_ = granite_widgets_dynamic_notebook_get_tabs_closable (self);
		_tmp13_ = _tmp12_;
		granite_widgets_tab_set_closable (_tmp11_, _tmp13_);
	} else {
		gboolean _tmp14_ = FALSE;
		gboolean _tmp15_;
		gboolean _tmp16_;
		GraniteWidgetsTab* _tmp20_;
		GtkImage* _tmp21_;
		_tmp15_ = granite_widgets_dynamic_notebook_get_show_icons (self);
		_tmp16_ = _tmp15_;
		if (_tmp16_) {
			GraniteWidgetsTab* _tmp17_;
			gboolean _tmp18_;
			gboolean _tmp19_;
			_tmp17_ = tab;
			_tmp18_ = granite_widgets_tab_get_working (_tmp17_);
			_tmp19_ = _tmp18_;
			_tmp14_ = !_tmp19_;
		} else {
			_tmp14_ = FALSE;
		}
		_tmp20_ = tab;
		_tmp21_ = _tmp20_->_icon;
		gtk_widget_set_visible ((GtkWidget*) _tmp21_, _tmp14_);
	}
	granite_widgets_dynamic_notebook_recalc_order (self);
	granite_widgets_dynamic_notebook_recalc_size (self);
}


void granite_widgets_dynamic_notebook_remove_tab (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab) {
	gint pos = 0;
	GraniteWidgetsTab* _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (tab != NULL);
	_tmp0_ = tab;
	_tmp1_ = granite_widgets_dynamic_notebook_get_tab_position (self, _tmp0_);
	pos = _tmp1_;
	_tmp2_ = pos;
	if (_tmp2_ != -1) {
		GtkNotebook* _tmp3_;
		gint _tmp4_;
		_tmp3_ = self->priv->notebook;
		_tmp4_ = pos;
		gtk_notebook_remove_page (_tmp3_, _tmp4_);
	}
}


void granite_widgets_dynamic_notebook_next_page (GraniteWidgetsDynamicNotebook* self) {
	gint _tmp0_ = 0;
	GtkNotebook* _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
	GtkNotebook* _tmp4_;
	gint _tmp5_;
	GtkNotebook* _tmp10_;
	g_return_if_fail (self != NULL);
	_tmp1_ = self->priv->notebook;
	g_object_get (_tmp1_, "page", &_tmp2_, NULL);
	_tmp3_ = _tmp2_;
	_tmp4_ = self->priv->notebook;
	_tmp5_ = gtk_notebook_get_n_pages (_tmp4_);
	if ((_tmp3_ + 1) >= _tmp5_) {
		GtkNotebook* _tmp6_;
		_tmp6_ = self->priv->notebook;
		g_object_set (_tmp6_, "page", 0, NULL);
		_tmp0_ = 0;
	} else {
		GtkNotebook* _tmp7_;
		gint _tmp8_;
		gint _tmp9_;
		_tmp7_ = self->priv->notebook;
		g_object_get (_tmp7_, "page", &_tmp8_, NULL);
		_tmp9_ = _tmp8_;
		_tmp0_ = _tmp9_ + 1;
	}
	_tmp10_ = self->priv->notebook;
	g_object_set (_tmp10_, "page", _tmp0_, NULL);
}


void granite_widgets_dynamic_notebook_previous_page (GraniteWidgetsDynamicNotebook* self) {
	gint _tmp0_ = 0;
	GtkNotebook* _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
	GtkNotebook* _tmp10_;
	g_return_if_fail (self != NULL);
	_tmp1_ = self->priv->notebook;
	g_object_get (_tmp1_, "page", &_tmp2_, NULL);
	_tmp3_ = _tmp2_;
	if ((_tmp3_ - 1) < 0) {
		GtkNotebook* _tmp4_;
		GtkNotebook* _tmp5_;
		gint _tmp6_;
		_tmp4_ = self->priv->notebook;
		_tmp5_ = self->priv->notebook;
		_tmp6_ = gtk_notebook_get_n_pages (_tmp5_);
		g_object_set (_tmp4_, "page", _tmp6_ - 1, NULL);
		_tmp0_ = _tmp6_ - 1;
	} else {
		GtkNotebook* _tmp7_;
		gint _tmp8_;
		gint _tmp9_;
		_tmp7_ = self->priv->notebook;
		g_object_get (_tmp7_, "page", &_tmp8_, NULL);
		_tmp9_ = _tmp8_;
		_tmp0_ = _tmp9_ - 1;
	}
	_tmp10_ = self->priv->notebook;
	g_object_set (_tmp10_, "page", _tmp0_, NULL);
}


static void granite_widgets_dynamic_notebook_real_show (GtkWidget* base) {
	GraniteWidgetsDynamicNotebook * self;
	GtkNotebook* _tmp0_;
	self = (GraniteWidgetsDynamicNotebook*) base;
	GTK_WIDGET_CLASS (granite_widgets_dynamic_notebook_parent_class)->show ((GtkWidget*) G_TYPE_CHECK_INSTANCE_CAST (self, gtk_event_box_get_type (), GtkEventBox));
	_tmp0_ = self->priv->notebook;
	gtk_widget_show ((GtkWidget*) _tmp0_);
}


GList* granite_widgets_dynamic_notebook_get_children (GraniteWidgetsDynamicNotebook* self) {
	GList* result = NULL;
	GList* list = NULL;
	GtkNotebook* _tmp0_;
	GList* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	list = NULL;
	_tmp0_ = self->priv->notebook;
	_tmp1_ = gtk_container_get_children ((GtkContainer*) _tmp0_);
	{
		GList* child_collection = NULL;
		GList* child_it = NULL;
		child_collection = _tmp1_;
		for (child_it = child_collection; child_it != NULL; child_it = child_it->next) {
			GtkWidget* child = NULL;
			child = (GtkWidget*) child_it->data;
			{
				GtkWidget* _tmp2_;
				GList* _tmp3_;
				GList* _tmp4_;
				gconstpointer _tmp5_;
				GtkWidget* _tmp6_;
				_tmp2_ = child;
				_tmp3_ = gtk_container_get_children (G_TYPE_CHECK_INSTANCE_TYPE (_tmp2_, gtk_container_get_type ()) ? ((GtkContainer*) _tmp2_) : NULL);
				_tmp4_ = _tmp3_;
				_tmp5_ = g_list_nth_data (_tmp4_, (guint) 0);
				_tmp6_ = _g_object_ref0 ((GtkWidget*) _tmp5_);
				list = g_list_append (list, _tmp6_);
				_g_list_free0 (_tmp4_);
			}
		}
		_g_list_free0 (child_collection);
	}
	result = list;
	return result;
}


gint granite_widgets_dynamic_notebook_get_tab_position (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab) {
	gint result = 0;
	GtkNotebook* _tmp0_;
	GraniteWidgetsTab* _tmp1_;
	GraniteWidgetsTabPageContainer* _tmp2_;
	gint _tmp3_;
	g_return_val_if_fail (self != NULL, 0);
	g_return_val_if_fail (tab != NULL, 0);
	_tmp0_ = self->priv->notebook;
	_tmp1_ = tab;
	_tmp2_ = _tmp1_->page_container;
	_tmp3_ = gtk_notebook_page_num (_tmp0_, (GtkWidget*) _tmp2_);
	result = _tmp3_;
	return result;
}


void granite_widgets_dynamic_notebook_set_tab_position (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab, gint position) {
	GtkNotebook* _tmp0_;
	GraniteWidgetsTab* _tmp1_;
	GraniteWidgetsTabPageContainer* _tmp2_;
	gint _tmp3_;
	GraniteWidgetsTab* _tmp4_;
	gint _tmp5_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (tab != NULL);
	_tmp0_ = self->priv->notebook;
	_tmp1_ = tab;
	_tmp2_ = _tmp1_->page_container;
	_tmp3_ = position;
	gtk_notebook_reorder_child (_tmp0_, (GtkWidget*) _tmp2_, _tmp3_);
	_tmp4_ = tab;
	_tmp5_ = position;
	g_signal_emit (self, granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_REORDERED_SIGNAL], 0, _tmp4_, _tmp5_);
	granite_widgets_dynamic_notebook_recalc_order (self);
}


GraniteWidgetsTab* granite_widgets_dynamic_notebook_get_tab_by_index (GraniteWidgetsDynamicNotebook* self, gint index) {
	GraniteWidgetsTab* result = NULL;
	GtkNotebook* _tmp0_;
	GtkNotebook* _tmp1_;
	gint _tmp2_;
	GtkWidget* _tmp3_;
	GtkWidget* _tmp4_;
	GraniteWidgetsTab* _tmp5_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->notebook;
	_tmp1_ = self->priv->notebook;
	_tmp2_ = index;
	_tmp3_ = gtk_notebook_get_nth_page (_tmp1_, _tmp2_);
	_tmp4_ = gtk_notebook_get_tab_label (_tmp0_, _tmp3_);
	_tmp5_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, GRANITE_WIDGETS_TYPE_TAB) ? ((GraniteWidgetsTab*) _tmp4_) : NULL);
	result = _tmp5_;
	return result;
}


GraniteWidgetsTab* granite_widgets_dynamic_notebook_get_tab_by_widget (GraniteWidgetsDynamicNotebook* self, GtkWidget* widget) {
	GraniteWidgetsTab* result = NULL;
	GtkNotebook* _tmp0_;
	GtkWidget* _tmp1_;
	GtkContainer* _tmp2_;
	GtkWidget* _tmp3_;
	GraniteWidgetsTab* _tmp4_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (widget != NULL, NULL);
	_tmp0_ = self->priv->notebook;
	_tmp1_ = widget;
	_tmp2_ = (GtkContainer*) gtk_widget_get_parent (_tmp1_);
	_tmp3_ = gtk_notebook_get_tab_label (_tmp0_, (GtkWidget*) _tmp2_);
	_tmp4_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, GRANITE_WIDGETS_TYPE_TAB) ? ((GraniteWidgetsTab*) _tmp3_) : NULL);
	result = _tmp4_;
	return result;
}


GtkWidget* granite_widgets_dynamic_notebook_get_nth_page (GraniteWidgetsDynamicNotebook* self, gint index) {
	GtkWidget* result = NULL;
	GtkNotebook* _tmp0_;
	gint _tmp1_;
	GtkWidget* _tmp2_;
	GtkWidget* _tmp3_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->notebook;
	_tmp1_ = index;
	_tmp2_ = gtk_notebook_get_nth_page (_tmp0_, _tmp1_);
	_tmp3_ = _g_object_ref0 (_tmp2_);
	result = _tmp3_;
	return result;
}


guint granite_widgets_dynamic_notebook_insert_tab (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab, gint index) {
	guint result = 0U;
	GList* _tmp0_;
	GList* _tmp1_;
	GraniteWidgetsTab* _tmp2_;
	gint _tmp3_;
	gint i = 0;
	gint _tmp4_;
	GtkNotebook* _tmp18_;
	GraniteWidgetsTab* _tmp19_;
	GraniteWidgetsTabPageContainer* _tmp20_;
	gboolean _tmp21_;
	gboolean _tmp22_;
	GtkNotebook* _tmp23_;
	GraniteWidgetsTab* _tmp24_;
	GraniteWidgetsTabPageContainer* _tmp25_;
	gboolean _tmp26_;
	gboolean _tmp27_;
	gboolean _tmp28_ = FALSE;
	gboolean _tmp29_;
	gboolean _tmp30_;
	GraniteWidgetsTab* _tmp34_;
	GtkImage* _tmp35_;
	GraniteWidgetsTab* _tmp36_;
	GtkMenuItem* _tmp37_;
	gboolean _tmp38_;
	gboolean _tmp39_;
	GraniteWidgetsTab* _tmp40_;
	GtkMenuItem* _tmp41_;
	gboolean _tmp42_;
	gboolean _tmp43_;
	GraniteWidgetsTab* _tmp44_;
	GtkMenuItem* _tmp45_;
	gboolean _tmp46_;
	gboolean _tmp47_;
	GraniteWidgetsTab* _tmp48_;
	gboolean _tmp49_;
	gboolean _tmp50_;
	GraniteWidgetsTab* _tmp51_;
	GraniteWidgetsTab* _tmp52_;
	gint _tmp53_;
	gboolean _tmp54_;
	gboolean _tmp55_;
	g_return_val_if_fail (self != NULL, 0U);
	g_return_val_if_fail (tab != NULL, 0U);
	_tmp0_ = granite_widgets_dynamic_notebook_get_tabs (self);
	_tmp1_ = _tmp0_;
	_tmp2_ = tab;
	_tmp3_ = g_list_index (_tmp1_, _tmp2_);
	g_return_if_fail (_tmp3_ < 0);
	i = 0;
	_tmp4_ = index;
	if (_tmp4_ == -1) {
		GtkNotebook* _tmp5_;
		GraniteWidgetsTab* _tmp6_;
		GraniteWidgetsTabPageContainer* _tmp7_;
		GraniteWidgetsTab* _tmp8_;
		GtkNotebook* _tmp9_;
		gint _tmp10_;
		gint _tmp11_;
		_tmp5_ = self->priv->notebook;
		_tmp6_ = tab;
		_tmp7_ = _tmp6_->page_container;
		_tmp8_ = tab;
		_tmp9_ = self->priv->notebook;
		_tmp10_ = gtk_notebook_get_n_pages (_tmp9_);
		_tmp11_ = gtk_notebook_insert_page (_tmp5_, (GtkWidget*) _tmp7_, (GtkWidget*) _tmp8_, _tmp10_);
		i = _tmp11_;
	} else {
		GtkNotebook* _tmp12_;
		GraniteWidgetsTab* _tmp13_;
		GraniteWidgetsTabPageContainer* _tmp14_;
		GraniteWidgetsTab* _tmp15_;
		gint _tmp16_;
		gint _tmp17_;
		_tmp12_ = self->priv->notebook;
		_tmp13_ = tab;
		_tmp14_ = _tmp13_->page_container;
		_tmp15_ = tab;
		_tmp16_ = index;
		_tmp17_ = gtk_notebook_insert_page (_tmp12_, (GtkWidget*) _tmp14_, (GtkWidget*) _tmp15_, _tmp16_);
		i = _tmp17_;
	}
	_tmp18_ = self->priv->notebook;
	_tmp19_ = tab;
	_tmp20_ = _tmp19_->page_container;
	_tmp21_ = granite_widgets_dynamic_notebook_get_allow_drag (self);
	_tmp22_ = _tmp21_;
	gtk_notebook_set_tab_reorderable (_tmp18_, (GtkWidget*) _tmp20_, _tmp22_);
	_tmp23_ = self->priv->notebook;
	_tmp24_ = tab;
	_tmp25_ = _tmp24_->page_container;
	_tmp26_ = granite_widgets_dynamic_notebook_get_allow_new_window (self);
	_tmp27_ = _tmp26_;
	gtk_notebook_set_tab_detachable (_tmp23_, (GtkWidget*) _tmp25_, _tmp27_);
	_tmp29_ = granite_widgets_dynamic_notebook_get_show_icons (self);
	_tmp30_ = _tmp29_;
	if (_tmp30_) {
		GraniteWidgetsTab* _tmp31_;
		gboolean _tmp32_;
		gboolean _tmp33_;
		_tmp31_ = tab;
		_tmp32_ = granite_widgets_tab_get_working (_tmp31_);
		_tmp33_ = _tmp32_;
		_tmp28_ = !_tmp33_;
	} else {
		_tmp28_ = FALSE;
	}
	_tmp34_ = tab;
	_tmp35_ = _tmp34_->_icon;
	gtk_widget_set_visible ((GtkWidget*) _tmp35_, _tmp28_);
	_tmp36_ = tab;
	_tmp37_ = _tmp36_->duplicate_m;
	_tmp38_ = granite_widgets_dynamic_notebook_get_allow_duplication (self);
	_tmp39_ = _tmp38_;
	gtk_widget_set_visible ((GtkWidget*) _tmp37_, _tmp39_);
	_tmp40_ = tab;
	_tmp41_ = _tmp40_->new_window_m;
	_tmp42_ = granite_widgets_dynamic_notebook_get_allow_new_window (self);
	_tmp43_ = _tmp42_;
	gtk_widget_set_visible ((GtkWidget*) _tmp41_, _tmp43_);
	_tmp44_ = tab;
	_tmp45_ = _tmp44_->pin_m;
	_tmp46_ = granite_widgets_dynamic_notebook_get_allow_pinning (self);
	_tmp47_ = _tmp46_;
	gtk_widget_set_visible ((GtkWidget*) _tmp45_, _tmp47_);
	_tmp48_ = tab;
	_tmp49_ = granite_widgets_dynamic_notebook_get_allow_pinning (self);
	_tmp50_ = _tmp49_;
	granite_widgets_tab_set_pinnable (_tmp48_, _tmp50_);
	_tmp51_ = tab;
	granite_widgets_tab_set_pinned (_tmp51_, FALSE);
	_tmp52_ = tab;
	_tmp53_ = self->priv->tab_width;
	g_object_set ((GtkWidget*) _tmp52_, "width-request", _tmp53_, NULL);
	granite_widgets_dynamic_notebook_recalc_size (self);
	granite_widgets_dynamic_notebook_recalc_order (self);
	_tmp54_ = granite_widgets_dynamic_notebook_get_tabs_closable (self);
	_tmp55_ = _tmp54_;
	if (!_tmp55_) {
		GraniteWidgetsTab* _tmp56_;
		_tmp56_ = tab;
		granite_widgets_tab_set_closable (_tmp56_, FALSE);
	}
	result = (guint) i;
	return result;
}


static void _granite_widgets_dynamic_notebook_on_tab_closed_granite_widgets_tab_closed (GraniteWidgetsTab* _sender, gpointer self) {
	granite_widgets_dynamic_notebook_on_tab_closed ((GraniteWidgetsDynamicNotebook*) self, _sender);
}


static void _granite_widgets_dynamic_notebook_on_close_others_granite_widgets_tab_close_others (GraniteWidgetsTab* _sender, gpointer self) {
	granite_widgets_dynamic_notebook_on_close_others ((GraniteWidgetsDynamicNotebook*) self, _sender);
}


static void _granite_widgets_dynamic_notebook_on_new_window_granite_widgets_tab_new_window (GraniteWidgetsTab* _sender, gpointer self) {
	granite_widgets_dynamic_notebook_on_new_window ((GraniteWidgetsDynamicNotebook*) self, _sender);
}


static void _granite_widgets_dynamic_notebook_on_duplicate_granite_widgets_tab_duplicate (GraniteWidgetsTab* _sender, gpointer self) {
	granite_widgets_dynamic_notebook_on_duplicate ((GraniteWidgetsDynamicNotebook*) self, _sender);
}


static void _granite_widgets_dynamic_notebook_on_pin_switch_granite_widgets_tab_pin_switch (GraniteWidgetsTab* _sender, gpointer self) {
	granite_widgets_dynamic_notebook_on_pin_switch ((GraniteWidgetsDynamicNotebook*) self, _sender);
}


static void granite_widgets_dynamic_notebook_insert_callbacks (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab) {
	GraniteWidgetsTab* _tmp0_;
	GraniteWidgetsTab* _tmp1_;
	GraniteWidgetsTab* _tmp2_;
	GraniteWidgetsTab* _tmp3_;
	GraniteWidgetsTab* _tmp4_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (tab != NULL);
	_tmp0_ = tab;
	g_signal_connect_object (_tmp0_, "closed", (GCallback) _granite_widgets_dynamic_notebook_on_tab_closed_granite_widgets_tab_closed, self, 0);
	_tmp1_ = tab;
	g_signal_connect_object (_tmp1_, "close-others", (GCallback) _granite_widgets_dynamic_notebook_on_close_others_granite_widgets_tab_close_others, self, 0);
	_tmp2_ = tab;
	g_signal_connect_object (_tmp2_, "new-window", (GCallback) _granite_widgets_dynamic_notebook_on_new_window_granite_widgets_tab_new_window, self, 0);
	_tmp3_ = tab;
	g_signal_connect_object (_tmp3_, "duplicate", (GCallback) _granite_widgets_dynamic_notebook_on_duplicate_granite_widgets_tab_duplicate, self, 0);
	_tmp4_ = tab;
	g_signal_connect_object (_tmp4_, "pin-switch", (GCallback) _granite_widgets_dynamic_notebook_on_pin_switch_granite_widgets_tab_pin_switch, self, 0);
}


static void granite_widgets_dynamic_notebook_remove_callbacks (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab) {
	GraniteWidgetsTab* _tmp0_;
	guint _tmp1_;
	GraniteWidgetsTab* _tmp2_;
	guint _tmp3_;
	GraniteWidgetsTab* _tmp4_;
	guint _tmp5_;
	GraniteWidgetsTab* _tmp6_;
	guint _tmp7_;
	GraniteWidgetsTab* _tmp8_;
	guint _tmp9_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (tab != NULL);
	_tmp0_ = tab;
	g_signal_parse_name ("closed", GRANITE_WIDGETS_TYPE_TAB, &_tmp1_, NULL, FALSE);
	g_signal_handlers_disconnect_matched (_tmp0_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp1_, 0, NULL, (GCallback) _granite_widgets_dynamic_notebook_on_tab_closed_granite_widgets_tab_closed, self);
	_tmp2_ = tab;
	g_signal_parse_name ("close-others", GRANITE_WIDGETS_TYPE_TAB, &_tmp3_, NULL, FALSE);
	g_signal_handlers_disconnect_matched (_tmp2_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp3_, 0, NULL, (GCallback) _granite_widgets_dynamic_notebook_on_close_others_granite_widgets_tab_close_others, self);
	_tmp4_ = tab;
	g_signal_parse_name ("new-window", GRANITE_WIDGETS_TYPE_TAB, &_tmp5_, NULL, FALSE);
	g_signal_handlers_disconnect_matched (_tmp4_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp5_, 0, NULL, (GCallback) _granite_widgets_dynamic_notebook_on_new_window_granite_widgets_tab_new_window, self);
	_tmp6_ = tab;
	g_signal_parse_name ("duplicate", GRANITE_WIDGETS_TYPE_TAB, &_tmp7_, NULL, FALSE);
	g_signal_handlers_disconnect_matched (_tmp6_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp7_, 0, NULL, (GCallback) _granite_widgets_dynamic_notebook_on_duplicate_granite_widgets_tab_duplicate, self);
	_tmp8_ = tab;
	g_signal_parse_name ("pin-switch", GRANITE_WIDGETS_TYPE_TAB, &_tmp9_, NULL, FALSE);
	g_signal_handlers_disconnect_matched (_tmp8_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp9_, 0, NULL, (GCallback) _granite_widgets_dynamic_notebook_on_pin_switch_granite_widgets_tab_pin_switch, self);
}


static void granite_widgets_dynamic_notebook_on_tab_closed (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab) {
	guint _tmp0_;
	gboolean _tmp1_;
	gint pos = 0;
	GraniteWidgetsTab* _tmp5_;
	gint _tmp6_;
	GraniteWidgetsTab* _tmp7_;
	gboolean _tmp8_ = FALSE;
	gint _tmp9_;
	gboolean _tmp17_ = FALSE;
	GraniteWidgetsTab* _tmp18_;
	const gchar* _tmp19_;
	const gchar* _tmp20_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (tab != NULL);
	_tmp0_ = g_signal_lookup ("close-tab-requested", GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK);
	_tmp1_ = g_signal_has_handler_pending (self, _tmp0_, (GQuark) 0, TRUE);
	if (_tmp1_) {
		gboolean sure = FALSE;
		GraniteWidgetsTab* _tmp2_;
		gboolean _tmp3_ = FALSE;
		gboolean _tmp4_;
		_tmp2_ = tab;
		g_signal_emit (self, granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_CLOSE_TAB_REQUESTED_SIGNAL], 0, _tmp2_, &_tmp3_);
		sure = _tmp3_;
		_tmp4_ = sure;
		if (!_tmp4_) {
			return;
		}
	}
	_tmp5_ = tab;
	_tmp6_ = granite_widgets_dynamic_notebook_get_tab_position (self, _tmp5_);
	pos = _tmp6_;
	_tmp7_ = tab;
	granite_widgets_dynamic_notebook_remove_tab (self, _tmp7_);
	_tmp9_ = pos;
	if (_tmp9_ != -1) {
		GraniteWidgetsTab* _tmp10_;
		GtkWidget* _tmp11_;
		GtkWidget* _tmp12_;
		GtkContainer* _tmp13_;
		_tmp10_ = tab;
		_tmp11_ = granite_widgets_tab_get_page (_tmp10_);
		_tmp12_ = _tmp11_;
		_tmp13_ = (GtkContainer*) gtk_widget_get_parent (_tmp12_);
		_tmp8_ = _tmp13_ != NULL;
	} else {
		_tmp8_ = FALSE;
	}
	if (_tmp8_) {
		GraniteWidgetsTab* _tmp14_;
		GtkWidget* _tmp15_;
		GtkWidget* _tmp16_;
		_tmp14_ = tab;
		_tmp15_ = granite_widgets_tab_get_page (_tmp14_);
		_tmp16_ = _tmp15_;
		gtk_widget_unparent (_tmp16_);
	}
	_tmp18_ = tab;
	_tmp19_ = granite_widgets_tab_get_label (_tmp18_);
	_tmp20_ = _tmp19_;
	if (g_strcmp0 (_tmp20_, "") != 0) {
		GraniteWidgetsTab* _tmp21_;
		const gchar* _tmp22_;
		const gchar* _tmp23_;
		_tmp21_ = tab;
		_tmp22_ = granite_widgets_tab_get_restore_data (_tmp21_);
		_tmp23_ = _tmp22_;
		_tmp17_ = g_strcmp0 (_tmp23_, "") != 0;
	} else {
		_tmp17_ = FALSE;
	}
	if (_tmp17_) {
		GraniteWidgetsClosedTabs* _tmp24_;
		GraniteWidgetsTab* _tmp25_;
		GtkButton* _tmp26_;
		GraniteWidgetsClosedTabs* _tmp27_;
		gboolean _tmp28_;
		gboolean _tmp29_;
		GtkMenuItem* _tmp30_;
		GraniteWidgetsClosedTabs* _tmp31_;
		gboolean _tmp32_;
		gboolean _tmp33_;
		_tmp24_ = self->priv->closed_tabs;
		_tmp25_ = tab;
		granite_widgets_closed_tabs_push (_tmp24_, _tmp25_);
		_tmp26_ = self->priv->restore_button;
		_tmp27_ = self->priv->closed_tabs;
		_tmp28_ = granite_widgets_closed_tabs_get_empty (_tmp27_);
		_tmp29_ = _tmp28_;
		gtk_widget_set_sensitive ((GtkWidget*) _tmp26_, !_tmp29_);
		_tmp30_ = self->priv->restore_tab_m;
		_tmp31_ = self->priv->closed_tabs;
		_tmp32_ = granite_widgets_closed_tabs_get_empty (_tmp31_);
		_tmp33_ = _tmp32_;
		gtk_widget_set_sensitive ((GtkWidget*) _tmp30_, !_tmp33_);
	}
}


static void granite_widgets_dynamic_notebook_on_close_others (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab) {
	gint num = 0;
	g_return_if_fail (self != NULL);
	g_return_if_fail (tab != NULL);
	num = 0;
	{
		gint j = 0;
		j = 0;
		{
			gboolean _tmp0_ = FALSE;
			_tmp0_ = TRUE;
			while (TRUE) {
				gint _tmp2_;
				GList* _tmp3_;
				GList* _tmp4_;
				guint _tmp5_;
				GraniteWidgetsTab* _tmp6_;
				GList* _tmp7_;
				GList* _tmp8_;
				gint _tmp9_;
				gconstpointer _tmp10_;
				gint _tmp19_;
				gint _tmp20_;
				if (!_tmp0_) {
					gint _tmp1_;
					_tmp1_ = j;
					j = _tmp1_ + 1;
				}
				_tmp0_ = FALSE;
				_tmp2_ = j;
				_tmp3_ = granite_widgets_dynamic_notebook_get_tabs (self);
				_tmp4_ = _tmp3_;
				_tmp5_ = g_list_length (_tmp4_);
				if (!(((guint) _tmp2_) < _tmp5_)) {
					break;
				}
				_tmp6_ = tab;
				_tmp7_ = granite_widgets_dynamic_notebook_get_tabs (self);
				_tmp8_ = _tmp7_;
				_tmp9_ = j;
				_tmp10_ = g_list_nth_data (_tmp8_, (guint) _tmp9_);
				if (_tmp6_ != ((GraniteWidgetsTab*) _tmp10_)) {
					GList* _tmp11_;
					GList* _tmp12_;
					gint _tmp13_;
					gconstpointer _tmp14_;
					gint _tmp15_;
					gint _tmp16_;
					gint _tmp17_;
					gint _tmp18_;
					_tmp11_ = granite_widgets_dynamic_notebook_get_tabs (self);
					_tmp12_ = _tmp11_;
					_tmp13_ = j;
					_tmp14_ = g_list_nth_data (_tmp12_, (guint) _tmp13_);
					g_signal_emit ((GraniteWidgetsTab*) _tmp14_, granite_widgets_tab_signals[GRANITE_WIDGETS_TAB_CLOSED_SIGNAL], 0);
					_tmp15_ = num;
					_tmp16_ = granite_widgets_dynamic_notebook_get_n_tabs (self);
					_tmp17_ = _tmp16_;
					if (_tmp15_ == _tmp17_) {
						break;
					}
					_tmp18_ = j;
					j = _tmp18_ - 1;
				}
				_tmp19_ = granite_widgets_dynamic_notebook_get_n_tabs (self);
				_tmp20_ = _tmp19_;
				num = _tmp20_;
			}
		}
	}
}


static void granite_widgets_dynamic_notebook_on_new_window (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab) {
	GtkNotebook* _tmp0_;
	GraniteWidgetsTab* _tmp1_;
	GraniteWidgetsTabPageContainer* _tmp2_;
	GtkNotebook* _tmp3_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (tab != NULL);
	_tmp0_ = self->priv->notebook;
	_tmp1_ = tab;
	_tmp2_ = _tmp1_->page_container;
	g_signal_emit_by_name (_tmp0_, "create-window", (GtkWidget*) _tmp2_, 0, 0, &_tmp3_);
}


static void granite_widgets_dynamic_notebook_on_duplicate (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab) {
	GraniteWidgetsTab* _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (tab != NULL);
	_tmp0_ = tab;
	g_signal_emit (self, granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_DUPLICATED_SIGNAL], 0, _tmp0_);
}


static void granite_widgets_dynamic_notebook_on_pin_switch (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* tab) {
	GraniteWidgetsTab* _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (tab != NULL);
	_tmp0_ = tab;
	granite_widgets_dynamic_notebook_switch_pin_tab (self, _tmp0_);
}


static void granite_widgets_dynamic_notebook_update_tabs_visibility (GraniteWidgetsDynamicNotebook* self) {
	GraniteWidgetsDynamicNotebookTabBarBehavior _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->_tab_bar_behavior;
	if (_tmp0_ == GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_BAR_BEHAVIOR_SINGLE) {
		GtkNotebook* _tmp1_;
		gint _tmp2_;
		gint _tmp3_;
		_tmp1_ = self->priv->notebook;
		_tmp2_ = granite_widgets_dynamic_notebook_get_n_tabs (self);
		_tmp3_ = _tmp2_;
		gtk_notebook_set_show_tabs (_tmp1_, _tmp3_ > 1);
	} else {
		GraniteWidgetsDynamicNotebookTabBarBehavior _tmp4_;
		_tmp4_ = self->priv->_tab_bar_behavior;
		if (_tmp4_ == GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_BAR_BEHAVIOR_NEVER) {
			GtkNotebook* _tmp5_;
			_tmp5_ = self->priv->notebook;
			gtk_notebook_set_show_tabs (_tmp5_, FALSE);
		} else {
			GraniteWidgetsDynamicNotebookTabBarBehavior _tmp6_;
			_tmp6_ = self->priv->_tab_bar_behavior;
			if (_tmp6_ == GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_BAR_BEHAVIOR_ALWAYS) {
				GtkNotebook* _tmp7_;
				_tmp7_ = self->priv->notebook;
				gtk_notebook_set_show_tabs (_tmp7_, TRUE);
			}
		}
	}
}


gint granite_widgets_dynamic_notebook_get_n_tabs (GraniteWidgetsDynamicNotebook* self) {
	gint result;
	GtkNotebook* _tmp0_;
	gint _tmp1_;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->priv->notebook;
	_tmp1_ = gtk_notebook_get_n_pages (_tmp0_);
	result = _tmp1_;
	return result;
}


gboolean granite_widgets_dynamic_notebook_get_show_tabs (GraniteWidgetsDynamicNotebook* self) {
	gboolean result;
	GtkNotebook* _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->notebook;
	_tmp1_ = gtk_notebook_get_show_tabs (_tmp0_);
	_tmp2_ = _tmp1_;
	result = _tmp2_;
	return result;
}


void granite_widgets_dynamic_notebook_set_show_tabs (GraniteWidgetsDynamicNotebook* self, gboolean value) {
	GtkNotebook* _tmp0_;
	gboolean _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->notebook;
	_tmp1_ = value;
	gtk_notebook_set_show_tabs (_tmp0_, _tmp1_);
	g_object_notify ((GObject *) self, "show-tabs");
}


gboolean granite_widgets_dynamic_notebook_get_show_icons (GraniteWidgetsDynamicNotebook* self) {
	gboolean result;
	gboolean _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->_show_icons;
	result = _tmp0_;
	return result;
}


static Block7Data* block7_data_ref (Block7Data* _data7_) {
	g_atomic_int_inc (&_data7_->_ref_count_);
	return _data7_;
}


static void block7_data_unref (void * _userdata_) {
	Block7Data* _data7_;
	_data7_ = (Block7Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data7_->_ref_count_)) {
		GraniteWidgetsDynamicNotebook* self;
		self = _data7_->self;
		_g_object_unref0 (self);
		g_slice_free (Block7Data, _data7_);
	}
}


static void _granite_widgets_dynamic_notebook_show_icons____lambda65_ (Block7Data* _data7_, GraniteWidgetsTab* t) {
	GraniteWidgetsDynamicNotebook* self;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_;
	GraniteWidgetsTab* _tmp5_;
	GtkImage* _tmp6_;
	self = _data7_->self;
	g_return_if_fail (t != NULL);
	_tmp1_ = _data7_->value;
	if (_tmp1_) {
		GraniteWidgetsTab* _tmp2_;
		gboolean _tmp3_;
		gboolean _tmp4_;
		_tmp2_ = t;
		_tmp3_ = granite_widgets_tab_get_working (_tmp2_);
		_tmp4_ = _tmp3_;
		_tmp0_ = !_tmp4_;
	} else {
		_tmp0_ = FALSE;
	}
	_tmp5_ = t;
	_tmp6_ = _tmp5_->_icon;
	gtk_widget_set_visible ((GtkWidget*) _tmp6_, _tmp0_);
}


static void __granite_widgets_dynamic_notebook_show_icons____lambda65__gfunc (gconstpointer data, gpointer self) {
	_granite_widgets_dynamic_notebook_show_icons____lambda65_ (self, (GraniteWidgetsTab*) data);
}


void granite_widgets_dynamic_notebook_set_show_icons (GraniteWidgetsDynamicNotebook* self, gboolean value) {
	Block7Data* _data7_;
	gboolean _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp5_;
	g_return_if_fail (self != NULL);
	_data7_ = g_slice_new0 (Block7Data);
	_data7_->_ref_count_ = 1;
	_data7_->self = g_object_ref (self);
	_tmp0_ = value;
	_data7_->value = _tmp0_;
	_tmp1_ = self->priv->_show_icons;
	_tmp2_ = _data7_->value;
	if (_tmp1_ != _tmp2_) {
		GList* _tmp3_;
		GList* _tmp4_;
		_tmp3_ = granite_widgets_dynamic_notebook_get_tabs (self);
		_tmp4_ = _tmp3_;
		g_list_foreach (_tmp4_, __granite_widgets_dynamic_notebook_show_icons____lambda65__gfunc, _data7_);
	}
	_tmp5_ = _data7_->value;
	self->priv->_show_icons = _tmp5_;
	block7_data_unref (_data7_);
	_data7_ = NULL;
	g_object_notify ((GObject *) self, "show-icons");
}


gboolean granite_widgets_dynamic_notebook_get_tabs_closable (GraniteWidgetsDynamicNotebook* self) {
	gboolean result;
	gboolean _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->_tabs_closable;
	result = _tmp0_;
	return result;
}


static Block8Data* block8_data_ref (Block8Data* _data8_) {
	g_atomic_int_inc (&_data8_->_ref_count_);
	return _data8_;
}


static void block8_data_unref (void * _userdata_) {
	Block8Data* _data8_;
	_data8_ = (Block8Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data8_->_ref_count_)) {
		GraniteWidgetsDynamicNotebook* self;
		self = _data8_->self;
		_g_object_unref0 (self);
		g_slice_free (Block8Data, _data8_);
	}
}


static void _granite_widgets_dynamic_notebook_tabs_closable____lambda64_ (Block8Data* _data8_, GraniteWidgetsTab* t) {
	GraniteWidgetsDynamicNotebook* self;
	GraniteWidgetsTab* _tmp0_;
	gboolean _tmp1_;
	self = _data8_->self;
	g_return_if_fail (t != NULL);
	_tmp0_ = t;
	_tmp1_ = _data8_->value;
	granite_widgets_tab_set_closable (_tmp0_, _tmp1_);
}


static void __granite_widgets_dynamic_notebook_tabs_closable____lambda64__gfunc (gconstpointer data, gpointer self) {
	_granite_widgets_dynamic_notebook_tabs_closable____lambda64_ (self, (GraniteWidgetsTab*) data);
}


void granite_widgets_dynamic_notebook_set_tabs_closable (GraniteWidgetsDynamicNotebook* self, gboolean value) {
	Block8Data* _data8_;
	gboolean _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp5_;
	g_return_if_fail (self != NULL);
	_data8_ = g_slice_new0 (Block8Data);
	_data8_->_ref_count_ = 1;
	_data8_->self = g_object_ref (self);
	_tmp0_ = value;
	_data8_->value = _tmp0_;
	_tmp1_ = _data8_->value;
	_tmp2_ = self->priv->_tabs_closable;
	if (_tmp1_ != _tmp2_) {
		GList* _tmp3_;
		GList* _tmp4_;
		_tmp3_ = granite_widgets_dynamic_notebook_get_tabs (self);
		_tmp4_ = _tmp3_;
		g_list_foreach (_tmp4_, __granite_widgets_dynamic_notebook_tabs_closable____lambda64__gfunc, _data8_);
	}
	_tmp5_ = _data8_->value;
	self->priv->_tabs_closable = _tmp5_;
	block8_data_unref (_data8_);
	_data8_ = NULL;
	g_object_notify ((GObject *) self, "tabs-closable");
}


gboolean granite_widgets_dynamic_notebook_get_allow_drag (GraniteWidgetsDynamicNotebook* self) {
	gboolean result;
	gboolean _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->_allow_drag;
	result = _tmp0_;
	return result;
}


static Block9Data* block9_data_ref (Block9Data* _data9_) {
	g_atomic_int_inc (&_data9_->_ref_count_);
	return _data9_;
}


static void block9_data_unref (void * _userdata_) {
	Block9Data* _data9_;
	_data9_ = (Block9Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data9_->_ref_count_)) {
		GraniteWidgetsDynamicNotebook* self;
		self = _data9_->self;
		_g_object_unref0 (self);
		g_slice_free (Block9Data, _data9_);
	}
}


static void _granite_widgets_dynamic_notebook_allow_drag___lambda66_ (Block9Data* _data9_, GraniteWidgetsTab* t) {
	GraniteWidgetsDynamicNotebook* self;
	GtkNotebook* _tmp0_;
	GraniteWidgetsTab* _tmp1_;
	GraniteWidgetsTabPageContainer* _tmp2_;
	gboolean _tmp3_;
	self = _data9_->self;
	g_return_if_fail (t != NULL);
	_tmp0_ = self->priv->notebook;
	_tmp1_ = t;
	_tmp2_ = _tmp1_->page_container;
	_tmp3_ = _data9_->value;
	gtk_notebook_set_tab_reorderable (_tmp0_, (GtkWidget*) _tmp2_, _tmp3_);
}


static void __granite_widgets_dynamic_notebook_allow_drag___lambda66__gfunc (gconstpointer data, gpointer self) {
	_granite_widgets_dynamic_notebook_allow_drag___lambda66_ (self, (GraniteWidgetsTab*) data);
}


void granite_widgets_dynamic_notebook_set_allow_drag (GraniteWidgetsDynamicNotebook* self, gboolean value) {
	Block9Data* _data9_;
	gboolean _tmp0_;
	gboolean _tmp1_;
	GList* _tmp2_;
	GList* _tmp3_;
	g_return_if_fail (self != NULL);
	_data9_ = g_slice_new0 (Block9Data);
	_data9_->_ref_count_ = 1;
	_data9_->self = g_object_ref (self);
	_tmp0_ = value;
	_data9_->value = _tmp0_;
	_tmp1_ = _data9_->value;
	self->priv->_allow_drag = _tmp1_;
	_tmp2_ = granite_widgets_dynamic_notebook_get_tabs (self);
	_tmp3_ = _tmp2_;
	g_list_foreach (_tmp3_, __granite_widgets_dynamic_notebook_allow_drag___lambda66__gfunc, _data9_);
	block9_data_unref (_data9_);
	_data9_ = NULL;
	g_object_notify ((GObject *) self, "allow-drag");
}


gboolean granite_widgets_dynamic_notebook_get_allow_new_window (GraniteWidgetsDynamicNotebook* self) {
	gboolean result;
	gboolean _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->_allow_new_window;
	result = _tmp0_;
	return result;
}


static Block10Data* block10_data_ref (Block10Data* _data10_) {
	g_atomic_int_inc (&_data10_->_ref_count_);
	return _data10_;
}


static void block10_data_unref (void * _userdata_) {
	Block10Data* _data10_;
	_data10_ = (Block10Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data10_->_ref_count_)) {
		GraniteWidgetsDynamicNotebook* self;
		self = _data10_->self;
		_g_object_unref0 (self);
		g_slice_free (Block10Data, _data10_);
	}
}


static void _granite_widgets_dynamic_notebook_allow_new_window___lambda67_ (Block10Data* _data10_, GraniteWidgetsTab* t) {
	GraniteWidgetsDynamicNotebook* self;
	GtkNotebook* _tmp0_;
	GraniteWidgetsTab* _tmp1_;
	GraniteWidgetsTabPageContainer* _tmp2_;
	gboolean _tmp3_;
	self = _data10_->self;
	g_return_if_fail (t != NULL);
	_tmp0_ = self->priv->notebook;
	_tmp1_ = t;
	_tmp2_ = _tmp1_->page_container;
	_tmp3_ = _data10_->value;
	gtk_notebook_set_tab_detachable (_tmp0_, (GtkWidget*) _tmp2_, _tmp3_);
}


static void __granite_widgets_dynamic_notebook_allow_new_window___lambda67__gfunc (gconstpointer data, gpointer self) {
	_granite_widgets_dynamic_notebook_allow_new_window___lambda67_ (self, (GraniteWidgetsTab*) data);
}


void granite_widgets_dynamic_notebook_set_allow_new_window (GraniteWidgetsDynamicNotebook* self, gboolean value) {
	Block10Data* _data10_;
	gboolean _tmp0_;
	gboolean _tmp1_;
	GList* _tmp2_;
	GList* _tmp3_;
	g_return_if_fail (self != NULL);
	_data10_ = g_slice_new0 (Block10Data);
	_data10_->_ref_count_ = 1;
	_data10_->self = g_object_ref (self);
	_tmp0_ = value;
	_data10_->value = _tmp0_;
	_tmp1_ = _data10_->value;
	self->priv->_allow_new_window = _tmp1_;
	_tmp2_ = granite_widgets_dynamic_notebook_get_tabs (self);
	_tmp3_ = _tmp2_;
	g_list_foreach (_tmp3_, __granite_widgets_dynamic_notebook_allow_new_window___lambda67__gfunc, _data10_);
	block10_data_unref (_data10_);
	_data10_ = NULL;
	g_object_notify ((GObject *) self, "allow-new-window");
}


gboolean granite_widgets_dynamic_notebook_get_allow_duplication (GraniteWidgetsDynamicNotebook* self) {
	gboolean result;
	gboolean _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->_allow_duplication;
	result = _tmp0_;
	return result;
}


void granite_widgets_dynamic_notebook_set_allow_duplication (GraniteWidgetsDynamicNotebook* self, gboolean value) {
	gboolean _tmp0_;
	GList* _tmp1_;
	GList* _tmp2_;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	self->priv->_allow_duplication = _tmp0_;
	_tmp1_ = granite_widgets_dynamic_notebook_get_tabs (self);
	_tmp2_ = _tmp1_;
	{
		GList* tab_collection = NULL;
		GList* tab_it = NULL;
		tab_collection = _tmp2_;
		for (tab_it = tab_collection; tab_it != NULL; tab_it = tab_it->next) {
			GraniteWidgetsTab* _tmp3_;
			GraniteWidgetsTab* tab = NULL;
			_tmp3_ = _g_object_ref0 ((GraniteWidgetsTab*) tab_it->data);
			tab = _tmp3_;
			{
				GraniteWidgetsTab* _tmp4_;
				GtkMenuItem* _tmp5_;
				gboolean _tmp6_;
				_tmp4_ = tab;
				_tmp5_ = _tmp4_->duplicate_m;
				_tmp6_ = value;
				gtk_widget_set_visible ((GtkWidget*) _tmp5_, _tmp6_);
				_g_object_unref0 (tab);
			}
		}
	}
	g_object_notify ((GObject *) self, "allow-duplication");
}


gboolean granite_widgets_dynamic_notebook_get_allow_restoring (GraniteWidgetsDynamicNotebook* self) {
	gboolean result;
	gboolean _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->_allow_restoring;
	result = _tmp0_;
	return result;
}


void granite_widgets_dynamic_notebook_set_allow_restoring (GraniteWidgetsDynamicNotebook* self, gboolean value) {
	gboolean _tmp0_;
	GtkMenuItem* _tmp1_;
	gboolean _tmp2_;
	GtkButton* _tmp3_;
	gboolean _tmp4_;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	self->priv->_allow_restoring = _tmp0_;
	_tmp1_ = self->priv->restore_tab_m;
	_tmp2_ = value;
	gtk_widget_set_visible ((GtkWidget*) _tmp1_, _tmp2_);
	_tmp3_ = self->priv->restore_button;
	_tmp4_ = value;
	gtk_widget_set_visible ((GtkWidget*) _tmp3_, _tmp4_);
	g_object_notify ((GObject *) self, "allow-restoring");
}


gint granite_widgets_dynamic_notebook_get_max_restorable_tabs (GraniteWidgetsDynamicNotebook* self) {
	gint result;
	GraniteWidgetsClosedTabs* _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->priv->closed_tabs;
	_tmp1_ = granite_widgets_closed_tabs_get_max_restorable_tabs (_tmp0_);
	_tmp2_ = _tmp1_;
	result = _tmp2_;
	return result;
}


void granite_widgets_dynamic_notebook_set_max_restorable_tabs (GraniteWidgetsDynamicNotebook* self, gint value) {
	GraniteWidgetsClosedTabs* _tmp0_;
	gint _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->closed_tabs;
	_tmp1_ = value;
	granite_widgets_closed_tabs_set_max_restorable_tabs (_tmp0_, _tmp1_);
	g_object_notify ((GObject *) self, "max-restorable-tabs");
}


gboolean granite_widgets_dynamic_notebook_get_add_button_visible (GraniteWidgetsDynamicNotebook* self) {
	gboolean result;
	gboolean _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->_add_button_visible;
	result = _tmp0_;
	return result;
}


void granite_widgets_dynamic_notebook_set_add_button_visible (GraniteWidgetsDynamicNotebook* self, gboolean value) {
	gboolean _tmp0_;
	gboolean _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	_tmp1_ = self->priv->_add_button_visible;
	if (_tmp0_ != _tmp1_) {
		gboolean _tmp2_;
		gboolean _tmp6_;
		_tmp2_ = self->priv->_add_button_visible;
		if (_tmp2_) {
			GtkNotebook* _tmp3_;
			_tmp3_ = self->priv->notebook;
			gtk_notebook_set_action_widget (_tmp3_, NULL, GTK_PACK_START);
		} else {
			GtkNotebook* _tmp4_;
			GtkButton* _tmp5_;
			_tmp4_ = self->priv->notebook;
			_tmp5_ = self->priv->add_button;
			gtk_notebook_set_action_widget (_tmp4_, (GtkWidget*) _tmp5_, GTK_PACK_START);
		}
		_tmp6_ = value;
		self->priv->_add_button_visible = _tmp6_;
	}
	g_object_notify ((GObject *) self, "add-button-visible");
}


gboolean granite_widgets_dynamic_notebook_get_allow_pinning (GraniteWidgetsDynamicNotebook* self) {
	gboolean result;
	gboolean _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->_allow_pinning;
	result = _tmp0_;
	return result;
}


void granite_widgets_dynamic_notebook_set_allow_pinning (GraniteWidgetsDynamicNotebook* self, gboolean value) {
	gboolean _tmp0_;
	GList* _tmp1_;
	GList* _tmp2_;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	self->priv->_allow_pinning = _tmp0_;
	_tmp1_ = granite_widgets_dynamic_notebook_get_tabs (self);
	_tmp2_ = _tmp1_;
	{
		GList* tab_collection = NULL;
		GList* tab_it = NULL;
		tab_collection = _tmp2_;
		for (tab_it = tab_collection; tab_it != NULL; tab_it = tab_it->next) {
			GraniteWidgetsTab* _tmp3_;
			GraniteWidgetsTab* tab = NULL;
			_tmp3_ = _g_object_ref0 ((GraniteWidgetsTab*) tab_it->data);
			tab = _tmp3_;
			{
				GraniteWidgetsTab* _tmp4_;
				gboolean _tmp5_;
				_tmp4_ = tab;
				_tmp5_ = value;
				granite_widgets_tab_set_pinnable (_tmp4_, _tmp5_);
				_g_object_unref0 (tab);
			}
		}
	}
	g_object_notify ((GObject *) self, "allow-pinning");
}


gboolean granite_widgets_dynamic_notebook_get_force_left (GraniteWidgetsDynamicNotebook* self) {
	gboolean result;
	gboolean _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = self->priv->_force_left;
	result = _tmp0_;
	return result;
}


void granite_widgets_dynamic_notebook_set_force_left (GraniteWidgetsDynamicNotebook* self, gboolean value) {
	gboolean _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	self->priv->_force_left = _tmp0_;
	g_object_notify ((GObject *) self, "force-left");
}


const gchar* granite_widgets_dynamic_notebook_get_add_button_tooltip (GraniteWidgetsDynamicNotebook* self) {
	const gchar* result;
	GtkButton* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	const gchar* _tmp3_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->add_button;
	_tmp1_ = gtk_widget_get_tooltip_text ((GtkWidget*) _tmp0_);
	_tmp2_ = _tmp1_;
	_g_free0 (self->priv->_add_button_tooltip);
	self->priv->_add_button_tooltip = _tmp2_;
	_tmp3_ = self->priv->_add_button_tooltip;
	result = _tmp3_;
	return result;
}


void granite_widgets_dynamic_notebook_set_add_button_tooltip (GraniteWidgetsDynamicNotebook* self, const gchar* value) {
	GtkButton* _tmp0_;
	const gchar* _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->add_button;
	_tmp1_ = value;
	gtk_widget_set_tooltip_text ((GtkWidget*) _tmp0_, _tmp1_);
	g_object_notify ((GObject *) self, "add-button-tooltip");
}


GraniteWidgetsTab* granite_widgets_dynamic_notebook_get_current (GraniteWidgetsDynamicNotebook* self) {
	GraniteWidgetsTab* result;
	GList* _tmp0_;
	GList* _tmp1_;
	GtkNotebook* _tmp2_;
	gint _tmp3_;
	gconstpointer _tmp4_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = granite_widgets_dynamic_notebook_get_tabs (self);
	_tmp1_ = _tmp0_;
	_tmp2_ = self->priv->notebook;
	_tmp3_ = gtk_notebook_get_current_page (_tmp2_);
	_tmp4_ = g_list_nth_data (_tmp1_, (guint) _tmp3_);
	result = (GraniteWidgetsTab*) _tmp4_;
	return result;
}


void granite_widgets_dynamic_notebook_set_current (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsTab* value) {
	GtkNotebook* _tmp0_;
	GList* _tmp1_;
	GList* _tmp2_;
	GraniteWidgetsTab* _tmp3_;
	gint _tmp4_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->notebook;
	_tmp1_ = granite_widgets_dynamic_notebook_get_tabs (self);
	_tmp2_ = _tmp1_;
	_tmp3_ = value;
	_tmp4_ = g_list_index (_tmp2_, _tmp3_);
	gtk_notebook_set_current_page (_tmp0_, _tmp4_);
	g_object_notify ((GObject *) self, "current");
}


GList* granite_widgets_dynamic_notebook_get_tabs (GraniteWidgetsDynamicNotebook* self) {
	GList* result;
	GList* _tmp11_;
	g_return_val_if_fail (self != NULL, NULL);
	__g_list_free__g_object_unref0_0 (self->priv->_tabs);
	self->priv->_tabs = NULL;
	{
		gint i = 0;
		i = 0;
		{
			gboolean _tmp0_ = FALSE;
			_tmp0_ = TRUE;
			while (TRUE) {
				gint _tmp2_;
				gint _tmp3_;
				gint _tmp4_;
				GtkNotebook* _tmp5_;
				GtkNotebook* _tmp6_;
				gint _tmp7_;
				GtkWidget* _tmp8_;
				GtkWidget* _tmp9_;
				GraniteWidgetsTab* _tmp10_;
				if (!_tmp0_) {
					gint _tmp1_;
					_tmp1_ = i;
					i = _tmp1_ + 1;
				}
				_tmp0_ = FALSE;
				_tmp2_ = i;
				_tmp3_ = granite_widgets_dynamic_notebook_get_n_tabs (self);
				_tmp4_ = _tmp3_;
				if (!(_tmp2_ < _tmp4_)) {
					break;
				}
				_tmp5_ = self->priv->notebook;
				_tmp6_ = self->priv->notebook;
				_tmp7_ = i;
				_tmp8_ = gtk_notebook_get_nth_page (_tmp6_, _tmp7_);
				_tmp9_ = gtk_notebook_get_tab_label (_tmp5_, _tmp8_);
				_tmp10_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp9_, GRANITE_WIDGETS_TYPE_TAB) ? ((GraniteWidgetsTab*) _tmp9_) : NULL);
				self->priv->_tabs = g_list_append (self->priv->_tabs, _tmp10_);
			}
		}
	}
	_tmp11_ = self->priv->_tabs;
	result = _tmp11_;
	return result;
}


const gchar* granite_widgets_dynamic_notebook_get_group_name (GraniteWidgetsDynamicNotebook* self) {
	const gchar* result;
	GtkNotebook* _tmp0_;
	const gchar* _tmp1_;
	const gchar* _tmp2_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->notebook;
	_tmp1_ = gtk_notebook_get_group_name (_tmp0_);
	_tmp2_ = _tmp1_;
	result = _tmp2_;
	return result;
}


void granite_widgets_dynamic_notebook_set_group_name (GraniteWidgetsDynamicNotebook* self, const gchar* value) {
	GtkNotebook* _tmp0_;
	const gchar* _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->notebook;
	_tmp1_ = value;
	gtk_notebook_set_group_name (_tmp0_, _tmp1_);
	g_object_notify ((GObject *) self, "group-name");
}


GraniteWidgetsDynamicNotebookTabBarBehavior granite_widgets_dynamic_notebook_get_tab_bar_behavior (GraniteWidgetsDynamicNotebook* self) {
	GraniteWidgetsDynamicNotebookTabBarBehavior result;
	GraniteWidgetsDynamicNotebookTabBarBehavior _tmp0_;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->priv->_tab_bar_behavior;
	result = _tmp0_;
	return result;
}


void granite_widgets_dynamic_notebook_set_tab_bar_behavior (GraniteWidgetsDynamicNotebook* self, GraniteWidgetsDynamicNotebookTabBarBehavior value) {
	GraniteWidgetsDynamicNotebookTabBarBehavior _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	self->priv->_tab_bar_behavior = _tmp0_;
	granite_widgets_dynamic_notebook_update_tabs_visibility (self);
	g_object_notify ((GObject *) self, "tab-bar-behavior");
}


GtkMenu* granite_widgets_dynamic_notebook_get_menu (GraniteWidgetsDynamicNotebook* self) {
	GtkMenu* result;
	GtkMenu* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_menu;
	result = _tmp0_;
	return result;
}


static void granite_widgets_dynamic_notebook_set_menu (GraniteWidgetsDynamicNotebook* self, GtkMenu* value) {
	g_return_if_fail (self != NULL);
	if (granite_widgets_dynamic_notebook_get_menu (self) != value) {
		GtkMenu* _tmp0_;
		GtkMenu* _tmp1_;
		_tmp0_ = value;
		_tmp1_ = _g_object_ref0 (_tmp0_);
		_g_object_unref0 (self->priv->_menu);
		self->priv->_menu = _tmp1_;
		g_object_notify ((GObject *) self, "menu");
	}
}


static void g_cclosure_user_marshal_VOID__OBJECT_OBJECT (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data) {
	typedef void (*GMarshalFunc_VOID__OBJECT_OBJECT) (gpointer data1, gpointer arg_1, gpointer arg_2, gpointer data2);
	register GMarshalFunc_VOID__OBJECT_OBJECT callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	cc = (GCClosure *) closure;
	g_return_if_fail (n_param_values == 3);
	if (G_CCLOSURE_SWAP_DATA (closure)) {
		data1 = closure->data;
		data2 = param_values->data[0].v_pointer;
	} else {
		data1 = param_values->data[0].v_pointer;
		data2 = closure->data;
	}
	callback = (GMarshalFunc_VOID__OBJECT_OBJECT) (marshal_data ? marshal_data : cc->callback);
	callback (data1, g_value_get_object (param_values + 1), g_value_get_object (param_values + 2), data2);
}


static void g_cclosure_user_marshal_VOID__OBJECT_INT (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data) {
	typedef void (*GMarshalFunc_VOID__OBJECT_INT) (gpointer data1, gpointer arg_1, gint arg_2, gpointer data2);
	register GMarshalFunc_VOID__OBJECT_INT callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	cc = (GCClosure *) closure;
	g_return_if_fail (n_param_values == 3);
	if (G_CCLOSURE_SWAP_DATA (closure)) {
		data1 = closure->data;
		data2 = param_values->data[0].v_pointer;
	} else {
		data1 = param_values->data[0].v_pointer;
		data2 = closure->data;
	}
	callback = (GMarshalFunc_VOID__OBJECT_INT) (marshal_data ? marshal_data : cc->callback);
	callback (data1, g_value_get_object (param_values + 1), g_value_get_int (param_values + 2), data2);
}


static void g_cclosure_user_marshal_VOID__OBJECT_INT_INT (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data) {
	typedef void (*GMarshalFunc_VOID__OBJECT_INT_INT) (gpointer data1, gpointer arg_1, gint arg_2, gint arg_3, gpointer data2);
	register GMarshalFunc_VOID__OBJECT_INT_INT callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	cc = (GCClosure *) closure;
	g_return_if_fail (n_param_values == 4);
	if (G_CCLOSURE_SWAP_DATA (closure)) {
		data1 = closure->data;
		data2 = param_values->data[0].v_pointer;
	} else {
		data1 = param_values->data[0].v_pointer;
		data2 = closure->data;
	}
	callback = (GMarshalFunc_VOID__OBJECT_INT_INT) (marshal_data ? marshal_data : cc->callback);
	callback (data1, g_value_get_object (param_values + 1), g_value_get_int (param_values + 2), g_value_get_int (param_values + 3), data2);
}


static void g_cclosure_user_marshal_BOOLEAN__OBJECT (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data) {
	typedef gboolean (*GMarshalFunc_BOOLEAN__OBJECT) (gpointer data1, gpointer arg_1, gpointer data2);
	register GMarshalFunc_BOOLEAN__OBJECT callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	gboolean v_return;
	cc = (GCClosure *) closure;
	g_return_if_fail (return_value != NULL);
	g_return_if_fail (n_param_values == 2);
	if (G_CCLOSURE_SWAP_DATA (closure)) {
		data1 = closure->data;
		data2 = param_values->data[0].v_pointer;
	} else {
		data1 = param_values->data[0].v_pointer;
		data2 = closure->data;
	}
	callback = (GMarshalFunc_BOOLEAN__OBJECT) (marshal_data ? marshal_data : cc->callback);
	v_return = callback (data1, g_value_get_object (param_values + 1), data2);
	g_value_set_boolean (return_value, v_return);
}


static void granite_widgets_dynamic_notebook_class_init (GraniteWidgetsDynamicNotebookClass * klass) {
	granite_widgets_dynamic_notebook_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (GraniteWidgetsDynamicNotebookPrivate));
	((GtkWidgetClass *) klass)->show = (void (*) (GtkWidget *)) granite_widgets_dynamic_notebook_real_show;
	G_OBJECT_CLASS (klass)->get_property = _vala_granite_widgets_dynamic_notebook_get_property;
	G_OBJECT_CLASS (klass)->set_property = _vala_granite_widgets_dynamic_notebook_set_property;
	G_OBJECT_CLASS (klass)->finalize = granite_widgets_dynamic_notebook_finalize;
	/**
	         * number of pages
	         */
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_N_TABS_PROPERTY, g_param_spec_int ("n-tabs", "n-tabs", "n-tabs", G_MININT, G_MAXINT, 0, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
	/**
	         * Hide the tab bar and only show the pages
	         */
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_SHOW_TABS_PROPERTY, g_param_spec_boolean ("show-tabs", "show-tabs", "show-tabs", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_SHOW_ICONS_PROPERTY, g_param_spec_boolean ("show-icons", "show-icons", "show-icons", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TABS_CLOSABLE_PROPERTY, g_param_spec_boolean ("tabs-closable", "tabs-closable", "tabs-closable", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_DRAG_PROPERTY, g_param_spec_boolean ("allow-drag", "allow-drag", "allow-drag", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_NEW_WINDOW_PROPERTY, g_param_spec_boolean ("allow-new-window", "allow-new-window", "allow-new-window", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_DUPLICATION_PROPERTY, g_param_spec_boolean ("allow-duplication", "allow-duplication", "allow-duplication", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_RESTORING_PROPERTY, g_param_spec_boolean ("allow-restoring", "allow-restoring", "allow-restoring", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	/**
	         * Set or get the upper limit of the size of the set
	         * of restorable tabs.
	         */
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_MAX_RESTORABLE_TABS_PROPERTY, g_param_spec_int ("max-restorable-tabs", "max-restorable-tabs", "max-restorable-tabs", G_MININT, G_MAXINT, 0, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ADD_BUTTON_VISIBLE_PROPERTY, g_param_spec_boolean ("add-button-visible", "add-button-visible", "add-button-visible", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_PINNING_PROPERTY, g_param_spec_boolean ("allow-pinning", "allow-pinning", "allow-pinning", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_FORCE_LEFT_PROPERTY, g_param_spec_boolean ("force-left", "force-left", "force-left", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	/**
	        * The text shown in the add button tooltip
	        */
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ADD_BUTTON_TOOLTIP_PROPERTY, g_param_spec_string ("add-button-tooltip", "add-button-tooltip", "add-button-tooltip", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_CURRENT_PROPERTY, g_param_spec_object ("current", "current", "current", GRANITE_WIDGETS_TYPE_TAB, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TABS_PROPERTY, g_param_spec_pointer ("tabs", "tabs", "tabs", G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_GROUP_NAME_PROPERTY, g_param_spec_string ("group-name", "group-name", "group-name", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	/**
	         * The behavior of the tab bar and its visibility
	        */
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_BAR_BEHAVIOR_PROPERTY, g_param_spec_enum ("tab-bar-behavior", "tab-bar-behavior", "tab-bar-behavior", GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TYPE_TAB_BAR_BEHAVIOR, 0, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	/**
	         * The menu appearing when the notebook is clicked on a blank space
	         */
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_MENU_PROPERTY, g_param_spec_object ("menu", "menu", "menu", gtk_menu_get_type (), G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
	granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_ADDED_SIGNAL] = g_signal_new ("tab-added", GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, GRANITE_WIDGETS_TYPE_TAB);
	granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_REMOVED_SIGNAL] = g_signal_new ("tab-removed", GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, GRANITE_WIDGETS_TYPE_TAB);
	granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_SWITCHED_SIGNAL] = g_signal_new ("tab-switched", GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_VOID__OBJECT_OBJECT, G_TYPE_NONE, 2, GRANITE_WIDGETS_TYPE_TAB, GRANITE_WIDGETS_TYPE_TAB);
	granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_REORDERED_SIGNAL] = g_signal_new ("tab-reordered", GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_VOID__OBJECT_INT, G_TYPE_NONE, 2, GRANITE_WIDGETS_TYPE_TAB, G_TYPE_INT);
	granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_MOVED_SIGNAL] = g_signal_new ("tab-moved", GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_VOID__OBJECT_INT_INT, G_TYPE_NONE, 3, GRANITE_WIDGETS_TYPE_TAB, G_TYPE_INT, G_TYPE_INT);
	granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_DUPLICATED_SIGNAL] = g_signal_new ("tab-duplicated", GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, GRANITE_WIDGETS_TYPE_TAB);
	granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_RESTORED_SIGNAL] = g_signal_new ("tab-restored", GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_VOID__STRING_STRING_OBJECT, G_TYPE_NONE, 3, G_TYPE_STRING, G_TYPE_STRING, g_icon_get_type ());
	granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_NEW_TAB_REQUESTED_SIGNAL] = g_signal_new ("new-tab-requested", GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
	granite_widgets_dynamic_notebook_signals[GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_CLOSE_TAB_REQUESTED_SIGNAL] = g_signal_new ("close-tab-requested", GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_BOOLEAN__OBJECT, G_TYPE_BOOLEAN, 1, GRANITE_WIDGETS_TYPE_TAB);
}


static void granite_widgets_dynamic_notebook_instance_init (GraniteWidgetsDynamicNotebook * self) {
	self->priv = GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_GET_PRIVATE (self);
	self->priv->_tabs_closable = TRUE;
	self->priv->_allow_drag = TRUE;
	self->priv->_allow_new_window = FALSE;
	self->priv->_allow_duplication = FALSE;
	self->priv->_allow_restoring = FALSE;
	self->priv->_add_button_visible = TRUE;
	self->priv->_allow_pinning = FALSE;
	self->priv->_force_left = TRUE;
	self->priv->tab_width = 150;
}


static void granite_widgets_dynamic_notebook_finalize (GObject * obj) {
	GraniteWidgetsDynamicNotebook * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK, GraniteWidgetsDynamicNotebook);
	_g_free0 (self->priv->_add_button_tooltip);
	__g_list_free__g_object_unref0_0 (self->priv->_tabs);
	_g_object_unref0 (self->priv->_menu);
	_g_object_unref0 (self->priv->closed_tabs);
	_g_object_unref0 (self->priv->notebook);
	_g_object_unref0 (self->priv->old_tab);
	_g_object_unref0 (self->priv->new_tab_m);
	_g_object_unref0 (self->priv->restore_tab_m);
	_g_object_unref0 (self->priv->add_button);
	_g_object_unref0 (self->priv->restore_button);
	G_OBJECT_CLASS (granite_widgets_dynamic_notebook_parent_class)->finalize (obj);
}


/**
    * Tab bar widget designed for a variable number of tabs.
    * Supports showing a "New tab" button, restoring closed tabs, "pinning" tabs, and more.
    *
    * {{../../doc/images/DynamicNotebook.png}}
    */
GType granite_widgets_dynamic_notebook_get_type (void) {
	static volatile gsize granite_widgets_dynamic_notebook_type_id__volatile = 0;
	if (g_once_init_enter (&granite_widgets_dynamic_notebook_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (GraniteWidgetsDynamicNotebookClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) granite_widgets_dynamic_notebook_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GraniteWidgetsDynamicNotebook), 0, (GInstanceInitFunc) granite_widgets_dynamic_notebook_instance_init, NULL };
		GType granite_widgets_dynamic_notebook_type_id;
		granite_widgets_dynamic_notebook_type_id = g_type_register_static (gtk_event_box_get_type (), "GraniteWidgetsDynamicNotebook", &g_define_type_info, 0);
		g_once_init_leave (&granite_widgets_dynamic_notebook_type_id__volatile, granite_widgets_dynamic_notebook_type_id);
	}
	return granite_widgets_dynamic_notebook_type_id__volatile;
}


static void _vala_granite_widgets_dynamic_notebook_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	GraniteWidgetsDynamicNotebook * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK, GraniteWidgetsDynamicNotebook);
	switch (property_id) {
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_N_TABS_PROPERTY:
		g_value_set_int (value, granite_widgets_dynamic_notebook_get_n_tabs (self));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_SHOW_TABS_PROPERTY:
		g_value_set_boolean (value, granite_widgets_dynamic_notebook_get_show_tabs (self));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_SHOW_ICONS_PROPERTY:
		g_value_set_boolean (value, granite_widgets_dynamic_notebook_get_show_icons (self));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TABS_CLOSABLE_PROPERTY:
		g_value_set_boolean (value, granite_widgets_dynamic_notebook_get_tabs_closable (self));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_DRAG_PROPERTY:
		g_value_set_boolean (value, granite_widgets_dynamic_notebook_get_allow_drag (self));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_NEW_WINDOW_PROPERTY:
		g_value_set_boolean (value, granite_widgets_dynamic_notebook_get_allow_new_window (self));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_DUPLICATION_PROPERTY:
		g_value_set_boolean (value, granite_widgets_dynamic_notebook_get_allow_duplication (self));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_RESTORING_PROPERTY:
		g_value_set_boolean (value, granite_widgets_dynamic_notebook_get_allow_restoring (self));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_MAX_RESTORABLE_TABS_PROPERTY:
		g_value_set_int (value, granite_widgets_dynamic_notebook_get_max_restorable_tabs (self));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ADD_BUTTON_VISIBLE_PROPERTY:
		g_value_set_boolean (value, granite_widgets_dynamic_notebook_get_add_button_visible (self));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_PINNING_PROPERTY:
		g_value_set_boolean (value, granite_widgets_dynamic_notebook_get_allow_pinning (self));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_FORCE_LEFT_PROPERTY:
		g_value_set_boolean (value, granite_widgets_dynamic_notebook_get_force_left (self));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ADD_BUTTON_TOOLTIP_PROPERTY:
		g_value_set_string (value, granite_widgets_dynamic_notebook_get_add_button_tooltip (self));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_CURRENT_PROPERTY:
		g_value_set_object (value, granite_widgets_dynamic_notebook_get_current (self));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TABS_PROPERTY:
		g_value_set_pointer (value, granite_widgets_dynamic_notebook_get_tabs (self));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_GROUP_NAME_PROPERTY:
		g_value_set_string (value, granite_widgets_dynamic_notebook_get_group_name (self));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_BAR_BEHAVIOR_PROPERTY:
		g_value_set_enum (value, granite_widgets_dynamic_notebook_get_tab_bar_behavior (self));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_MENU_PROPERTY:
		g_value_set_object (value, granite_widgets_dynamic_notebook_get_menu (self));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}


static void _vala_granite_widgets_dynamic_notebook_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	GraniteWidgetsDynamicNotebook * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GRANITE_WIDGETS_TYPE_DYNAMIC_NOTEBOOK, GraniteWidgetsDynamicNotebook);
	switch (property_id) {
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_SHOW_TABS_PROPERTY:
		granite_widgets_dynamic_notebook_set_show_tabs (self, g_value_get_boolean (value));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_SHOW_ICONS_PROPERTY:
		granite_widgets_dynamic_notebook_set_show_icons (self, g_value_get_boolean (value));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TABS_CLOSABLE_PROPERTY:
		granite_widgets_dynamic_notebook_set_tabs_closable (self, g_value_get_boolean (value));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_DRAG_PROPERTY:
		granite_widgets_dynamic_notebook_set_allow_drag (self, g_value_get_boolean (value));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_NEW_WINDOW_PROPERTY:
		granite_widgets_dynamic_notebook_set_allow_new_window (self, g_value_get_boolean (value));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_DUPLICATION_PROPERTY:
		granite_widgets_dynamic_notebook_set_allow_duplication (self, g_value_get_boolean (value));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_RESTORING_PROPERTY:
		granite_widgets_dynamic_notebook_set_allow_restoring (self, g_value_get_boolean (value));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_MAX_RESTORABLE_TABS_PROPERTY:
		granite_widgets_dynamic_notebook_set_max_restorable_tabs (self, g_value_get_int (value));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ADD_BUTTON_VISIBLE_PROPERTY:
		granite_widgets_dynamic_notebook_set_add_button_visible (self, g_value_get_boolean (value));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ALLOW_PINNING_PROPERTY:
		granite_widgets_dynamic_notebook_set_allow_pinning (self, g_value_get_boolean (value));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_FORCE_LEFT_PROPERTY:
		granite_widgets_dynamic_notebook_set_force_left (self, g_value_get_boolean (value));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_ADD_BUTTON_TOOLTIP_PROPERTY:
		granite_widgets_dynamic_notebook_set_add_button_tooltip (self, g_value_get_string (value));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_CURRENT_PROPERTY:
		granite_widgets_dynamic_notebook_set_current (self, g_value_get_object (value));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_GROUP_NAME_PROPERTY:
		granite_widgets_dynamic_notebook_set_group_name (self, g_value_get_string (value));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_TAB_BAR_BEHAVIOR_PROPERTY:
		granite_widgets_dynamic_notebook_set_tab_bar_behavior (self, g_value_get_enum (value));
		break;
		case GRANITE_WIDGETS_DYNAMIC_NOTEBOOK_MENU_PROPERTY:
		granite_widgets_dynamic_notebook_set_menu (self, g_value_get_object (value));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}



