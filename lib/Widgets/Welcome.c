/* Welcome.c generated by valac 0.36.7, the Vala compiler
 * generated from Welcome.vala, do not modify */

/***
    Copyright (C) 2011-2013 Maxwell Barvian <maxwell@elementaryos.org>,
                            Victor Eduardo <victoreduardm@gmal.com>

    This program or library is free software; you can redistribute it
    and/or modify it under the terms of the GNU Lesser General Public
    License as published by the Free Software Foundation; either
    version 3 of the License, or (at your option) any later version.

    This library is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
    Lesser General Public License for more details.
 
    You should have received a copy of the GNU Lesser General
    Public License along with this library; if not, write to the
    Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
    Boston, MA 02110-1301 USA.
***/

#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include <gdk-pixbuf/gdk-pixbuf.h>
#include <gdk/gdk.h>


#define GRANITE_WIDGETS_TYPE_WELCOME (granite_widgets_welcome_get_type ())
#define GRANITE_WIDGETS_WELCOME(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRANITE_WIDGETS_TYPE_WELCOME, GraniteWidgetsWelcome))
#define GRANITE_WIDGETS_WELCOME_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRANITE_WIDGETS_TYPE_WELCOME, GraniteWidgetsWelcomeClass))
#define GRANITE_WIDGETS_IS_WELCOME(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRANITE_WIDGETS_TYPE_WELCOME))
#define GRANITE_WIDGETS_IS_WELCOME_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRANITE_WIDGETS_TYPE_WELCOME))
#define GRANITE_WIDGETS_WELCOME_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRANITE_WIDGETS_TYPE_WELCOME, GraniteWidgetsWelcomeClass))

typedef struct _GraniteWidgetsWelcome GraniteWidgetsWelcome;
typedef struct _GraniteWidgetsWelcomeClass GraniteWidgetsWelcomeClass;
typedef struct _GraniteWidgetsWelcomePrivate GraniteWidgetsWelcomePrivate;
#define __g_list_free__g_object_unref0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__g_object_unref0_ (var), NULL)))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

#define GRANITE_TYPE_TEXT_STYLE (granite_text_style_get_type ())
typedef struct _Block11Data Block11Data;
#define _g_free0(var) (var = (g_free (var), NULL))
enum  {
	GRANITE_WIDGETS_WELCOME_ACTIVATED_SIGNAL,
	GRANITE_WIDGETS_WELCOME_NUM_SIGNALS
};
static guint granite_widgets_welcome_signals[GRANITE_WIDGETS_WELCOME_NUM_SIGNALS] = {0};

struct _GraniteWidgetsWelcome {
	GtkEventBox parent_instance;
	GraniteWidgetsWelcomePrivate * priv;
	GList* children;
	GtkBox* options;
};

struct _GraniteWidgetsWelcomeClass {
	GtkEventBoxClass parent_class;
};

struct _GraniteWidgetsWelcomePrivate {
	GtkLabel* title_label;
	GtkLabel* subtitle_label;
};

typedef enum  {
	GRANITE_TEXT_STYLE_TITLE,
	GRANITE_TEXT_STYLE_H1,
	GRANITE_TEXT_STYLE_H2,
	GRANITE_TEXT_STYLE_H3
} GraniteTextStyle;

struct _Block11Data {
	int _ref_count_;
	GraniteWidgetsWelcome* self;
	GtkButton* button;
};


static gpointer granite_widgets_welcome_parent_class = NULL;

GType granite_widgets_welcome_get_type (void) G_GNUC_CONST;
#define GRANITE_WIDGETS_WELCOME_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), GRANITE_WIDGETS_TYPE_WELCOME, GraniteWidgetsWelcomePrivate))
enum  {
	GRANITE_WIDGETS_WELCOME_0_PROPERTY,
	GRANITE_WIDGETS_WELCOME_TITLE_PROPERTY,
	GRANITE_WIDGETS_WELCOME_SUBTITLE_PROPERTY
};
static void _g_object_unref0_ (gpointer var);
static void _g_list_free__g_object_unref0_ (GList* self);
GraniteWidgetsWelcome* granite_widgets_welcome_new (const gchar* title_text, const gchar* subtitle_text);
GraniteWidgetsWelcome* granite_widgets_welcome_construct (GType object_type, const gchar* title_text, const gchar* subtitle_text);
#define GRANITE_STYLE_CLASS_CONTENT_VIEW "content-view"
GType granite_text_style_get_type (void) G_GNUC_CONST;
void granite_widgets_utils_apply_text_style_to_label (GraniteTextStyle text_style, GtkLabel* label);
void granite_widgets_welcome_set_item_visible (GraniteWidgetsWelcome* self, guint index, gboolean val);
void granite_widgets_welcome_remove_item (GraniteWidgetsWelcome* self, guint index);
void granite_widgets_welcome_set_item_sensitivity (GraniteWidgetsWelcome* self, guint index, gboolean val);
gint granite_widgets_welcome_append (GraniteWidgetsWelcome* self, const gchar* icon_name, const gchar* option_text, const gchar* description_text);
gint granite_widgets_welcome_append_with_image (GraniteWidgetsWelcome* self, GtkImage* image, const gchar* option_text, const gchar* description_text);
gint granite_widgets_welcome_append_with_pixbuf (GraniteWidgetsWelcome* self, GdkPixbuf* pixbuf, const gchar* option_text, const gchar* description_text);
static Block11Data* block11_data_ref (Block11Data* _data11_);
static void block11_data_unref (void * _userdata_);
static gboolean __lambda68_ (Block11Data* _data11_);
static gboolean ___lambda68__gtk_widget_button_release_event (GtkWidget* _sender, GdkEventButton* event, gpointer self);
const gchar* granite_widgets_welcome_get_title (GraniteWidgetsWelcome* self);
void granite_widgets_welcome_set_title (GraniteWidgetsWelcome* self, const gchar* value);
const gchar* granite_widgets_welcome_get_subtitle (GraniteWidgetsWelcome* self);
void granite_widgets_welcome_set_subtitle (GraniteWidgetsWelcome* self, const gchar* value);
static void granite_widgets_welcome_finalize (GObject * obj);
static void _vala_granite_widgets_welcome_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_granite_widgets_welcome_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);


static void _g_object_unref0_ (gpointer var) {
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
}


static void _g_list_free__g_object_unref0_ (GList* self) {
	g_list_foreach (self, (GFunc) _g_object_unref0_, NULL);
	g_list_free (self);
}


/**
     * Makes new Welcome Page
     *
     * @param title_text main title for new Welcome Page
     * @param subtitle_text subtitle text for new Welcome Page
     */
GraniteWidgetsWelcome* granite_widgets_welcome_construct (GType object_type, const gchar* title_text, const gchar* subtitle_text) {
	GraniteWidgetsWelcome * self = NULL;
	GtkBox* content = NULL;
	GtkBox* _tmp0_;
	GtkStyleContext* _tmp1_;
	GtkBox* _tmp2_;
	GtkBox* _tmp3_;
	const gchar* _tmp4_;
	GtkLabel* _tmp5_;
	GtkLabel* _tmp6_;
	GtkLabel* _tmp7_;
	GtkLabel* _tmp8_;
	const gchar* _tmp9_;
	GtkLabel* _tmp10_;
	GtkLabel* _tmp11_;
	GtkLabel* _tmp12_;
	GtkLabel* _tmp13_;
	GtkLabel* _tmp14_;
	GtkBox* _tmp15_;
	GtkBox* options_wrapper = NULL;
	GtkBox* _tmp16_;
	GtkBox* _tmp17_;
	GtkBox* _tmp18_;
	GtkBox* _tmp19_;
	GtkBox* _tmp20_;
	GtkBox* _tmp21_;
	GtkBox* _tmp22_;
	GtkBox* _tmp23_;
	g_return_val_if_fail (title_text != NULL, NULL);
	g_return_val_if_fail (subtitle_text != NULL, NULL);
	self = (GraniteWidgetsWelcome*) g_object_new (object_type, NULL);
	_tmp0_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_VERTICAL, 0);
	g_object_ref_sink (_tmp0_);
	content = _tmp0_;
	gtk_box_set_homogeneous (content, FALSE);
	_tmp1_ = gtk_widget_get_style_context ((GtkWidget*) self);
	gtk_style_context_add_class (_tmp1_, GRANITE_STYLE_CLASS_CONTENT_VIEW);
	_tmp2_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
	g_object_ref_sink (_tmp2_);
	_tmp3_ = _tmp2_;
	gtk_box_pack_start (content, (GtkWidget*) _tmp3_, TRUE, TRUE, (guint) 0);
	_g_object_unref0 (_tmp3_);
	_tmp4_ = title_text;
	_tmp5_ = (GtkLabel*) gtk_label_new (_tmp4_);
	g_object_ref_sink (_tmp5_);
	_g_object_unref0 (self->priv->title_label);
	self->priv->title_label = _tmp5_;
	_tmp6_ = self->priv->title_label;
	granite_widgets_utils_apply_text_style_to_label (GRANITE_TEXT_STYLE_H1, _tmp6_);
	_tmp7_ = self->priv->title_label;
	gtk_label_set_justify (_tmp7_, GTK_JUSTIFY_CENTER);
	_tmp8_ = self->priv->title_label;
	gtk_box_pack_start (content, (GtkWidget*) _tmp8_, FALSE, TRUE, (guint) 0);
	_tmp9_ = subtitle_text;
	_tmp10_ = (GtkLabel*) gtk_label_new (_tmp9_);
	g_object_ref_sink (_tmp10_);
	_g_object_unref0 (self->priv->subtitle_label);
	self->priv->subtitle_label = _tmp10_;
	_tmp11_ = self->priv->subtitle_label;
	granite_widgets_utils_apply_text_style_to_label (GRANITE_TEXT_STYLE_H2, _tmp11_);
	_tmp12_ = self->priv->subtitle_label;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp12_, FALSE);
	_tmp13_ = self->priv->subtitle_label;
	gtk_label_set_justify (_tmp13_, GTK_JUSTIFY_CENTER);
	_tmp14_ = self->priv->subtitle_label;
	gtk_box_pack_start (content, (GtkWidget*) _tmp14_, FALSE, TRUE, (guint) 2);
	_tmp15_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_VERTICAL, 8);
	g_object_ref_sink (_tmp15_);
	_g_object_unref0 (self->options);
	self->options = _tmp15_;
	_tmp16_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
	g_object_ref_sink (_tmp16_);
	options_wrapper = _tmp16_;
	_tmp17_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
	g_object_ref_sink (_tmp17_);
	_tmp18_ = _tmp17_;
	gtk_box_pack_start (options_wrapper, (GtkWidget*) _tmp18_, TRUE, TRUE, (guint) 0);
	_g_object_unref0 (_tmp18_);
	_tmp19_ = self->options;
	gtk_box_pack_start (options_wrapper, (GtkWidget*) _tmp19_, FALSE, FALSE, (guint) 0);
	_tmp20_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
	g_object_ref_sink (_tmp20_);
	_tmp21_ = _tmp20_;
	gtk_box_pack_end (options_wrapper, (GtkWidget*) _tmp21_, TRUE, TRUE, (guint) 0);
	_g_object_unref0 (_tmp21_);
	gtk_box_pack_start (content, (GtkWidget*) options_wrapper, FALSE, FALSE, (guint) 20);
	_tmp22_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
	g_object_ref_sink (_tmp22_);
	_tmp23_ = _tmp22_;
	gtk_box_pack_end (content, (GtkWidget*) _tmp23_, TRUE, TRUE, (guint) 0);
	_g_object_unref0 (_tmp23_);
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) content);
	_g_object_unref0 (options_wrapper);
	_g_object_unref0 (content);
	return self;
}


GraniteWidgetsWelcome* granite_widgets_welcome_new (const gchar* title_text, const gchar* subtitle_text) {
	return granite_widgets_welcome_construct (GRANITE_WIDGETS_TYPE_WELCOME, title_text, subtitle_text);
}


/**
      * Sets action item of given index's visiblity
      *
      * @param index index of action item to be changed
      * @param val value deteriming whether the action item is visible
      */
void granite_widgets_welcome_set_item_visible (GraniteWidgetsWelcome* self, guint index, gboolean val) {
	gboolean _tmp0_ = FALSE;
	guint _tmp1_;
	GList* _tmp2_;
	guint _tmp3_;
	g_return_if_fail (self != NULL);
	_tmp1_ = index;
	_tmp2_ = self->children;
	_tmp3_ = g_list_length (_tmp2_);
	if (_tmp1_ < _tmp3_) {
		GList* _tmp4_;
		guint _tmp5_;
		gconstpointer _tmp6_;
		_tmp4_ = self->children;
		_tmp5_ = index;
		_tmp6_ = g_list_nth_data (_tmp4_, _tmp5_);
		_tmp0_ = G_TYPE_CHECK_INSTANCE_TYPE ((GtkButton*) _tmp6_, gtk_widget_get_type ());
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		GList* _tmp7_;
		guint _tmp8_;
		gconstpointer _tmp9_;
		gboolean _tmp10_;
		GList* _tmp11_;
		guint _tmp12_;
		gconstpointer _tmp13_;
		gboolean _tmp14_;
		_tmp7_ = self->children;
		_tmp8_ = index;
		_tmp9_ = g_list_nth_data (_tmp7_, _tmp8_);
		_tmp10_ = val;
		gtk_widget_set_no_show_all ((GtkWidget*) ((GtkButton*) _tmp9_), !_tmp10_);
		_tmp11_ = self->children;
		_tmp12_ = index;
		_tmp13_ = g_list_nth_data (_tmp11_, _tmp12_);
		_tmp14_ = val;
		gtk_widget_set_visible ((GtkWidget*) ((GtkButton*) _tmp13_), _tmp14_);
	}
}


/**
      * Removes action item of given index
      *
      * @param index index of action item to remove
      */
static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


void granite_widgets_welcome_remove_item (GraniteWidgetsWelcome* self, guint index) {
	gboolean _tmp0_ = FALSE;
	guint _tmp1_;
	GList* _tmp2_;
	guint _tmp3_;
	g_return_if_fail (self != NULL);
	_tmp1_ = index;
	_tmp2_ = self->children;
	_tmp3_ = g_list_length (_tmp2_);
	if (_tmp1_ < _tmp3_) {
		GList* _tmp4_;
		guint _tmp5_;
		gconstpointer _tmp6_;
		_tmp4_ = self->children;
		_tmp5_ = index;
		_tmp6_ = g_list_nth_data (_tmp4_, _tmp5_);
		_tmp0_ = G_TYPE_CHECK_INSTANCE_TYPE ((GtkButton*) _tmp6_, gtk_widget_get_type ());
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		GtkButton* item = NULL;
		GList* _tmp7_;
		guint _tmp8_;
		gconstpointer _tmp9_;
		GtkButton* _tmp10_;
		GtkButton* _tmp11_;
		GtkButton* _tmp12_;
		_tmp7_ = self->children;
		_tmp8_ = index;
		_tmp9_ = g_list_nth_data (_tmp7_, _tmp8_);
		_tmp10_ = _g_object_ref0 ((GtkButton*) _tmp9_);
		item = _tmp10_;
		_tmp11_ = item;
		gtk_widget_destroy ((GtkWidget*) _tmp11_);
		_tmp12_ = item;
		self->children = g_list_remove (self->children, _tmp12_);
		_g_object_unref0 (item);
	}
}


/**
      * Sets action item of given index sensitivity
      *
      * @param index index of action item to be changed
      * @param val value deteriming whether the action item is senstitive
      */
void granite_widgets_welcome_set_item_sensitivity (GraniteWidgetsWelcome* self, guint index, gboolean val) {
	gboolean _tmp0_ = FALSE;
	guint _tmp1_;
	GList* _tmp2_;
	guint _tmp3_;
	g_return_if_fail (self != NULL);
	_tmp1_ = index;
	_tmp2_ = self->children;
	_tmp3_ = g_list_length (_tmp2_);
	if (_tmp1_ < _tmp3_) {
		GList* _tmp4_;
		guint _tmp5_;
		gconstpointer _tmp6_;
		_tmp4_ = self->children;
		_tmp5_ = index;
		_tmp6_ = g_list_nth_data (_tmp4_, _tmp5_);
		_tmp0_ = G_TYPE_CHECK_INSTANCE_TYPE ((GtkButton*) _tmp6_, gtk_widget_get_type ());
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		GList* _tmp7_;
		guint _tmp8_;
		gconstpointer _tmp9_;
		gboolean _tmp10_;
		_tmp7_ = self->children;
		_tmp8_ = index;
		_tmp9_ = g_list_nth_data (_tmp7_, _tmp8_);
		_tmp10_ = val;
		gtk_widget_set_sensitive ((GtkWidget*) ((GtkButton*) _tmp9_), _tmp10_);
	}
}


/**
      * Appends new action item to welcome page with icon
      *
      * @param icon_name icon to be set as icon for action item
      * @param option_text text to be set as the header for action item
      * @param description_text text to be set as description for action item
      * @return index of new item
      */
gint granite_widgets_welcome_append (GraniteWidgetsWelcome* self, const gchar* icon_name, const gchar* option_text, const gchar* description_text) {
	gint result = 0;
	GtkImage* image = NULL;
	const gchar* _tmp0_;
	GtkImage* _tmp1_;
	const gchar* _tmp2_;
	const gchar* _tmp3_;
	gint _tmp4_;
	g_return_val_if_fail (self != NULL, 0);
	g_return_val_if_fail (icon_name != NULL, 0);
	g_return_val_if_fail (option_text != NULL, 0);
	g_return_val_if_fail (description_text != NULL, 0);
	_tmp0_ = icon_name;
	_tmp1_ = (GtkImage*) gtk_image_new_from_icon_name (_tmp0_, GTK_ICON_SIZE_DIALOG);
	g_object_ref_sink (_tmp1_);
	image = _tmp1_;
	_tmp2_ = option_text;
	_tmp3_ = description_text;
	_tmp4_ = granite_widgets_welcome_append_with_image (self, image, _tmp2_, _tmp3_);
	result = _tmp4_;
	_g_object_unref0 (image);
	return result;
}


/**
      * Appends new action item to welcome page with Gtk.Pixbuf icon
      *
      * @param pixbuf pixbuf to be set as icon for action item
      * @param option_text text to be set as the header for action item
      * @param description_text text to be set as description for action item
      * @return index of new item
      */
gint granite_widgets_welcome_append_with_pixbuf (GraniteWidgetsWelcome* self, GdkPixbuf* pixbuf, const gchar* option_text, const gchar* description_text) {
	gint result = 0;
	GtkImage* image = NULL;
	GdkPixbuf* _tmp0_;
	GtkImage* _tmp1_;
	const gchar* _tmp2_;
	const gchar* _tmp3_;
	gint _tmp4_;
	g_return_val_if_fail (self != NULL, 0);
	g_return_val_if_fail (option_text != NULL, 0);
	g_return_val_if_fail (description_text != NULL, 0);
	_tmp0_ = pixbuf;
	_tmp1_ = (GtkImage*) gtk_image_new_from_pixbuf (_tmp0_);
	g_object_ref_sink (_tmp1_);
	image = _tmp1_;
	_tmp2_ = option_text;
	_tmp3_ = description_text;
	_tmp4_ = granite_widgets_welcome_append_with_image (self, image, _tmp2_, _tmp3_);
	result = _tmp4_;
	_g_object_unref0 (image);
	return result;
}


/**
      * Appends new action item to welcome page with Gtk.Image icon
      *
      * @param image image to be set as icon for action item
      * @param option_text text to be set as the header for action item
      * @param description_text text to be set as description for action item
      * @return index of new item
      */
static Block11Data* block11_data_ref (Block11Data* _data11_) {
	g_atomic_int_inc (&_data11_->_ref_count_);
	return _data11_;
}


static void block11_data_unref (void * _userdata_) {
	Block11Data* _data11_;
	_data11_ = (Block11Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data11_->_ref_count_)) {
		GraniteWidgetsWelcome* self;
		self = _data11_->self;
		_g_object_unref0 (_data11_->button);
		_g_object_unref0 (self);
		g_slice_free (Block11Data, _data11_);
	}
}


static gboolean __lambda68_ (Block11Data* _data11_) {
	GraniteWidgetsWelcome* self;
	gboolean result = FALSE;
	gint index = 0;
	GList* _tmp0_;
	GtkButton* _tmp1_;
	gint _tmp2_;
	self = _data11_->self;
	_tmp0_ = self->children;
	_tmp1_ = _data11_->button;
	_tmp2_ = g_list_index (_tmp0_, _tmp1_);
	index = _tmp2_;
	g_signal_emit (self, granite_widgets_welcome_signals[GRANITE_WIDGETS_WELCOME_ACTIVATED_SIGNAL], 0, index);
	result = FALSE;
	return result;
}


static gboolean ___lambda68__gtk_widget_button_release_event (GtkWidget* _sender, GdkEventButton* event, gpointer self) {
	gboolean result;
	result = __lambda68_ (self);
	return result;
}


gint granite_widgets_welcome_append_with_image (GraniteWidgetsWelcome* self, GtkImage* image, const gchar* option_text, const gchar* description_text) {
	gint result = 0;
	Block11Data* _data11_;
	GtkLabel* label = NULL;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	GtkLabel* _tmp3_;
	GtkLabel* _tmp4_;
	GtkLabel* _tmp5_;
	GtkLabel* _tmp6_;
	GtkLabel* _tmp7_;
	GtkLabel* description = NULL;
	const gchar* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	GtkLabel* _tmp11_;
	GtkLabel* _tmp12_;
	GtkLabel* _tmp13_;
	GtkLabel* _tmp14_;
	GtkLabel* _tmp15_;
	GtkLabel* _tmp16_;
	GtkButton* _tmp17_;
	GtkButton* _tmp18_;
	GtkBox* button_contents = NULL;
	GtkBox* _tmp19_;
	GtkImage* _tmp20_;
	GtkBox* text_wrapper = NULL;
	GtkBox* _tmp24_;
	GtkBox* _tmp25_;
	GtkBox* _tmp26_;
	GtkLabel* _tmp27_;
	GtkLabel* _tmp28_;
	GtkBox* _tmp29_;
	GtkBox* _tmp30_;
	GtkBox* _tmp31_;
	GtkButton* _tmp32_;
	GtkBox* _tmp33_;
	GtkButton* _tmp34_;
	GtkButton* _tmp35_;
	GtkBox* _tmp36_;
	GtkButton* _tmp37_;
	GtkButton* _tmp38_;
	GList* _tmp39_;
	GtkButton* _tmp40_;
	gint _tmp41_;
	g_return_val_if_fail (self != NULL, 0);
	g_return_val_if_fail (option_text != NULL, 0);
	g_return_val_if_fail (description_text != NULL, 0);
	_data11_ = g_slice_new0 (Block11Data);
	_data11_->_ref_count_ = 1;
	_data11_->self = g_object_ref (self);
	_tmp0_ = option_text;
	_tmp1_ = g_markup_printf_escaped ("<span weight='medium' size='11700'>%s</span>", _tmp0_);
	_tmp2_ = _tmp1_;
	_tmp3_ = (GtkLabel*) gtk_label_new (_tmp2_);
	g_object_ref_sink (_tmp3_);
	_tmp4_ = _tmp3_;
	_g_free0 (_tmp2_);
	label = _tmp4_;
	_tmp5_ = label;
	gtk_label_set_use_markup (_tmp5_, TRUE);
	_tmp6_ = label;
	gtk_widget_set_halign ((GtkWidget*) _tmp6_, GTK_ALIGN_START);
	_tmp7_ = label;
	gtk_widget_set_valign ((GtkWidget*) _tmp7_, GTK_ALIGN_CENTER);
	_tmp8_ = description_text;
	_tmp9_ = g_markup_printf_escaped ("<span weight='medium' size='11400'>%s</span>", _tmp8_);
	_tmp10_ = _tmp9_;
	_tmp11_ = (GtkLabel*) gtk_label_new (_tmp10_);
	g_object_ref_sink (_tmp11_);
	_tmp12_ = _tmp11_;
	_g_free0 (_tmp10_);
	description = _tmp12_;
	_tmp13_ = description;
	gtk_label_set_use_markup (_tmp13_, TRUE);
	_tmp14_ = description;
	gtk_widget_set_halign ((GtkWidget*) _tmp14_, GTK_ALIGN_START);
	_tmp15_ = description;
	gtk_widget_set_valign ((GtkWidget*) _tmp15_, GTK_ALIGN_CENTER);
	_tmp16_ = description;
	gtk_widget_set_sensitive ((GtkWidget*) _tmp16_, FALSE);
	_tmp17_ = (GtkButton*) gtk_button_new ();
	g_object_ref_sink (_tmp17_);
	_data11_->button = _tmp17_;
	_tmp18_ = _data11_->button;
	gtk_button_set_relief (_tmp18_, GTK_RELIEF_NONE);
	_tmp19_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 7);
	g_object_ref_sink (_tmp19_);
	button_contents = _tmp19_;
	_tmp20_ = image;
	if (_tmp20_ != NULL) {
		GtkImage* _tmp21_;
		GtkBox* _tmp22_;
		GtkImage* _tmp23_;
		_tmp21_ = image;
		gtk_image_set_pixel_size (_tmp21_, 48);
		_tmp22_ = button_contents;
		_tmp23_ = image;
		gtk_box_pack_start (_tmp22_, (GtkWidget*) _tmp23_, FALSE, TRUE, (guint) 8);
	}
	_tmp24_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_VERTICAL, 3);
	g_object_ref_sink (_tmp24_);
	text_wrapper = _tmp24_;
	_tmp25_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
	g_object_ref_sink (_tmp25_);
	_tmp26_ = _tmp25_;
	gtk_box_pack_start (text_wrapper, (GtkWidget*) _tmp26_, TRUE, TRUE, (guint) 0);
	_g_object_unref0 (_tmp26_);
	_tmp27_ = label;
	gtk_box_pack_start (text_wrapper, (GtkWidget*) _tmp27_, FALSE, FALSE, (guint) 0);
	_tmp28_ = description;
	gtk_box_pack_start (text_wrapper, (GtkWidget*) _tmp28_, FALSE, FALSE, (guint) 0);
	_tmp29_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
	g_object_ref_sink (_tmp29_);
	_tmp30_ = _tmp29_;
	gtk_box_pack_end (text_wrapper, (GtkWidget*) _tmp30_, TRUE, TRUE, (guint) 0);
	_g_object_unref0 (_tmp30_);
	_tmp31_ = button_contents;
	gtk_box_pack_start (_tmp31_, (GtkWidget*) text_wrapper, FALSE, TRUE, (guint) 8);
	_tmp32_ = _data11_->button;
	_tmp33_ = button_contents;
	gtk_container_add ((GtkContainer*) _tmp32_, (GtkWidget*) _tmp33_);
	_tmp34_ = _data11_->button;
	_tmp35_ = _g_object_ref0 (_tmp34_);
	self->children = g_list_append (self->children, _tmp35_);
	_tmp36_ = self->options;
	_tmp37_ = _data11_->button;
	gtk_box_pack_start (_tmp36_, (GtkWidget*) _tmp37_, FALSE, FALSE, (guint) 0);
	_tmp38_ = _data11_->button;
	g_signal_connect_data ((GtkWidget*) _tmp38_, "button-release-event", (GCallback) ___lambda68__gtk_widget_button_release_event, block11_data_ref (_data11_), (GClosureNotify) block11_data_unref, 0);
	_tmp39_ = self->children;
	_tmp40_ = _data11_->button;
	_tmp41_ = g_list_index (_tmp39_, _tmp40_);
	result = _tmp41_;
	_g_object_unref0 (text_wrapper);
	_g_object_unref0 (button_contents);
	_g_object_unref0 (description);
	_g_object_unref0 (label);
	block11_data_unref (_data11_);
	_data11_ = NULL;
	return result;
}


const gchar* granite_widgets_welcome_get_title (GraniteWidgetsWelcome* self) {
	const gchar* result;
	GtkLabel* _tmp0_;
	const gchar* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->title_label;
	_tmp1_ = gtk_label_get_label (_tmp0_);
	result = _tmp1_;
	return result;
}


void granite_widgets_welcome_set_title (GraniteWidgetsWelcome* self, const gchar* value) {
	GtkLabel* _tmp0_;
	const gchar* _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->title_label;
	_tmp1_ = value;
	gtk_label_set_label (_tmp0_, _tmp1_);
	g_object_notify ((GObject *) self, "title");
}


const gchar* granite_widgets_welcome_get_subtitle (GraniteWidgetsWelcome* self) {
	const gchar* result;
	GtkLabel* _tmp0_;
	const gchar* _tmp1_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->subtitle_label;
	_tmp1_ = gtk_label_get_label (_tmp0_);
	result = _tmp1_;
	return result;
}


void granite_widgets_welcome_set_subtitle (GraniteWidgetsWelcome* self, const gchar* value) {
	GtkLabel* _tmp0_;
	const gchar* _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->subtitle_label;
	_tmp1_ = value;
	gtk_label_set_label (_tmp0_, _tmp1_);
	g_object_notify ((GObject *) self, "subtitle");
}


static void granite_widgets_welcome_class_init (GraniteWidgetsWelcomeClass * klass) {
	granite_widgets_welcome_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (GraniteWidgetsWelcomePrivate));
	G_OBJECT_CLASS (klass)->get_property = _vala_granite_widgets_welcome_get_property;
	G_OBJECT_CLASS (klass)->set_property = _vala_granite_widgets_welcome_set_property;
	G_OBJECT_CLASS (klass)->finalize = granite_widgets_welcome_finalize;
	/**
	     * This is the title of the welcome widget.
	     */
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_WELCOME_TITLE_PROPERTY, g_param_spec_string ("title", "title", "title", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	/**
	     * This is the subtitle of the welcome widget.
	     */
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_WELCOME_SUBTITLE_PROPERTY, g_param_spec_string ("subtitle", "subtitle", "subtitle", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	granite_widgets_welcome_signals[GRANITE_WIDGETS_WELCOME_ACTIVATED_SIGNAL] = g_signal_new ("activated", GRANITE_WIDGETS_TYPE_WELCOME, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__INT, G_TYPE_NONE, 1, G_TYPE_INT);
}


static void granite_widgets_welcome_instance_init (GraniteWidgetsWelcome * self) {
	self->priv = GRANITE_WIDGETS_WELCOME_GET_PRIVATE (self);
	self->children = NULL;
}


static void granite_widgets_welcome_finalize (GObject * obj) {
	GraniteWidgetsWelcome * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GRANITE_WIDGETS_TYPE_WELCOME, GraniteWidgetsWelcome);
	__g_list_free__g_object_unref0_0 (self->children);
	_g_object_unref0 (self->options);
	_g_object_unref0 (self->priv->title_label);
	_g_object_unref0 (self->priv->subtitle_label);
	G_OBJECT_CLASS (granite_widgets_welcome_parent_class)->finalize (obj);
}


/**
 * This class is for making a first-launch screen easily
 *
 * It can be used to create a list of one-time action items that need to be executed in order to setup the app. 
 *
 * {{../../doc/images/Welcome.png}}
 */
GType granite_widgets_welcome_get_type (void) {
	static volatile gsize granite_widgets_welcome_type_id__volatile = 0;
	if (g_once_init_enter (&granite_widgets_welcome_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (GraniteWidgetsWelcomeClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) granite_widgets_welcome_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GraniteWidgetsWelcome), 0, (GInstanceInitFunc) granite_widgets_welcome_instance_init, NULL };
		GType granite_widgets_welcome_type_id;
		granite_widgets_welcome_type_id = g_type_register_static (gtk_event_box_get_type (), "GraniteWidgetsWelcome", &g_define_type_info, 0);
		g_once_init_leave (&granite_widgets_welcome_type_id__volatile, granite_widgets_welcome_type_id);
	}
	return granite_widgets_welcome_type_id__volatile;
}


static void _vala_granite_widgets_welcome_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	GraniteWidgetsWelcome * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GRANITE_WIDGETS_TYPE_WELCOME, GraniteWidgetsWelcome);
	switch (property_id) {
		case GRANITE_WIDGETS_WELCOME_TITLE_PROPERTY:
		g_value_set_string (value, granite_widgets_welcome_get_title (self));
		break;
		case GRANITE_WIDGETS_WELCOME_SUBTITLE_PROPERTY:
		g_value_set_string (value, granite_widgets_welcome_get_subtitle (self));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}


static void _vala_granite_widgets_welcome_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	GraniteWidgetsWelcome * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GRANITE_WIDGETS_TYPE_WELCOME, GraniteWidgetsWelcome);
	switch (property_id) {
		case GRANITE_WIDGETS_WELCOME_TITLE_PROPERTY:
		granite_widgets_welcome_set_title (self, g_value_get_string (value));
		break;
		case GRANITE_WIDGETS_WELCOME_SUBTITLE_PROPERTY:
		granite_widgets_welcome_set_subtitle (self, g_value_get_string (value));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}



